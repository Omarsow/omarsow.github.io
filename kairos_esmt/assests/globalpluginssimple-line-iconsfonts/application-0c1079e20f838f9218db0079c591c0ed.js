!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function g(e){var t=e.length,n=h.type(e);return"function"===n||h.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function S(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(E.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}function A(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function _(e){var t=M[e]={};return h.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function P(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(T.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))}function H(){(T.addEventListener||"load"===event.type||"complete"===T.readyState)&&(P(),h.ready())}function q(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(I,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:F.test(n)?h.parseJSON(n):n}catch(i){}h.data(e,t,n)}else n=void 0}return n}function R(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function U(e,t,r,i){if(h.acceptData(e)){var s,o,u=h.expando,a=e.nodeType,f=a?h.cache:e,l=a?e[u]:e[u]&&u;if(l&&f[l]&&(i||f[l].data)||void 0!==r||"string"!=typeof t)return l||(l=a?e[u]=n.pop()||h.guid++:u),f[l]||(f[l]=a?{}:{toJSON:h.noop}),("object"==typeof t||"function"==typeof t)&&(i?f[l]=h.extend(f[l],t):f[l].data=h.extend(f[l].data,t)),o=f[l],i||(o.data||(o.data={}),o=o.data),void 0!==r&&(o[h.camelCase(t)]=r),"string"==typeof t?(s=o[t],null==s&&(s=o[h.camelCase(t)])):s=o,s}}function z(e,t,n){if(h.acceptData(e)){var r,i,s=e.nodeType,o=s?h.cache:e,u=s?e[h.expando]:h.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:(t=h.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!h.isEmptyObject(r))return}(n||(delete o[u].data,R(o[u])))&&(s?h.cleanData([e],!0):l.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function et(){return!0}function tt(){return!1}function nt(){try{return T.activeElement}catch(e){}}function rt(e){var t=it.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function wt(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||h.nodeName(r,t)?s.push(r):h.merge(s,wt(r,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],s):s}function Et(e){J.test(e.type)&&(e.defaultChecked=e.checked)}function St(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xt(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function Tt(e){var t=vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Nt(e,t){for(var n,r=0;null!=(n=e[r]);r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function Ct(e,t){if(1===t.nodeType&&h.hasData(e)){var n,r,i,s=h._data(e),o=h._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)h.event.add(t,n,u[n][r])}o.data&&(o.data=h.extend({},o.data))}}function kt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!l.noCloneEvent&&t[h.expando]){i=h._data(t);for(r in i.events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}"script"===n&&t.text!==e.text?(xt(t).text=e.text,Tt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),l.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&J.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Ot(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),s}function Mt(e){var t=T,n=At[e];return n||(n=Ot(e,t),"none"!==n&&n||(Lt=(Lt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Lt[0].contentWindow||Lt[0].contentDocument).document,t.write(),t.close(),n=Ot(e,t),Lt.detach()),At[e]=n),n}function jt(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function Vt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xt.length;while(i--)if(t=Xt[i]+n,t in e)return t;return r}function $t(e,t){for(var n,r,i,s=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(s[o]=h._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&V(r)&&(s[o]=h._data(r,"olddisplay",Mt(r.nodeName)))):(i=V(r),(n&&"none"!==n||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function Jt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Kt(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=h.css(e,n+X[s],!0,i)),r?("content"===n&&(o-=h.css(e,"padding"+X[s],!0,i)),"margin"!==n&&(o-=h.css(e,"border"+X[s]+"Width",!0,i))):(o+=h.css(e,"padding"+X[s],!0,i),"padding"!==n&&(o+=h.css(e,"border"+X[s]+"Width",!0,i)));return o}function Qt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=Pt(e),o=l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Ht(e,t,s),(0>i||null==i)&&(i=e.style[t]),Dt.test(i))return i;r=o&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Kt(e,t,n||(o?"border":"content"),r,s)+"px"}function Gt(e,t,n,r,i){return new Gt.prototype.init(e,t,n,r,i)}function on(){return setTimeout(function(){Yt=void 0}),Yt=h.now()}function un(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=X[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function an(e,t,n){for(var r,i=(sn[t]||[]).concat(sn["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,c,p=this,d={},v=e.style,m=e.nodeType&&V(e),g=h._data(e,"fxshow");n.queue||(u=h._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,h.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],f=h.css(e,"display"),c="none"===f?h._data(e,"olddisplay")||Mt(e.nodeName):f,"inline"===c&&"none"===h.css(e,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Mt(e.nodeName)?v.zoom=1:v.display="inline-block")),n.overflow&&(v.overflow="hidden",l.shrinkWrapBlocks()||p.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],en.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else f=void 0;if(h.isEmptyObject(d))"inline"===("none"===f?Mt(e.nodeName):f)&&(v.display=f);else{g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),s&&(g.hidden=!m),m?h(e).show():p.done(function(){h(e).hide()}),p.done(function(){var t;h._removeData(e,"fxshow");for(t in d)h.style(e,t,d[t])});for(r in d)o=an(m?g[r]:0,r,p),r in g||(g[r]=o.start,m&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function ln(e,t){var n,r,i,s,o;for(n in e)if(r=h.camelCase(n),i=t[r],s=e[n],h.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=h.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function cn(e,t,n){var r,i,s=0,o=rn.length,u=h.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=Yt||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yt||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(ln(l,f.opts.specialEasing);o>s;s++)if(r=rn[s].call(f,e,l,f.opts))return r;return h.map(l,an,f),h.isFunction(f.opts.start)&&f.opts.start.call(e,f),h.fx.timer(h.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Fn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(O)||[];if(h.isFunction(n))while(r=s[i++])"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function In(e,t,n,r){function o(u){var a;return i[u]=!0,h.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):void 0:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===Hn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function qn(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}function Rn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function Un(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Jn(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||Wn.test(e)?r(e,i):Jn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(i in t)Jn(e+"["+i+"]",t[i],n,r)}function Yn(){try{return new e.XMLHttpRequest}catch(t){}}function Zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ir(e){return h.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n=[],r=n.slice,i=n.concat,s=n.push,o=n.indexOf,u={},a=u.toString,f=u.hasOwnProperty,l={},c="1.11.2",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:c,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||h.isFunction(o)||(o={}),u===a&&(o=this,u--);a>u;u++)if(null!=(i=arguments[u]))for(r in i)e=o[r],n=i[r],o!==n&&(f&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,s=e&&h.isArray(e)?e:[]):s=e&&h.isPlainObject(e)?e:{},o[r]=h.extend(f,s,n)):void 0!==n&&(o[r]=n));return o},h.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(t in e)return f.call(e,t);for(t in e);return void 0===t||f.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[a.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(d,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=g(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(g(Object(e))?h.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(n>r)e[i++]=t[r++];if(n!==n)while(void 0!==t[r])e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,s=0,o=e.length,u=g(e),a=[];if(u)for(;o>s;s++)r=t(e[s],s,n),null!=r&&a.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return"string"==typeof t&&(s=e[t],t=e,e=s),h.isFunction(e)?(n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||h.guid++,i):void 0},now:function(){return+(new Date)},support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&v){if(11!==l&&(s=Z.exec(e)))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return D.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+gt(d[c]);S=et.test(e)&&vt(t.parentNode)||t,x=d.join(",")}if(x)try{return D.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function mt(){}function gt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n){for(var r=0,i=t.length;i>r;r++)ot(e,t[r],n);return n}function Et(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function St(e,t,n,r,i,s){return r&&!r[w]&&(r=St(r)),i&&!i[w]&&(i=St(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:Et(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=Et(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=Et(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function xt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];s>a;a++)if(n=r.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return St(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&xt(e.slice(a,i)),s>i&&xt(e=e.slice(i)),s>i&&gt(e))}h.push(n)}return bt(h)}function Tt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=M.call(a));y=Et(y)}D.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&ot.uniqueSort(a)}return l&&(S=E,f=b),g};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",R=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(R),J=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},it=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(st){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),v=!s(o),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(o.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(o.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",R)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===E&&b(E,e)?-1:t===o||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,u=[e],a=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?ct(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},o):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(nt,rt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return J.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)};return u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=xt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Tt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&vt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&gt(f),!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&vt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(B,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=h.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;i>t;t++)if(h.contains(r[t],this))return!0}));for(t=0;i>t;t++)h.find(e,r[t],n);return n=this.pushStack(i>1?h.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&b.test(e)?h(e):e||[],!1).length}});var x,T=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=h.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),w.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=T.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=T,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?"undefined"!=typeof x.ready?x.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};C.prototype=h.fn,x=h(T);var k=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!h(i).is(n)))1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=b.test(e)||"string"!=typeof e?h(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?h.unique(s):s)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=h.filter(r,i)),this.length>1&&(L[e]||(i=h.unique(i)),k.test(e)&&(i=i.reverse())),this.pushStack(i)}});var O=/\S+/g,M={};h.Callbacks=function(e){e="string"==typeof e?M[e]||_(e):h.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){for(n=e.memory&&c,r=!0,s=o||0,o=0,i=u.length,t=!0;u&&i>s;s++)if(u[s].apply(c[0],c[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(a?a.length&&f(a.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;!function s(t){h.each(t,function(t,n){var r=h.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),t?i=u.length:n&&(o=r,f(n))}return this},remove:function(){return u&&h.each(arguments,function(e,n){var r;while((r=h.inArray(n,u,r))>-1)u.splice(r,1),t&&(i>=r&&i--,s>=r&&s--)}),this},has:function(e){return e?h.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=a=n=void 0,this},disabled:function(){return!u},lock:function(){return a=void 0,n||l.disable(),this},locked:function(){return!a},fireWith:function(e,n){return!u||r&&!a||(n=n||[],n=[e,n.slice?n.slice():n],t?a.push(n):f(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,s){var o=h.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=r.call(arguments),i=n.length,s=1!==i||e&&h.isFunction(e.promise)?i:0,o=1===s?e:h.Deferred(),u=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?r.call(arguments):i,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)n[t]&&h.isFunction(n[t].promise)?n[t].promise().done(u(t,l,n)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,n),o.promise()}});var D;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(e===!0?!--h.readyWait:!h.isReady){if(!T.body)return setTimeout(h.ready);h.isReady=!0,e!==!0&&--h.readyWait>0||(D.resolveWith(T,[h]),h.fn.triggerHandler&&(h(T).triggerHandler("ready"),h(T).off("ready")))}}});h.ready.promise=function(t){if(!D)if(D=h.Deferred(),"complete"===T.readyState)setTimeout(h.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{T.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var n=!1;try{n=null==e.frameElement&&T.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!h.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}P(),h.ready()}}()}return D.promise(t)};var B="undefined",j;for(j in h(l))break;l.ownLast="0"!==j,l.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=T.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete e.test}catch(t){l.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?h.cache[e[h.expando]]:e[h.expando],!!e&&!R(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=h.data(s),1===s.nodeType&&!h._data(s,"parsedAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=h.camelCase(r.slice(5)),q(s,r,i[r])));h._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):s?q(s,e,h.data(s,e)):void 0},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),s=h._queueHooks(e,t),o=function(){h.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=h._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},$=h.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===h.type(n)){i=!0;for(u in n)h.access(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,h.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(h(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},J=/^(?:checkbox|radio)$/i;!function(){var e=T.createElement("input"),t=T.createElement("div"),n=T.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===t.firstChild.nodeType,l.tbody=!t.getElementsByTagName("tbody").length,l.htmlSerialize=!!t.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==T.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),l.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){l.noCloneEvent=!1}),t.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete t.test}catch(r){l.deleteExpando=!1}}}(),function(){var t,n,r=T.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(l[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),l[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var K=/^(?:input|select|textarea)$/i,Q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h._data(e);if(g){n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=h.guid++),(o=g.events)||(o=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof h===B||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(O)||[""],u=t.length;while(u--)s=Z.exec(t[u])||[],d=m=s[1],v=(s[2]||"").split(".").sort(),d&&(f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},c=h.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:v.join(".")},a),(p=o[d])||(p=o[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,v,l)!==!1||(e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l))),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),h.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h.hasData(e)&&h._data(e);if(g&&(l=g.events)){t=(t||"").match(O)||[""],f=t.length;while(f--)if(u=Z.exec(t[f])||[],d=m=u[1],v=(u[2]||"").split(".").sort(),d){c=h.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,p=l[d]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;while(s--)o=p[s],!i&&m!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(s,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));a&&!p.length&&(c.teardown&&c.teardown.call(e,v,g.handle)!==!1||h.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)h.event.remove(e,d+t[f],n,r,!0);h.isEmptyObject(l)&&(delete g.handle,h._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,o,u,a,l,c,p,d=[r||T],v=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(u=c=r=r||T,3!==r.nodeType&&8!==r.nodeType&&!Y.test(v+h.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),o=v.indexOf(":")<0&&"on"+v,t=t[h.expando]?t:new h.Event(v,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:h.makeArray(n,[t]),l=h.event.special[v]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!h.isWindow(r)){for(a=l.delegateType||v,Y.test(a+v)||(u=u.parentNode);u;u=u.parentNode)d.push(u),c=u;c===(r.ownerDocument||T)&&d.push(c.defaultView||c.parentWindow||e)}p=0;while((u=d[p++])&&!t.isPropagationStopped())t.type=p>1?a:l.bindType||v,s=(h._data(u,"events")||{})[t.type]&&h._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&h.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());if(t.type=v,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&h.acceptData(r)&&o&&r[v]&&!h.isWindow(r)){c=r[o],c&&(r[o]=null),h.event.triggered=v;try{r[v]()}catch(g){}h.event.triggered=void 0,c&&(r[o]=c)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,s,o,u=[],a=r.call(arguments),f=(h._data(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=h.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((h.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(i=[],s=0;u>s;s++)r=t[s],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?h(n,this).index(a)>=0:h.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=G.test(i)?this.mouseHooks:Q.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new h.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||T),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||T,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===nt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===B&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?et:tt):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void (this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=et,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=et,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=et,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!h.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),l.submitBubbles||(h.event.special.submit={setup:function(){return h.nodeName(this,"form")?!1:void h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:void 0;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return h.nodeName(this,"form")?!1:void h.event.remove(this,"._submit")}}),l.changeBubbles||(h.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)})),!1):void h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=tt;else if(!r)return this;return 1===i&&(o=r,r=function(e){return h().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=tt),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?h.event.trigger(e,t,n,!0):void 0}});var it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",st=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+it+")[\\s/>]","i"),ut=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ft=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,vt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(T),bt=yt.appendChild(T.createElement("div"));gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;h.extend({clone:function(e,t,n){var r,i,s,o,u,a=h.contains(e.ownerDocument,e);if(l.html5Clone||h.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(bt.innerHTML=e.outerHTML,bt.removeChild(s=bt.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(r=wt(s),u=wt(e),o=0;null!=(i=u[o]);++o)r[o]&&kt(i,r[o]);if(t)if(n)for(u=u||wt(e),r=r||wt(s),o=0;null!=(i=u[o]);o++)Ct(i,r[o]);else Ct(e,s);return r=wt(s,"script"),r.length>0&&Nt(r,!a&&wt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,u,a,f,c,p=e.length,d=rt(t),v=[],m=0;p>m;m++)if(s=e[m],s||0===s)if("object"===h.type(s))h.merge(v,s.nodeType?[s]:s);else if(ct.test(s)){u=u||d.appendChild(t.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,u.innerHTML=c[1]+s.replace(at,"<$1></$2>")+c[2],i=c[0];while(i--)u=u.lastChild;if(!l.leadingWhitespace&&ut.test(s)&&v.push(t.createTextNode(ut.exec(s)[0])),!l.tbody){s="table"!==a||lt.test(s)?"<table>"!==c[1]||lt.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)h.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}h.merge(v,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=d.lastChild}else v.push(t.createTextNode(s));u&&d.removeChild(u),l.appendChecked||h.grep(wt(v,"input"),Et),m=0;while(s=v[m++])if((!r||-1===h.inArray(s,r))&&(o=h.contains(s.ownerDocument,s),u=wt(d.appendChild(s),"script"),o&&Nt(u),n)){i=0;while(s=u[i++])dt.test(s.type||"")&&n.push(s)}return u=null,d},cleanData:function(e,t){for(var r,i,s,o,u=0,a=h.expando,f=h.cache,c=l.deleteExpando,p=h.event.special;null!=(r=e[u]);u++)if((t||h.acceptData(r))&&(s=r[a],o=s&&f[s])){if(o.events)for(i in o.events)p[i]?h.event.remove(r,i):h.removeEvent(r,i,o.handle);f[s]&&(delete f[s],c?delete r[a]:typeof r.removeAttribute!==B?r.removeAttribute(a):r[a]=null,n.push(s))}}}),h.fn.extend({text:function(e){return $(this,function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?h.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||h.cleanData(wt(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&Nt(wt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&h.cleanData(wt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(st,""):void 0;if(!("string"!=typeof e||ht.test(e)||!l.htmlSerialize&&ot.test(e)||!l.leadingWhitespace&&ut.test(e)||gt[(ft.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(at,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(h.cleanData(wt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(wt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,s,o,u,a,f=0,c=this.length,p=this,d=c-1,v=e[0],m=h.isFunction(v);if(m||c>1&&"string"==typeof v&&!l.checkClone&&pt.test(v))return this.each(function(n){var r=p.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)});if(c&&(a=h.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=h.map(wt(a,"script"),xt),s=o.length;c>f;f++)r=a,f!==d&&(r=h.clone(r,!0,!0),s&&h.merge(o,wt(r,"script"))),t.call(this[f],r,f);if(s)for(u=o[o.length-1].ownerDocument,h.map(o,Tt),f=0;s>f;f++)r=o[f],dt.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(u,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(mt,"")));a=n=null}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=0,i=[],o=h(e),u=o.length-1;u>=r;r++)n=r===u?this:this.clone(!0),h(o[r])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Lt,At={};!function(){var e;l.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=T.getElementsByTagName("body")[0],n&&n.style?(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(T.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var _t=/^margin/,Dt=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pt,Ht,Bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Pt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||h.contains(e.ownerDocument,e)||(o=h.style(e,t)),Dt.test(o)&&_t.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0===o?o:o+""}):T.documentElement.currentStyle&&(Pt=function(e){return e.currentStyle},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n[t]:void 0,null==o&&u&&u[t]&&(o=u[t]),Dt.test(o)&&!Bt.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),void 0===o?o:o+""||"auto"});!function(){var t,n,r,i,s,o,u;if(t=T.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style){n.cssText="float:left;opacity:.5",l.opacity="0.5"===n.opacity,l.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===t.style.backgroundClip,l.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,h.extend(l,{reliableHiddenOffsets:function(){return null==o&&a(),o},boxSizingReliable:function(){return null==s&&a(),s},pixelPosition:function(){return null==i&&a(),i},reliableMarginRight:function(){return null==u&&a(),u}});function a(){var t,n,r,a;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(T.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight),t.removeChild(a)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===a[0].offsetHeight,o&&(a[0].style.display="",a[1].style.display="none",o=0===a[0].offsetHeight),n.removeChild(r))}}}(),h.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var Ft=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,qt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+W+")(.*)$","i"),Ut=new RegExp("^([+-])=("+W+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=h.camelCase(t),a=e.style;if(t=h.cssProps[u]||(h.cssProps[u]=Vt(a,u)),o=h.cssHooks[t]||h.cssHooks[u],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:a[t];if(s=typeof n,"string"===s&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||h.cssNumber[u]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{a[t]=n}catch(f){}}},css:function(e,t,n,r){var i,s,o,u=h.camelCase(t);return t=h.cssProps[u]||(h.cssProps[u]=Vt(e.style,u)),o=h.cssHooks[t]||h.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=Ht(e,t,r)),"normal"===s&&t in Wt&&(s=Wt[t]),""===n||n?(i=parseFloat(s),n===!0||h.isNumeric(i)?i||0:s):s}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){return n?qt.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,zt,function(){return Qt(e,t,r)}):Qt(e,t,r):void 0},set:function(e,n,r){var i=r&&Pt(e);return Jt(e,n,r?Kt(e,t,r,l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}}),l.opacity||(h.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===h.trim(s.replace(Ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ft.test(s)?s.replace(Ft,i):s+" "+i)}}),h.cssHooks.marginRight=jt(l.reliableMarginRight,function(e,t){return t?h.swap(e,{display:"inline-block"},Ht,[e,"marginRight"]):void 0}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+X[r]+t]=s[r]||s[r-2]||s[0];return i}},_t.test(e)||(h.cssHooks[e+t].set=Jt)}),h.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,s={},o=0;if(h.isArray(t)){for(r=Pt(e),i=t.length;i>o;o++)s[t[o]]=h.css(e,t[o],!1,r);return s}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?h(this).show():h(this).hide()})}});h.Tween=Gt,Gt.prototype={constructor:Gt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(h.cssNumber[n]?"":"px")},cur:function(){var e=Gt.propHooks[this.prop];return e&&e.get?e.get(this):Gt.propHooks._default.get(this)},run:function(e){var t,n=Gt.propHooks[this.prop];return this.pos=t=this.options.duration?h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}},Gt.prototype.init.prototype=Gt.prototype,Gt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Gt.propHooks.scrollTop=Gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Gt.prototype.init,h.fx.step={};var Yt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[fn],sn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tn.exec(t),s=i&&i[3]||(h.cssNumber[e]?"":"px"),o=(h.cssNumber[e]||"px"!==s&&+r)&&tn.exec(h.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,h.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};h.Animation=h.extend(cn,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),s=h.speed(t,n,r),o=function(){var t=cn(this,h.extend({},e),s);(i||h._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=h.timers,o=h._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=h.timers,o=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),h.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;for(Yt=h.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||h.fx.stop(),Yt=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Zt||(Zt=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Zt),Zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx?h.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=T.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=T.createElement("select"),i=n.appendChild(T.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",l.getSetAttribute="t"!==t.className,l.style=/top/.test(r.getAttribute("style")),l.hrefNormalized="/a"===r.getAttribute("href"),l.checkOn=!!e.value,l.optSelected=i.selected,l.enctype=!!T.createElement("form").enctype,n.disabled=!0,l.optDisabled=!i.disabled,e=T.createElement("input"),e.setAttribute("value",""),l.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),l.radioValue="t"===e.value}();var hn=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=h.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,h(this).val()):e,null==i?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,function(e){return null==e?"":e+""})),t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(hn,""):null==n?"":n)}}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(l.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=h.makeArray(t),o=i.length;while(o--)if(r=i[o],h.inArray(h.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},l.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pn,dn,vn=h.expr.attrHandle,mn=/^(?:checked|selected)$/i,gn=l.getSetAttribute,yn=l.input;h.fn.extend({attr:function(e,t){return $(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===B?h.prop(e,t,n):(1===s&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?dn:pn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=h.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void h.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(O);if(s&&1===e.nodeType)while(n=s[i++])r=h.propFix[n]||n,h.expr.match.bool.test(n)?yn&&gn||!mn.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(gn?n:r)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),dn={set:function(e,t,n){return t===!1?h.removeAttr(e,n):yn&&gn||!mn.test(n)?e.setAttribute(!gn&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vn[t]||h.find.attr;vn[t]=yn&&gn||!mn.test(t)?function(e,t,r){var i,s;return r||(s=vn[t],vn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,vn[t]=s),i}:function(e,t,n){return n?void 0:e[h.camelCase("default-"+t)]?t.toLowerCase():null}}),yn&&gn||(h.attrHooks.value={set:function(e,t,n){return h.nodeName(e,"input")?void (e.defaultValue=t):pn&&pn.set(e,t,n)}}),gn||(pn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},vn.id=vn.name=vn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:pn.set},h.attrHooks.contenteditable={set:function(e,t,n){pn.set(e,""===t?!1:t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),l.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bn=/^(?:input|select|textarea|button|object)$/i,wn=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return $(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!h.isXMLDoc(e),s&&(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bn.test(e.nodeName)||wn.test(e.nodeName)&&e.href?0:-1}}}}),l.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),l.enctype||(h.propFix.enctype="encoding");var En=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f="string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):" ")){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=h.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=0===arguments.length||"string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?h.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n){var t,r=0,i=h(this),s=e.match(O)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else(n===B||"boolean"===n)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||e===!1?"":h._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(En," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Sn=h.now(),xn=/\?/,Tn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(Tn,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),n};var Nn,Cn,kn=/#.*$/,Ln=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Dn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pn={},Hn={},Bn="*/".concat("*");try{Cn=location.href}catch(jn){Cn=T.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Dn.exec(Cn.toLowerCase())||[];h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qn(qn(e,h.ajaxSettings),t):qn(h.ajaxSettings,e)},ajaxPrefilter:Fn(Pn),ajaxTransport:Fn(Hn),ajax:function(e,t){function x(e,t,n,r){var f,g,y,w,S,x=t;2!==b&&(b=2,o&&clearTimeout(o),a=void 0,s=r||"",E.readyState=e>0?4:0,f=e>=200&&300>e||304===e,n&&(w=Rn(l,E,n)),w=Un(l,w,E,f),f?(l.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(h.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(h.etag[i]=S)),204===e||"HEAD"===l.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,f=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),E.status=e,E.statusText=(t||x)+"",f?d.resolveWith(c,[g,x,E]):d.rejectWith(c,[E,x,y]),E.statusCode(m),m=void 0,u&&p.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?g:y]),v.fireWith(c,[E,x]),u&&(p.trigger("ajaxComplete",[E,l]),--h.active||h.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,s,o,u,a,f,l=h.ajaxSetup({},t),c=l.context||l,p=l.context&&(c.nodeType||c.jquery)?h(c):h.event,d=h.Deferred(),v=h.Callbacks("once memory"),m=l.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f){f={};while(t=An.exec(s))f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),x(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Cn)+"").replace(kn,"").replace(_n,Nn[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(O)||[""],null==l.crossDomain&&(n=Dn.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Nn[1]&&n[2]===Nn[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=h.param(l.data,l.traditional)),In(Pn,l,t,E),2===b)return E;u=h.event&&l.global,u&&0===h.active++&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mn.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(xn.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ln.test(i)?i.replace(Ln,"$1_="+Sn++):i+(xn.test(i)?"&":"?")+"_="+Sn++)),l.ifModified&&(h.lastModified[i]&&E.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&E.setRequestHeader("If-None-Match",h.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Bn+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)E.setRequestHeader(r,l.headers[r]);if(l.beforeSend&&(l.beforeSend.call(c,E,l)===!1||2===b))return E.abort();w="abort";for(r in{success:1,error:1,complete:1})E[r](l[r]);if(a=In(Hn,l,t,E)){E.readyState=1,u&&p.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{b=1,a.send(g,x)}catch(S){if(!(2>b))throw S;x(-1,S)}}else x(-1,"No Transport");return E},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=void 0),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||h.css(e,"display"))},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zn=/%20/g,Wn=/\[\]$/,Xn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Jn(n,e[n],t,i);return r.join("&").replace(zn,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&$n.test(this.nodeName)&&!Vn.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Yn()||Zn()}:Yn;var Kn=0,Qn={},Gn=h.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qn)Qn[e](void 0,!0)}),l.cors=!!Gn&&"withCredentials"in Gn,Gn=l.ajax=!!Gn,Gn&&h.ajaxTransport(function(e){if(!e.crossDomain||l.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Kn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||4===s.readyState))if(delete Qn[o],t=void 0,s.onreadystatechange=h.noop,i)4!==s.readyState&&s.abort();else{f={},u=s.status,"string"==typeof s.responseText&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Qn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=T.head||h("head")[0]||T.documentElement;return{send:function(r,i){t=T.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var er=[],tr=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||h.expando+"_"+Sn++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(tr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(tr,"$1"+i):t.jsonp!==!1&&(t.url+=(xn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||h.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,er.push(i)),o&&h.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||T;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var nr=h.fn.load;h.fn.load=function(e,t,n){if("string"!=typeof e&&nr)return nr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=h.trim(e.slice(u,e.length)),e=e.slice(0,u)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&h.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var rr=e.document.documentElement;h.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=h.css(e,"position"),c=h(e),p={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=h.css(e,"top"),a=h.css(e,"left"),f=("absolute"===l||"fixed"===l)&&h.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),h.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(p.top=t.top-u.top+o),null!=t.left&&(p.left=t.left-u.left+i),"using"in t?t.using.call(e,p):c.css(p)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return t=s.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),n=ir(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===h.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||rr;while(e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position"))e=e.offsetParent;return e||rr})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return $(this,function(e,r,i){var s=ir(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void (s?s.scrollTo(n?h(s).scrollLeft():i,n?i:h(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=jt(l.pixelPosition,function(e,n){return n?(n=Ht(e,t),Dt.test(n)?h(e).position()[t]+"px":n):void 0})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return $(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?h.css(t,n,o):h.style(t,n,r,o)},t,s?r:void 0,s,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var sr=e.jQuery,or=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=or),t&&e.jQuery===h&&(e.jQuery=sr),h},typeof t===B&&(e.jQuery=e.$=h),h});jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;s[n]||(s[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,i,s,o){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(o),s},set:function(e){r(o),s=e}}),n}catch(u){}e._definePropertyBroken=!0,t[i]=s}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,u=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},f=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;i(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,s,a){var f=i.toLowerCase(),d=t&&t.nodeType;return a&&(4>u.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!c.test(d)&&(o?i in o:e.isFunction(e.fn[i])))?e(t)[i](s):("type"===i&&s!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[f]&&h.test(f)&&(e.attrHooks[f]={get:function(t,r){var i,s=e.prop(t,r);return s===!0||"boolean"!=typeof s&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(f)&&r("jQuery.fn.attr('"+f+"') may use property instead of attribute")),u.call(e,t,i,s))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?a.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?f.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var d,v,m=e.fn.init,g=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var s;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(s=y.exec(e.trim(t)))&&s[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),s[3]&&r("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(s[2],n,!0),n,i):m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?g.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(d=e.uaMatch(navigator.userAgent),v={},d.browser&&(v[d.browser]=!0,v.version=d.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var i,s,o=this[0];return!o||"events"!==t||1!==arguments.length||(i=e.data(o,t),s=e._data(o,t),i!==n&&i!==s||s===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),s)};var w=/\/(java|ecma)script/i,E=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),E.apply(this,arguments)},e.clean||(e.clean=function(t,i,s,o){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,r("jQuery.clean() is deprecated");var u,a,f,l,c=[];if(e.merge(c,e.buildFragment(t,i).childNodes),s)for(f=function(e){return!e.type||w.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):s.appendChild(e):n},u=0;null!=(a=c[u]);u++)e.nodeName(a,"script")&&f(a)||(s.appendChild(a),a.getElementsByTagName!==n&&(l=e.grep(e.merge([],a.getElementsByTagName("script")),f),c.splice.apply(c,[u+1,0].concat(l)),u+=l.length));return c});var S=e.event.add,x=e.event.remove,T=e.event.trigger,N=e.fn.toggle,C=e.fn.live,k=e.fn.die,L="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+L+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,M=function(t){return"string"!=typeof t||e.event.special.hover?t:(O.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,s){e!==document&&A.test(t)&&r("AJAX events should be attached to document: "+t),S.call(this,e,M(t||""),n,i,s)},e.event.remove=function(e,t,n,r,i){x.call(this,e,M(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,s=t.guid||e.guid++,o=0,u=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(u.guid=s;i.length>o;)i[o++].guid=s;return this.click(u)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),C?C.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||A.test(e)||r("Global events are undocumented and deprecated"),T.call(this,e,t,n||document,i)},e.each(L.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,r){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function r(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function u(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}function a(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}};var f=0,l=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){return e.isFunction(r)?(a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}(),void 0):(a[t]=r,void 0)}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,i=l.call(arguments,1),s=0,o=i.length;o>s;s++)for(n in i[s])r=i[s][n],i[s].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(i){var s="string"==typeof i,o=l.call(arguments,1),u=this;return i=!s&&o.length?e.widget.extend.apply(null,[i].concat(o)):i,s?this.each(function(){var n,s=e.data(this,r);return"instance"===i?(u=s,!1):s?e.isFunction(s[i])&&"_"!==i.charAt(0)?(n=s[i].apply(s,o),n!==s&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+i+"'")}):this.each(function(){var t=e.data(this,r);t?(t.option(i||{}),t._init&&t._init()):e.data(this,r,new n(i,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(i=o[t]=e.widget.extend({},this.options[t]),s=0;r.length-1>s;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget;var c=!1;e(document).mouseup(function(){c=!1}),e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,s,o=Math.max,u=Math.abs,a=Math.round,f=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var p,v,m,g,y,b,w=e(i.of),E=e.position.getWithinInfo(i.within),S=e.position.getScrollInfo(E),x=(i.collision||"flip").split(" "),T={};return b=r(w),w[0].preventDefault&&(i.at="left top"),v=b.width,m=b.height,g=b.offset,y=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=f.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=f.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),T[this]=[e?e[0]:0,t?t[0]:0],i[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?y.left+=v:"center"===i.at[0]&&(y.left+=v/2),"bottom"===i.at[1]?y.top+=m:"center"===i.at[1]&&(y.top+=m/2),p=t(T.at,v,m),y.left+=p[0],y.top+=p[1],this.each(function(){var r,f,l=e(this),c=l.outerWidth(),h=l.outerHeight(),d=n(this,"marginLeft"),b=n(this,"marginTop"),N=c+d+n(this,"marginRight")+S.width,C=h+b+n(this,"marginBottom")+S.height,L=e.extend({},y),A=t(T.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?L.left-=c:"center"===i.my[0]&&(L.left-=c/2),"bottom"===i.my[1]?L.top-=h:"center"===i.my[1]&&(L.top-=h/2),L.left+=A[0],L.top+=A[1],s||(L.left=a(L.left),L.top=a(L.top)),r={marginLeft:d,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](L,{targetWidth:v,targetHeight:m,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:N,collisionHeight:C,offset:[p[0]+A[0],p[1]+A[1]],my:i.my,at:i.at,within:E,elem:l})}),i.using&&(f=function(e){var t=g.left-L.left,n=t+v-c,r=g.top-L.top,s=r+m-h,a={target:{element:w,left:g.left,top:g.top,width:v,height:m},element:{element:l,left:L.left,top:L.top,width:c,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};c>v&&v>u(t+n)&&(a.horizontal="center"),h>m&&m>u(r+s)&&(a.vertical="middle"),a.important=o(u(t),u(n))>o(u(r),u(s))?"horizontal":"vertical",i.using.call(this,e,a)}),l.offset(e.extend(L,{using:f}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,u=e.left-t.collisionPosition.marginLeft,a=i-u,f=u+t.collisionWidth-s-i;t.collisionWidth>s?a>0&&0>=f?(n=e.left+a+t.collisionWidth-s-i,e.left+=a-n):e.left=f>0&&0>=a?i:a>f?i+s-t.collisionWidth:i:a>0?e.left+=a:f>0?e.left-=f:e.left=o(e.left-u,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,u=e.top-t.collisionPosition.marginTop,a=i-u,f=u+t.collisionHeight-s-i;t.collisionHeight>s?a>0&&0>=f?(n=e.top+a+t.collisionHeight-s-i,e.top+=a-n):e.top=f>0&&0>=a?i:a>f?i+s-t.collisionHeight:i:a>0?e.top+=a:f>0?e.top-=f:e.top=o(e.top-u,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,s=i.offset.left+i.scrollLeft,o=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,f=e.left-t.collisionPosition.marginLeft,l=f-a,c=f+t.collisionWidth-o-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];0>l?(n=e.left+h+p+d+t.collisionWidth-o-s,(0>n||u(l)>n)&&(e.left+=h+p+d)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+d-a,(r>0||c>u(r))&&(e.left+=h+p+d))},top:function(e,t){var n,r,i=t.within,s=i.offset.top+i.scrollTop,o=i.height,a=i.isWindow?i.scrollTop:i.offset.top,f=e.top-t.collisionPosition.marginTop,l=f-a,c=f+t.collisionHeight-o-a,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,v=-2*t.offset[1];0>l?(r=e.top+p+d+v+t.collisionHeight-o-s,e.top+p+d+v>l&&(0>r||u(l)>r)&&(e.top+=p+d+v)):c>0&&(n=e.top-t.collisionPosition.marginTop+p+d+v-a,e.top+p+d+v>c&&(n>0||c>u(n))&&(e.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,o,u=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(u?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in r)t.style[o]=r[o];t.appendChild(a),n=u||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=e(a).offset().left,s=i>10&&11>i,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===i.containment?(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):i.containment.constructor===Array?(this.containment=i.containment,void 0):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,s,o=this.options,u=this._isRootNode(this.scrollParent[0]),a=e.pageX,f=e.pageY;return u&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(a=this.originalPageX),"x"===o.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],u=r.document[0];o!==u&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(u).scrollTop()<i.scrollSensitivity?s=e(u).scrollTop(e(u).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(u).scrollTop())<i.scrollSensitivity&&(s=e(u).scrollTop(e(u).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(u).scrollLeft()<i.scrollSensitivity?s=e(u).scrollLeft(e(u).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(u).scrollLeft())<i.scrollSensitivity&&(s=e(u).scrollLeft(e(u).scrollLeft()+i.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)a=r.snapElements[h].left-r.margins.left,f=a+r.snapElements[h].width,l=r.snapElements[h].top-r.margins.top,c=l+r.snapElements[h].height,a-v>g||m>f+v||l-v>b||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=v>=Math.abs(l-b),s=v>=Math.abs(c-y),o=v>=Math.abs(a-g),u=v>=Math.abs(f-m),i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left)),p=i||s||o||u,"outer"!==d.snapMode&&(i=v>=Math.abs(l-y),s=v>=Math.abs(c-b),o=v>=Math.abs(a-m),u=v>=Math.abs(f-g),i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||s||o||u||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(i=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,u=s+t.helperProportions.width,a=o+t.helperProportions.height,f=n.offset.left,l=n.offset.top,c=f+n.proportions().width,h=l+n.proportions().height;switch(r){case"fit":return s>=f&&c>=u&&o>=l&&h>=a;case"intersect":return s+t.helperProportions.width/2>f&&c>u-t.helperProportions.width/2&&o+t.helperProportions.height/2>l&&h>a-t.helperProportions.height/2;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,f,n.proportions().width);case"touch":return(o>=l&&h>=o||a>=l&&h>=a||l>o&&a>h)&&(s>=f&&c>=s||u>=f&&c>=u||f>s&&u>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;s.length>r;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(i=0;u.length>i;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance,n),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),s.length&&(r=e(s[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,n),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,s,o=this,u=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){u.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){u.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,s=this.axis,o=t.pageX-i.left||0,u=t.pageY-i.top||0,a=this._change[s];return this._updatePrevProperties(),a?(n=a.apply(this,[t,o,u]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>i&&(s.maxHeight=i)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,s,o,u,a=e(this).resizable("instance"),f=a.options,l=a.element,c=f.containment,h=c instanceof e?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=a._num(t.css("padding"+r))}),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=a.containerOffset,i=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:s,u=a._hasScroll(h)?h.scrollHeight:i,a.parentData={element:h,left:r.left,top:r.top,width:o,height:u}))},resize:function(t){var n,r,i,s,o=e(this).resizable("instance"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):e.each(i.alsoResize,function(e,t){a(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,s=n.originalSize,o=n.originalPosition,u=n.axis,a="number"==typeof r.grid?[r.grid,r.grid]:r.grid,f=a[0]||1,l=a[1]||1,c=Math.round((i.width-s.width)/f)*f,h=Math.round((i.height-s.height)/l)*l,p=s.width+c,d=s.height+h,v=r.maxWidth&&p>r.maxWidth,m=r.maxHeight&&d>r.maxHeight,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>d;r.grid=a,g&&(p+=f),y&&(d+=l),v&&(p-=f),m&&(d-=l),/^(se|s|e)$/.test(u)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.top=o.top-h):/^(sw)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.left=o.left-c):((0>=d-l||0>=p-f)&&(t=n._getPaddingPlusBorderDimensions(this)),d-l>0?(n.size.height=d,n.position.top=o.top-h):(d=l-t.height,n.size.height=d,n.position.top=o.top+s.height-d),p-f>0?(n.size.width=p,n.position.left=o.left-c):(p=l-t.height,n.size.width=p,n.position.left=o.left+s.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?f=!(n.left>u||s>n.right||n.top>a||o>n.bottom):"fit"===i.tolerance&&(f=n.left>s&&u>n.right&&n.top>o&&a>n.bottom),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c="x"===this.options.axis||r+f>u&&a>r+f,h="y"===this.options.axis||t+l>s&&o>t+l,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){u.push(this)}var r,i,s,o,u=[],a=[],f=this._connectWith();if(f&&t)for(r=f.length-1;r>=0;r--)for(s=e(f[r]),i=s.length-1;i>=0;i--)o=e.data(s[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=a.length-1;r>=0;r--)a[r][0].each(n);return e(u)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,s=null,l=h.floating||this._isFloating(this.currentItem),o=l?"left":"top",u=l?"width":"height",c=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(a=this.items[r].item.offset()[o],f=!1,t[c]-a>this.items[r][u]/2&&(f=!0),i>Math.abs(t[c]-a)&&(i=Math.abs(t[c]-a),s=this.items[r],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,r=n.heightStyle,i=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),i=r.uniqueId().attr("id");t.attr("aria-controls",i),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=i.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault(),s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1||(n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr("aria-selected","false"),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,n){var r,i,s,o=this,u=0,a=e.length&&(!t.length||e.index()<t.index()),f=this.options.animate||{},l=a&&f.down||f,c=function(){o._toggleComplete(n)};return"number"==typeof l&&(s=l),"string"==typeof l&&(i=l),i=i||l.easing||f.easing,s=s||l.duration||f.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:i,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:s,easing:i,complete:c,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?u+=n.now:"content"!==o.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-u),u=0)}}),void 0):t.animate(this.hideProps,s,i,c):e.animate(this.showProps,s,i,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,n=this._filterMenuItems(i),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,r=this,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=s.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.outerHeight(),0>i?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-r-i}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,r,i;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s="textarea"===i,o="input"===i;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,n=!0,void 0;t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()})})},menufocus:function(t,n){var r,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),r=n.item.attr("aria-label")||i.value,r&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var h,p="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",v=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},m=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,v),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];m(r).not(r).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(e(this).addClass("ui-state-active"),h=this,t.document.one("mouseup",function(){h=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return n.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?m(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(d),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.2"}});var g;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return u(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),("focus"===r||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,s){var o,a,f,l,c,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),u(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,f=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,f/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,s,o,a,f=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):f?"all"===n?e.extend({},f.settings):this._get(f,n):null:(i=n||{},"string"==typeof n&&(i={},i[n]=r),f&&(this._curInst===f&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),a=this._getMinMaxDate(f,"max"),u(f.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(f.settings.maxDate=this._formatDate(f,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),f),this._autoSize(f),this._setDate(f,s),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!n||n.indexOf(r)>-1):void 0},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,s,o,a,f,l;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),s=i?i.apply(t,[t,n]):{},s!==!1&&(u(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(f=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",r(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[f]?n.dpDiv.show(f,e.datepicker._get(n,"showOptions"),l):n.dpDiv[f||"show"](f?l:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,g=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],s=17,u=t.dpDiv.find("."+this._dayOverClass+" a");u.length>0&&o.apply(u.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),i=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),r,i):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var i,s,o,u,a=0,f=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof f?f:(new Date).getFullYear()%100+parseInt(f,10),c=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,d=(r?r.monthNames:null)||this._defaults.monthNames,v=-1,m=-1,g=-1,y=-1,b=!1,w=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},E=function(e){var t=w(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?r:1,s=RegExp("^\\d{"+i+","+r+"}"),o=n.substring(a).match(s);if(!o)throw"Missing number at position "+a;return a+=o[0].length,parseInt(o[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var r=t[1];return n.substr(a,r.length).toLowerCase()===r.toLowerCase()?(s=t[0],a+=r.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+a},x=function(){if(n.charAt(a)!==t.charAt(i))throw"Unexpected literal at position "+a;a++};for(i=0;t.length>i;i++)if(b)"'"!==t.charAt(i)||w("'")?x():b=!1;else switch(t.charAt(i)){case"d":g=E("d");break;case"D":S("D",c,h);break;case"o":y=E("o");break;case"m":m=E("m");break;case"M":m=S("M",p,d);break;case"y":v=E("y");break;case"@":u=new Date(E("@")),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"!":u=new Date((E("!")-this._ticksTo1970)/1e4),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(n.length>a&&(o=n.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===v?v=(new Date).getFullYear():100>v&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=v?0:-100)),y>-1)for(m=1,g=y;;){if(s=this._getDaysInMonth(v,m-1),s>=g)break;m++,g-=s}if(u=this._daylightSavingAdjust(new Date(v,m-1,g)),u.getFullYear()!==v||u.getMonth()+1!==m||u.getDate()!==g)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))for(;n>r.length;)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||a("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);f;){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=7*parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=null==n||""===n?r:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&"Invalid Date"==""+o?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(0>Z&&(Z+=12,et--),Y)for(t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",S=0;V[0]>S;S++){for(x="",this.maxRows=4,T=0;V[1]>T;T++){if(N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===S?U?s:r:"")+(/all|right/.test(C)&&0===S?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)A=(E+l)%7,L+="<th scope='col'"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M)),H=0;D>H;H++){for(k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",E=0;7>E;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&G>P||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!a||l>=r.getMonth())&&(!f||i.getMonth()>=l)&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&g?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.2",e.datepicker,e.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(i){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,i);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(n,function(n,r){var i,s;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},s={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,i){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",r,t(i))},drag:function(e,r){n._trigger("drag",e,t(r))},stop:function(i,s){var o=s.offset.left-n.document.scrollLeft(),u=s.offset.top-n.document.scrollTop();r.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(u>=0?"+":"")+u,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",i,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,r=this.options,i=r.resizable,s=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(r,i){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",r,t(i))},resize:function(e,r){n._trigger("resize",e,t(r))},stop:function(i,s){var o=n.uiDialog.offset(),u=o.left-n.document.scrollLeft(),a=o.top-n.document.scrollTop();r.height=n.uiDialog.height(),r.width=n.uiDialog.width(),r.position={my:"left top",at:"left"+(u>=0?"+":"")+u+" "+"top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",i,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=i.is(":data(ui-draggable)"),n&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,n=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var r=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var r=this,i="";e.each(n,function(n,s){s.optgroup!==i&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),i=s.optgroup),r._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var r=e("<li>");return n.disabled&&r.addClass("ui-state-disabled"),this._setText(r,n.label),r.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,r,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),i+=":not(.ui-state-disabled)"),r="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0),r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,r){var i=e(r),s=i.parent("optgroup");n.push({element:i,index:t,value:i.attr("value"),label:i.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||i.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=n,s=e(this),o=t)}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var r,i,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],s=0;r.length>s;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-e},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=100*((a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())),l["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&("horizontal"===a.orientation?(0===r&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(0===r&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?100*((r-i)/(s-i)):0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),"max"===o&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),"max"===o&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var n,r,i,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,o),n===!1))return}switch(s=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-s)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r}))}var r;r=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=null!==r.min?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&r.min>e?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(n)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:a(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:a(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:a(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:a(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(a(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,r;t=t.cloneNode(!1),n=t.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(i){}try{r=decodeURIComponent(r)}catch(i){}return t.hash.length>1&&n===r}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,i){return e(i).attr("aria-controls")===r?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(r),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function r(){return t>i&&(t=0),0>t&&(t=i),t}for(var i=this.tabs.length-1;-1!==e.inArray(r(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,s,o,u=e(r).uniqueId().attr("id"),a=e(r).closest("li"),f=a.attr("aria-controls");t._isLocal(r)?(i=r.hash,o=i.substring(1),s=t.element.find(t._sanitizeSelector(i))):(o=a.attr("aria-controls")||e({}).uniqueId()[0].id,i="#"+o,s=t.element.find(i),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),f&&a.data("ui-tabs-aria-controls",f),a.attr({"aria-controls":o,"aria-labelledby":u}),s.attr("aria-labelledby",u)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)t===!0||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1||(n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),f.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l))},_toggle:function(t,n){function r(){s.running=!1,s._trigger("activate",t,n)}function i(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,r):(o.show(),r())}var s=this,o=n.newPanel,u=n.oldPanel;this.running=!0,u.length&&this.options.hide?this._hide(u,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u.hide(),i()),u.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&u.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),s=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),u={tab:i,panel:o};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,u)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),r._trigger("load",n,u)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;return"disabled"===t?(this[n?"_disable":"_enable"](),this.options[t]=n,void 0):(this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;return"string"==typeof r?this._open(t,e,r):(n=r.call(e[0],function(n){e.data("ui-tooltip-open")&&i._delay(function(){t&&(t.type=s),this._open(t,e,n)})}),n&&this._open(t,e,n),void 0)},_open:function(t,n,r){function i(e){l.of=e,o.is(":hidden")||o.position(l)}var s,o,u,a,f,l=e.extend({},this.options.position);if(r){if(s=this._find(n))return s.tooltip.find(".ui-tooltip-content").html(r),void 0;n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),o=s.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(f=r.clone(),f.removeAttr("id").find("[id]").removeAttr("id")):f=r,e("<div>").html(f).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(l.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:o}),u={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}},n[0]!==this.element[0]&&(u.remove=function(){this._removeTooltip(o)}),t&&"mouseover"!==t.type||(u.mouseleave="close"),t&&"focusin"!==t.type||(u.focusout="close"),this._on(!0,n,u)}},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),s=this._find(i);s&&(n=s.tooltip,s.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),s.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:n}),s.hiding||(s.closing=!1)))},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur"),s=r.element;i.target=i.currentTarget=s[0],t.close(i,!0),e("#"+n).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var r=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(n){var r=f(),i=r._rgba=[];return n=n.toLowerCase(),d(a,function(e,s){var o,u=s.re.exec(n),a=u&&s.parse(u),f=s.space||"rgba";return a?(o=r[f](a),r[l[f].cache]=o[l[f].cache],i=r._rgba=o._rgba,!1):t}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),r):s[n]}function i(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",u=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=f.support={},p=e("<p>")[0],d=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,d(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=e.extend(f.prototype,{parse:function(i,o,u,a){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=t);var c=this,h=e.type(i),p=this._rgba=[];return o!==t&&(i=[i,o,u,a],h="array"),"string"===h?this.parse(r(i)||s._default):"array"===h?(d(l.rgba.props,function(e,t){p[t.idx]=n(i[t.idx],t)}),this):"object"===h?(i instanceof f?d(l,function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}):d(l,function(t,r){var s=r.cache;d(r.props,function(e,t){if(!c[s]&&r.to){if("alpha"===e||null==i[e])return;c[s]=r.to(c._rgba)}c[s][t.idx]=n(i[e],t,!0)}),c[s]&&0>e.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,r.from&&(c._rgba=r.from(c[s])))}),this):t},is:function(e){var n=f(e),r=!0,i=this;return d(l,function(e,s){var o,u=n[s.cache];return u&&(o=i[s.cache]||s.to&&s.to(i._rgba)||[],d(s.props,function(e,n){return null!=u[n.idx]?r=u[n.idx]===o[n.idx]:t})),r}),r},_space:function(){var e=[],t=this;return d(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=f(e),i=r._space(),s=l[i],o=0===this.alpha()?f("transparent"):this,u=o[s.cache]||s.to(o._rgba),a=u.slice();return r=r[s.cache],d(s.props,function(e,i){var s=i.idx,o=u[s],f=r[s],l=c[i.type]||{};null!==f&&(null===o?a[s]=f:(l.mod&&(f-o>l.mod/2?o+=l.mod:o-f>l.mod/2&&(o-=l.mod)),a[s]=n((f-o)*t+o,i)))}),this[i](a)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=f(t)._rgba;return f(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,l.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=e[3],u=Math.max(r,i,s),a=Math.min(r,i,s),f=u-a,l=u+a,c=.5*l;return t=a===u?0:r===u?60*(i-s)/f+360:i===u?60*(s-r)/f+120:60*(r-i)/f+240,n=0===f?0:.5>=c?f/l:f/(2-l),[Math.round(t)%360,n,c,null==o?1:o]},l.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],s=e[3],o=.5>=r?r*(1+n):r+n-r*n,u=2*r-o;return[Math.round(255*i(u,o,t+1/3)),Math.round(255*i(u,o,t)),Math.round(255*i(u,o,t-1/3)),s]},d(l,function(r,i){var s=i.props,o=i.cache,a=i.to,l=i.from;f.fn[r]=function(r){if(a&&!this[o]&&(this[o]=a(this._rgba)),r===t)return this[o].slice();var i,u=e.type(r),c="array"===u||"object"===u?r:arguments,h=this[o].slice();return d(s,function(e,t){var r=c["object"===u?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=n(r,t)}),l?(i=f(l(h)),i[o]=h,i):f(h)},d(s,function(t,n){f.fn[t]||(f.fn[t]=function(i){var s,o=e.type(i),a="alpha"===t?this._hsla?"hsla":"rgba":r,f=this[a](),l=f[n.idx];return"undefined"===o?l:("function"===o&&(i=i.call(this,l),o=e.type(i)),null==i&&n.empty?this:("string"===o&&(s=u.exec(i),s&&(i=l+parseFloat(s[2])*("+"===s[1]?1:-1))),f[n.idx]=i,this[a](f)))})})}),f.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,i){var s,o,u="";if("transparent"!==i&&("string"!==e.type(i)||(s=r(i)))){if(i=f(s||i),!h.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===u||"transparent"===u)&&o&&o.style;)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(a){}i=i.blend(u&&"transparent"!==u?u:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(a){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=f(t.elem,n),t.end=f(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},f.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)n=i[r],"string"==typeof i[n]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}function n(t,n){var r,s,o={};for(r in n)s=n[r],t[r]!==s&&(i[r]||(e.fx.step[r]||!isNaN(parseFloat(s)))&&(o[r]=s));return o}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,u){var a=e.speed(s,o,u);return this.queue(function(){var s,o=e(this),u=o.attr("class")||"",f=a.children?o.find("*").addBack():o;f=f.map(function(){var n=e(this);return{el:n,start:t(this)}}),s=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),f=f.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",u),f=f.map(function(){var t=this,n=e.Deferred(),r=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(n,r,i,s){return r?e.effects.animateClass.call(this,{add:n},r,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,i,s,o){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.2",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(y+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;t.length>r;r++)null!==t[r]&&(n=e.data(y+t[r]),void 0===n&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=r.complete,u=r.mode;(i.is(":hidden")?"hide"===u:"show"===u)?(i[u](),n()):o.call(i[0],r,n)}var r=t.apply(this,arguments),i=r.mode,s=r.queue,o=e.effects.effect[r.effect];return e.fx.off||!o?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):s===!1?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,n){var r,i,s,o=e(this),u=/up|down|vertical/,a=/up|left|vertical|horizontal/,f=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c=t.direction||"up",h=u.test(c),p=h?"height":"width",d=h?"top":"left",v=a.test(c),m={},g="show"===l;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),f):e.effects.save(o,f),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i=r[p](),s=parseFloat(r.css(d))||0,m[p]=g?i:0,v||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[d]=g?s:i+s),g&&(r.css(p,0),v||r.css(d,s+i)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===l&&o.hide(),e.effects.restore(o,f),e.effects.removeWrapper(o),n()}})},e.effects.effect.bounce=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),f="hide"===a,l="show"===a,c=t.direction||"up",h=t.distance,p=t.times||5,d=2*p+(l||f?1:0),v=t.duration/d,m=t.easing,g="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=o.queue(),w=b.length;for((l||f)&&u.push("opacity"),e.effects.save(o,u),o.show(),e.effects.createWrapper(o),h||(h=o["top"===g?"outerHeight":"outerWidth"]()/3),l&&(s={opacity:1},s[g]=0,o.css("opacity",0).css(g,y?2*-h:2*h).animate(s,v,m)),f&&(h/=Math.pow(2,p-1)),s={},s[g]=0,r=0;p>r;r++)i={},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m).animate(s,v,m),h=f?2*h:h/2;f&&(i={opacity:0},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m)),o.queue(function(){f&&o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,d+1))),o.dequeue()},e.effects.effect.clip=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),f="show"===a,l=t.direction||"vertical",c="vertical"===l,h=c?"height":"width",p=c?"top":"left",d={};e.effects.save(o,u),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i="IMG"===o[0].tagName?r:o,s=i[h](),f&&(i.css(h,0),i.css(p,s/2)),d[h]=f?s:0,d[p]=f?0:s/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}})},e.effects.effect.drop=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(i,t.mode||"hide"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"pos":"neg",c={opacity:u?1:0};e.effects.save(i,s),i.show(),e.effects.createWrapper(i),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0)/2,u&&i.css("opacity",0).css(f,"pos"===l?-r:r),c[f]=(u?"pos"===l?"+=":"-=":"pos"===l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.explode=function(t,n){function r(){b.push(this),b.length===c*h&&i()}function i(){p.css({visibility:"visible"}),e(b).remove(),v||p.hide(),n()}var s,o,u,a,f,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,p=e(this),d=e.effects.setMode(p,t.mode||"hide"),v="show"===d,m=p.show().css("visibility","hidden").offset(),g=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/c),b=[];for(s=0;c>s;s++)for(a=m.top+s*y,l=s-(c-1)/2,o=0;h>o;o++)u=m.left+o*g,f=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:y,left:u+(v?f*g:0),top:a+(v?l*y:0),opacity:v?0:1}).animate({left:u+(v?0:f*g),top:a+(v?0:l*y),opacity:v?1:0},t.duration||500,t.easing,r)},e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var r,i,s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a="show"===u,f="hide"===u,l=t.size||15,c=/([0-9]+)%/.exec(l),h=!!t.horizFirst,p=a!==h,d=p?["width","height"]:["height","width"],v=t.duration/2,m={},g={};e.effects.save(s,o),s.show(),r=e.effects.createWrapper(s).css({overflow:"hidden"}),i=p?[r.width(),r.height()]:[r.height(),r.width()],c&&(l=parseInt(c[1],10)/100*i[f?0:1]),a&&r.css(h?{height:0,width:l}:{height:l,width:0}),m[d[0]]=a?i[0]:l,g[d[1]]=a?i[1]:0,r.animate(m,v,t.easing).animate(g,v,t.easing,function(){f&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()})},e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,i),n()}})},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||"effect"!==p,v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||("show"===p?b:r),o.to=t.to||("hide"===p?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}},("box"===v||"both"===v)&&(s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),("content"===v||"both"===v)&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from),("content"===v||"both"===v)&&(c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),d||("static"===g?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return"auto"===n?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:"horizontal"!==u?o/100:1,x:"vertical"!==u?o/100:1};i.effect="size",i.queue=!1,i.complete=n,"effect"!==s&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&("show"===s&&(i.from.opacity=0,i.to.opacity=1),"hide"===s&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s="hide"===i,o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.pulsate=function(t,n){var r,i=e(this),s=e.effects.setMode(i,t.mode||"show"),o="show"===s,u="hide"===s,a=o||"hide"===s,f=2*(t.times||5)+(a?1:0),l=t.duration/f,c=0,h=i.queue(),p=h.length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1),r=1;f>r;r++)i.animate({opacity:c},l,t.easing),c=1-c;i.animate({opacity:c},l,t.easing),i.queue(function(){u&&i.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,f+1))),i.dequeue()},e.effects.effect.shake=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(i,t.mode||"effect"),u=t.direction||"left",a=t.distance||20,f=t.times||3,l=2*f+1,c=Math.round(t.duration/l),h="up"===u||"down"===u?"top":"left",p="up"===u||"left"===u,d={},v={},m={},g=i.queue(),y=g.length;for(e.effects.save(i,s),i.show(),e.effects.createWrapper(i),d[h]=(p?"-=":"+=")+a,v[h]=(p?"+=":"-=")+2*a,m[h]=(p?"-=":"+=")+2*a,i.animate(d,c,t.easing),r=1;f>r;r++)i.animate(v,c,t.easing).animate(m,c,t.easing);i.animate(v,c,t.easing).animate(d,c/2,t.easing).queue(function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,l+1))),i.dequeue()},e.effects.effect.slide=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(i,t.mode||"show"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a,c={};e.effects.save(i,s),i.show(),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),u&&i.css(f,l?isNaN(r)?"-"+r:-r:r),c[f]=(u?l?"+=":"-=":l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s="fixed"===i.css("position"),o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(t,i),o=this.interval,u="next"==t?"left":"right",f=this;if(s.hasClass("active"))return this.sliding=!1;var l=s[0],h=e.Event("slide.bs.carousel",{relatedTarget:l,direction:u});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),s=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),i||n.data("bs.collapse",i=new r(this,s)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var f=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][f])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var s=t(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();n.call(s,u)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(s).each(function(){var r=e(this),i=t(r),s={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",s)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=t(i),o=s.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),o=i.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+u);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void (n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,l=f.test(u);l&&(u=u.replace(f,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),p=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var v=u,m=this.getPosition(this.$viewport);u="bottom"==u&&h.bottom+d>m.bottom?"top":"top"==u&&h.top-d<m.top?"bottom":"right"==u&&h.right+p>m.width?"left":"left"==u&&h.left-p<m.left?"right":u,s.removeClass(v).addClass(u)}var g=this.getCalculatedOffset(u,h,p,d);this.applyPlacement(g,u);var y=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",y).emulateTransitionEnd(n.TRANSITION_DURATION):y()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top+=o,t.left+=u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(n),p=h?2*c.left-i+f:2*c.top-s+l,d=h?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][d],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&s.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.right&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=s.top?!1:"bottom":e-r>=i+o?!1:"bottom";var u=null==this.affixed,a=u?i:s.top,f=u?o:t;return null!=n&&n>=i?"top":null!=r&&a+f>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(s=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(o,t,i,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var f="affix"+(u?"-"+u:""),l=e.Event(f+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:o-t-s})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery);(function(e,t,n){var r=e();e.fn.dropdownHover=function(n){if("ontouchstart"in document){return this}r=r.add(this.parent());return this.each(function(){var i=e(this),s=i.parent(),o={delay:500,instantlyCloseOthers:true},u={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},f="show.bs.dropdown",l="hide.bs.dropdown",c=e.extend(true,{},o,n,u),h;s.hover(function(e){if(!s.hasClass("open")&&!i.is(e.target)){return true}r.find(":focus").blur();if(c.instantlyCloseOthers===true){r.removeClass("open")}t.clearTimeout(h);s.addClass("open");i.trigger(f)},function(){h=t.setTimeout(function(){s.removeClass("open");i.trigger(l)},c.delay)});i.hover(function(){r.find(":focus").blur();if(c.instantlyCloseOthers===true){r.removeClass("open")}t.clearTimeout(h);s.addClass("open");i.trigger(f)});s.find(".dropdown-submenu").each(function(){var n=e(this);var r;n.hover(function(){t.clearTimeout(r);n.children(".dropdown-menu").show();n.siblings().children(".dropdown-menu").hide()},function(){var e=n.children(".dropdown-menu");r=t.setTimeout(function(){e.hide()},c.delay)})})})};e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})})(jQuery,this);!function(e){jQuery.fn.extend({slimScroll:function(n){var r={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",animate:!0},i=e.extend(r,n);return this.each(function(){function r(t){if(c){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var r=t.target||t.srcTarget||t.srcElement;e(r).closest("."+i.wrapperClass).is(S.parent())&&s(n,!0),t.preventDefault&&!E&&t.preventDefault(),E||(t.returnValue=!1)}}function s(e,t,n){E=!1;var r=e,s=S.outerHeight()-k.outerHeight();if(t&&(r=parseInt(k.css("top"))+e*parseInt(i.wheelStep)/100*k.outerHeight(),r=Math.min(Math.max(r,0),s),r=e>0?Math.ceil(r):Math.floor(r),k.css({top:r+"px"})),g=parseInt(k.css("top"))/(S.outerHeight()-k.outerHeight()),r=g*(S[0].scrollHeight-S.outerHeight()),n){r=e;var o=r/S[0].scrollHeight*S.outerHeight();o=Math.min(Math.max(o,0),s),k.css({top:o+"px"})}"scrollTo"in i&&i.animate?S.animate({scrollTop:r}):S.scrollTop(r),S.trigger("slimscrolling",~~r),f(),l()}function o(){window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r)}function u(){m=Math.max(S.outerHeight()/S[0].scrollHeight*S.outerHeight(),w),k.css({height:m+"px"});var e=m==S.outerHeight()?"none":"block";k.css({display:e})}function f(){if(u(),clearTimeout(d),g==~~g){if(E=i.allowPageScroll,y!=g){var e=0==~~g?"top":"bottom";S.trigger("slimscroll",e)}}else E=!1;return y=g,m>=S.outerHeight()?void (E=!0):(k.stop(!0,!0).fadeIn("fast"),void (i.railVisible&&C.stop(!0,!0).fadeIn("fast")))}function l(){i.alwaysVisible||(d=setTimeout(function(){i.disableFadeOut&&c||h||p||(k.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var c,h,p,d,v,m,g,y,b="<div></div>",w=30,E=!1,S=e(this);if("ontouchstart"in window&&window.navigator.msPointerEnabled&&S.css("-ms-touch-action","none"),S.parent().hasClass(i.wrapperClass)){var x=S.scrollTop();if(k=S.parent().find("."+i.barClass),C=S.parent().find("."+i.railClass),u(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){S.parent().css("height","auto"),S.css("height","auto");var T=S.parent().parent().height();S.parent().css("height",T),S.css("height",T)}if("scrollTo"in n)x=parseInt(i.scrollTo);else if("scrollBy"in n)x+=parseInt(i.scrollBy);else if("destroy"in n)return k.remove(),C.remove(),void S.unwrap();s(x,!1,!0)}}else{i.height="auto"==n.height?S.parent().height():n.height;var N=e(b).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});S.css({overflow:"hidden",width:i.width,height:i.height});var C=e(b).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),k=e(b).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),L="right"==i.position?{right:i.distance}:{left:i.distance};C.css(L),k.css(L),S.wrap(N),S.parent().append(k),S.parent().append(C),i.railDraggable&&k.bind("mousedown",function(n){var r=e(document);return p=!0,t=parseFloat(k.css("top")),pageY=n.pageY,r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,k.css("top",currTop),s(0,k.position().top,!1)}),r.bind("mouseup.slimscroll",function(){p=!1,l(),r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),"ontouchstart"in window&&window.navigator.msPointerEnabled&&(S.bind("MSPointerDown",function(e){v=e.originalEvent.pageY}),S.bind("MSPointerMove",function(e){e.originalEvent.preventDefault();var t=(v-e.originalEvent.pageY)/i.touchScrollStep;s(t,!0),v=e.originalEvent.pageY})),C.hover(function(){f()},function(){l()}),k.hover(function(){h=!0},function(){h=!1}),S.hover(function(){c=!0,f(),l()},function(){c=!1,l()}),S.bind("touchstart",function(e){e.originalEvent.touches.length&&(v=e.originalEvent.touches[0].pageY)}),S.bind("touchmove",function(e){if(E||e.originalEvent.preventDefault(),e.originalEvent.touches.length){var t=(v-e.originalEvent.touches[0].pageY)/i.touchScrollStep;s(t,!0),v=e.originalEvent.touches[0].pageY}}),u(),"bottom"===i.start?(k.css({top:S.outerHeight()-k.outerHeight()}),s(0,!0)):"top"!==i.start&&(s(e(i.start).position().top,null,!0),i.alwaysVisible||k.hide()),o()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery);!function(){"use strict";function e(e){function t(t,r){var s,v,m=t==window,g=r&&void 0!==r.message?r.message:void 0;if(r=e.extend({},e.blockUI.defaults,r||{}),!r.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(r.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,r.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,r.css||{}),r.onOverlayClick&&(r.overlayCSS.cursor="pointer"),v=e.extend({},e.blockUI.defaults.themedCSS,r.themedCSS||{}),g=void 0===g?r.message:g,m&&p&&n(window,{fadeOut:0}),g&&"string"!=typeof g&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,w={};e(t).data("blockUI.history",w),w.el=y,w.parent=y.parentNode,w.display=y.style.display,w.position=y.style.position,w.parent&&w.parent.removeChild(y)}e(t).data("blockUI.onUnblock",r.onUnblock);var E,S,x,T,N=r.baseZ;E=l||r.forceIframe?e('<iframe class="blockUI" style="z-index:'+N++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+r.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),S=r.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+N++ +';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+N++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),r.theme&&m?(T='<div class="blockUI '+r.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(N+10)+';display:none;position:fixed">',r.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):r.theme?(T='<div class="blockUI '+r.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(N+10)+';display:none;position:absolute">',r.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):T=m?'<div class="blockUI '+r.blockMsgClass+' blockPage" style="z-index:'+(N+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+r.blockMsgClass+' blockElement" style="z-index:'+(N+10)+';display:none;position:absolute"></div>',x=e(T),g&&(r.theme?(x.css(v),x.addClass("ui-widget-content")):x.css(s)),r.theme||S.css(r.overlayCSS),S.css("position",m?"fixed":"absolute"),(l||r.forceIframe)&&E.css("opacity",0);var C=[E,S,x],k=m?e("body"):e(t);e.each(C,function(){this.appendTo(k)}),r.theme&&r.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var L=h&&(!e.support.boxModel||e("object,embed",m?null:t).length>0);if(c||L){if(m&&r.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(c||!e.support.boxModel)&&!m)var A=a(t,"borderTopWidth"),O=a(t,"borderLeftWidth"),M=A?"(0 - "+A+")":0,_=O?"(0 - "+O+")":0;e.each(C,function(e,t){var n=t[0].style;if(n.position="absolute",2>e)m?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+r.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),_&&n.setExpression("left",_),M&&n.setExpression("top",M);else if(r.centerY)m&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!r.centerY&&m){var i=r.css&&r.css.top?parseInt(r.css.top,10):0,s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+i+') + "px"';n.setExpression("top",s)}})}if(g&&(r.theme?x.find(".ui-widget-content").append(g):x.append(g),(g.jquery||g.nodeType)&&e(g).show()),(l||r.forceIframe)&&r.showOverlay&&E.show(),r.fadeIn){var D=r.onBlock?r.onBlock:f,P=r.showOverlay&&!g?D:f,H=g?D:f;r.showOverlay&&S._fadeIn(r.fadeIn,P),g&&x._fadeIn(r.fadeIn,H)}else r.showOverlay&&S.show(),g&&x.show(),r.onBlock&&r.onBlock();if(i(1,t,r),m?(p=x[0],d=e(r.focusableElements,p),r.focusInput&&setTimeout(o,20)):u(x[0],r.centerX,r.centerY),r.timeout){var B=setTimeout(function(){m?e.unblockUI(r):e(t).unblock(r)},r.timeout);e(t).data("blockUI.timeout",B)}}}function n(t,n){var s,o=t==window,u=e(t),a=u.data("blockUI.history"),f=u.data("blockUI.timeout");f&&(clearTimeout(f),u.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),i(0,t,n),null===n.onUnblock&&(n.onUnblock=u.data("blockUI.onUnblock"),u.removeData("blockUI.onUnblock"));var l;l=o?e("body").children().filter(".blockUI").add("body > .blockUI"):u.find(">.blockUI"),n.cursorReset&&(l.length>1&&(l[1].style.cursor=n.cursorReset),l.length>2&&(l[2].style.cursor=n.cursorReset)),o&&(p=d=null),n.fadeOut?(s=l.length,l.stop().fadeOut(n.fadeOut,function(){0===--s&&r(l,a,n,t)})):r(l,a,n,t)}function r(t,n,r,i){var s=e(i);if(!s.data("blockUI.isBlocked")){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.parent&&n.parent.appendChild(n.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof r.onUnblock&&r.onUnblock(i,r);var o=e(document.body),u=o.width(),a=o[0].style.width;o.width(u-1).width(u),o[0].style.width=a}}function i(t,n,r){var i=n==window,o=e(n);if((t||(!i||p)&&(i||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",t),i&&r.bindEvents&&(!t||r.showOverlay))){var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(u,r,s):e(document).unbind(u,s)}}function s(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var n=d,r=!t.shiftKey&&t.target===n[n.length-1],i=t.shiftKey&&t.target===n[0];if(r||i)return setTimeout(function(){o(i)},10),!1}var s=t.data,u=e(t.target);return u.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(t),u.parents("div."+s.blockMsgClass).length>0?!0:0===u.parents().children().filter("div.blockUI").length}function o(e){if(d){var t=d[e===!0?d.length-1:0];t&&t.focus()}}function u(e,t,n){var r=e.parentNode,i=e.style,s=(r.offsetWidth-e.offsetWidth)/2-a(r,"borderLeftWidth"),o=(r.offsetHeight-e.offsetHeight)/2-a(r,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),n&&(i.top=o>0?o+"px":"0")}function a(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var f=e.noop||function(){},l=/MSIE/.test(navigator.userAgent),c=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),h=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){n(window,e)},e.growlUI=function(t,n,r,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),n&&s.append("<h2>"+n+"</h2>"),void 0===r&&(r=3e3);var o=function(t){t=t||{},e.blockUI({message:s,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};o();s.css("opacity");s.mouseover(function(){o({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(n){if(this[0]===window)return e.blockUI(n),this;var r=e.extend({},e.blockUI.defaults,n||{});return this.each(function(){var t=e(this);r.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,n)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){n(this,t)})},e.blockUI.version=2.66,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,d=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){function n(e){return e}function r(e){return decodeURIComponent(e.replace(t," "))}function i(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return s.json?JSON.parse(e):e}catch(t){}}var t=/\+/g;var s=e.cookie=function(t,o,u){if(o!==undefined){u=e.extend({},s.defaults,u);if(typeof u.expires==="number"){var a=u.expires,l=u.expires=new Date;l.setDate(l.getDate()+a)}o=s.json?JSON.stringify(o):String(o);return document.cookie=[s.raw?t:encodeURIComponent(t),"=",s.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}var h=s.raw?n:r;var p=document.cookie.split("; ");var v=t?undefined:{};for(var m=0,g=p.length;m<g;m++){var y=p[m].split("=");var w=h(y.shift());var E=h(y.join("="));if(t&&t===w){v=i(E);break}if(!t){v[w]=i(E)}}return v};s.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)!==undefined){e.cookie(t,"",e.extend({},n,{expires:-1}));return true}return false}});(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function r(e,t,n){var r,i;for(r in n)n.hasOwnProperty(r)&&(i=r.replace(/ |$/g,t.eventNamespace),e.bind(i,n[r]))}function i(e,t,n){r(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function s(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function o(e,t,n){n?e.addClass(t):e.removeClass(t)}function u(e,t,n){var r="checked",i=t.is(":"+r);t.prop?t.prop(r,i):i?t.attr(r,r):t.removeAttr(r),o(e,n.checkedClass,i)}function a(e,t,n){o(e,n.disabledClass,t.is(":disabled"))}function f(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function l(t,r,i){var s,o,u;return i||(i={}),i=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},i),s=e("<div />"),o=e("<span />"),r.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&s.hide(),i.divClass&&s.addClass(i.divClass),r.wrapperClass&&s.addClass(r.wrapperClass),i.spanClass&&o.addClass(i.spanClass),u=n(t,"id"),r.useID&&u&&n(s,"id",r.idPrefix+"-"+u),i.spanHtml&&o.html(i.spanHtml),s=f(t,s,i.divWrap),o=f(t,o,i.spanWrap),a(s,t,r),{div:s,span:o}}function c(t,n){var r;return n.wrapperClass?(r=e("<span />").addClass(n.wrapperClass),r=f(t,r,"wrap")):null}function h(){var t,n,r,i;return i="rgb(120,2,153)",n=e('<div style="width:0;height:0;color:'+i+'">'),e("body").append(n),r=n.get(0),t=window.getComputedStyle?window.getComputedStyle(r,"").color:(r.currentStyle||r.style||{}).color,n.remove(),t.replace(/ /g,"")!==i}function p(t){return t?e("<span />").text(t).html():""}function d(){return navigator.cpuClass&&!navigator.product}function v(){return window.XMLHttpRequest!==void 0?!0:!1}function m(e){var t;return e[0].multiple?!0:(t=n(e,"size"),!t||1>=t?!1:!0)}function g(){return!1}function y(e,t){var n="none";r(e,t,{"selectstart dragstart mousedown":g}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function b(e,t,n){var r=e.val();""===r?r=n.fileDefaultHtml:(r=r.split(/[\/\\]+/),r=r[r.length-1]),t.text(r)}function w(e,t,n){var r,i;for(r=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();r.length;)i=r.pop(),i.el.style[i.name]=i.old}function E(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),w(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function S(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var x=!0,T=!1,N=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var o,u,f,c,h;return u=t.submitDefaultHtml,e.is(":reset")&&(u=t.resetDefaultHtml),c=e.is("a, button")?function(){return e.html()||u}:function(){return p(n(e,"value"))||u},f=l(e,t,{divClass:t.buttonClass,spanHtml:c()}),o=f.div,i(e,o,t),h=!1,r(o,t,{"click touchend":function(){var t,r,i,s;h||e.is(":disabled")||(h=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),r=e[0].dispatchEvent(t),e.is("a")&&r&&(i=n(e,"target"),s=n(e,"href"),i&&"_self"!==i?window.open(s,i):document.location.href=s)):e.click(),h=!1)}}),y(o,t),{remove:function(){return o.after(e),o.remove(),e.unbind(t.eventNamespace),e},update:function(){s(o,t),a(o,e,t),e.detach(),f.span.html(c()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,o,f;return n=l(e,t,{divClass:t.checkboxClass}),o=n.div,f=n.span,i(e,o,t),r(e,t,{"click touchend":function(){u(f,e,t)}}),u(f,e,t),{remove:S(e,t),update:function(){s(o,t),f.removeClass(t.checkedClass),u(f,e,t),a(o,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,o){function u(){b(t,p,o)}var c,h,p,v;return c=l(t,o,{divClass:o.fileClass,spanClass:o.fileButtonClass,spanHtml:o.fileButtonHtml,spanWrap:"after"}),h=c.div,v=c.span,p=e("<span />").html(o.fileDefaultHtml),p.addClass(o.filenameClass),p=f(t,p,"after"),n(t,"size")||n(t,"size",h.width()/10),i(t,h,o),u(),d()?r(t,o,{click:function(){t.trigger("change"),setTimeout(u,0)}}):r(t,o,{change:u}),y(p,o),y(v,o),{remove:function(){return p.remove(),v.remove(),t.unwrap().unbind(o.eventNamespace)},update:function(){s(h,o),b(t,p,o),a(h,t,o)}}}},{match:function(e){if(e.is("input")){var t=(" "+n(e,"type")+" ").toLowerCase(),r=" color date datetime datetime-local email month number password search tel text time url week ";return r.indexOf(t)>=0}return!1},apply:function(e,t){var r,s;return r=n(e,"type"),e.addClass(t.inputClass),s=c(e,t),i(e,e,t),t.inputAddTypeAsClass&&e.addClass(r),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(r),s&&e.unwrap()},update:g}}},{match:function(e){return e.is(":radio")},apply:function(t,o){var f,c,h;return f=l(t,o,{divClass:o.radioClass}),c=f.div,h=f.span,i(t,c,o),r(t,o,{"click touchend":function(){e.uniform.update(e(':radio[name="'+n(t,"name")+'"]'))}}),u(h,t,o),{remove:S(t,o),update:function(){s(c,o),u(h,t,o),a(c,t,o)}}}},{match:function(e){return e.is("select")&&!m(e)?!0:!1},apply:function(t,n){var o,u,f,c;return n.selectAutoWidth&&E(t,function(){c=t.width()}),o=l(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),u=o.div,f=o.span,n.selectAutoWidth?E(t,function(){w(e([f[0],u[0]]),{display:"block"},function(){var e;e=f.outerWidth()-f.width(),u.width(c+e),f.width(c)})}):u.addClass("fixedWidth"),i(t,u,n),r(t,n,{change:function(){f.html(t.find(":selected").html()),u.removeClass(n.activeClass)},"click touchend":function(){var e=t.find(":selected").html();f.html()!==e&&t.trigger("change")},keyup:function(){f.html(t.find(":selected").html())}}),y(f,n),{remove:function(){return f.remove(),t.unwrap().unbind(n.eventNamespace),t},update:function(){n.selectAutoWidth?(e.uniform.restore(t),t.uniform(n)):(s(u,n),f.html(t.find(":selected").html()),a(u,t,n))}}}},{match:function(e){return e.is("select")&&m(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=c(e,t),i(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:g}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=c(e,t),i(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:g}}}];d()&&!v()&&(x=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var n=this;return t=e.extend({},e.uniform.defaults,t),T||(T=!0,h()&&(x=!1)),x?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(n)},10)}),this.each(function(){var n,r,i,s=e(this);if(s.data("uniformed"))return e.uniform.update(s),void 0;for(n=0;N.length>n;n+=1)if(r=N[n],r.match(s,t))return i=r.apply(s,t),s.data("uniformed",i),e.uniform.elements.push(s.get(0)),void 0})):this},e.uniform.restore=e.fn.uniform.restore=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n,r=e(this);n=r.data("uniformed"),n&&(n.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),r.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n=e(this);t=n.data("uniformed"),t&&t.update(n,t.options)})}})(jQuery);(function(){var e=[].slice;!function(n,r){"use strict";var i;return i=function(){function e(e,t){null==t&&(t={}),this.$element=n(e),this.options=n.extend({},n.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},t),this.$wrapper=n("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),null!=e.options.size&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(""+e.options.baseClass+"-indeterminate"),e.options.inverse&&t.push(""+e.options.baseClass+"-inverse"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=n("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=n("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=n("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=n("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return e.prototype._constructor=e,e.prototype.state=function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this._width(),this._containerPosition(),this.options.size=e,this.$element)},e.prototype.animate=function(e){return"undefined"==typeof e?this.options.animate:(e=!!e,e===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(e){return"undefined"==typeof e?this.options.disabled:(e=!!e,e===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(e){return"undefined"==typeof e?this.options.readonly:(e=!!e,e===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(e){return"undefined"==typeof e?this.options.indeterminate:(e=!!e,e===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(e){return"undefined"==typeof e?this.options.inverse:(e=!!e,e===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var e,t;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),t=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,"undefined"==typeof e?t:(null!=t&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,"undefined"==typeof e?t:(null!=t&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)},e.prototype.handleWidth=function(e){return"undefined"==typeof e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(e){return"undefined"==typeof e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(){return this.options.baseClass},e.prototype.wrapperClass=function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=n.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return"undefined"==typeof e?this.options.radioAllOff:(e=!!e,e===this.options.radioAllOff?this.$element:(this.options.radioAllOff=e,this.$element))},e.prototype.onInit=function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=n.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=n.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var e,t;return e=this.$on.add(this.$off),e.add(this.$label).css("width",""),t="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,e.width(t),this.$label.width(function(e){return function(n,r){return"auto"!==e.options.labelWidth?e.options.labelWidth:t>r?t:r}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._containerPosition=function(e,t){return null==e&&(e=this.options.state),this.$container.css("margin-left",function(t){return function(){var n;return n=[0,"-"+t._handleWidth+"px"],t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]}}(this)),t?setTimeout(function(){return t()},50):void 0},e.prototype._init=function(){var e,t;return e=function(e){return function(){return e._width(),e._containerPosition(null,function(){return e.options.animate?e.$wrapper.addClass(""+e.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?e():t=r.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(e(),r.clearInterval(t)):void 0}}(this),50)},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(r,i){var s;return r.preventDefault(),r.stopImmediatePropagation(),s=e.$element.is(":checked"),e._containerPosition(s),s!==e.options.state?(e.options.state=s,e.$wrapper.toggleClass(""+e.options.baseClass+"-off").toggleClass(""+e.options.baseClass+"-on"),i?void 0:(e.$element.is(":radio")&&n("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[s]))):void 0}}(this),"focus.bootstrapSwitch":function(e){return function(n){return n.preventDefault(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(n){return n.preventDefault(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(n){if(n.which&&!e.options.disabled&&!e.options.readonly)switch(n.which){case 37:return n.preventDefault(),n.stopImmediatePropagation(),e.state(!1);case 39:return n.preventDefault(),n.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(n){return n.preventDefault(),n.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(n){return n.preventDefault(),n.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(n){return e._dragStart||e.options.disabled||e.options.readonly?void 0:(n.preventDefault(),n.stopPropagation(),e._dragStart=(n.pageX||n.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(n){var r;if(null!=e._dragStart&&(n.preventDefault(),r=(n.pageX||n.originalEvent.touches[0].pageX)-e._dragStart,!(r<-e._handleWidth||r>0)))return e._dragEnd=r,e.$container.css("margin-left",""+e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(n){var r;if(e._dragStart)return n.preventDefault(),e.options.animate&&e.$wrapper.addClass(""+e.options.baseClass+"-animate"),e._dragEnd?(r=e._dragEnd>-(e._handleWidth/2),e._dragEnd=!1,e.state(e.options.inverse?!r:r)):e.state(!e.options.state),e._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(e){return function(){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var e;return e=this.$element.closest("label"),e.on("click",function(n){return function(r){return r.preventDefault(),r.stopImmediatePropagation(),r.target===e[0]?n.toggleState():void 0}}(this))},e.prototype._formHandler=function(){var e;return e=this.$element.closest("form"),e.data("bootstrap-switch")?void 0:e.on("reset.bootstrapSwitch",function(){return r.setTimeout(function(){return e.find("input").filter(function(){return n(this).data("bootstrap-switch")}).each(function(){return n(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var t,r,i,s;if(!n.isArray(e))return[""+this.options.baseClass+"-"+e];for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(""+this.options.baseClass+"-"+t);return r},e}(),n.fn.bootstrapSwitch=function(){var r,s,o;return s=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],o=this,this.each(function(){var e,t;return e=n(this),t=e.data("bootstrap-switch"),t||e.data("bootstrap-switch",t=new i(this,s)),"string"==typeof s?o=t[s].apply(t,r):void 0}),o},n.fn.bootstrapSwitch.Constructor=i,n.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}).call(this);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){e.extend(e.fn,{validate:function(t){if(!this.length){if(t&&t.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var n=e.data(this[0],"validator");if(n){return n}this.attr("novalidate","novalidate");n=new e.validator(t,this[0]);e.data(this[0],"validator",n);if(n.settings.onsubmit){this.on("click.validate",":submit",function(t){if(n.settings.submitHandler){n.submitButton=t.target}if(e(this).hasClass("cancel")){n.cancelSubmit=true}if(e(this).attr("formnovalidate")!==undefined){n.cancelSubmit=true}});this.on("submit.validate",function(t){function r(){var r,i;if(n.settings.submitHandler){if(n.submitButton){r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)}i=n.settings.submitHandler.call(n,n.currentForm,t);if(n.submitButton){r.remove()}if(i!==undefined){return i}return false}return true}if(n.settings.debug){t.preventDefault()}if(n.cancelSubmit){n.cancelSubmit=false;return r()}if(n.form()){if(n.pendingRequest){n.formSubmitted=true;return false}return r()}else{n.focusInvalid();return false}})}return n},valid:function(){var t,n,r;if(e(this[0]).is("form")){t=this.validate().form()}else{r=[];t=true;n=e(this[0].form).validate();this.each(function(){t=n.element(this)&&t;r=r.concat(n.errorList)});n.errorList=r}return t},rules:function(t,n){var r=this[0],i,s,o,u,a,f;if(t){i=e.data(r.form,"validator").settings;s=i.rules;o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n));delete o.messages;s[r.name]=o;if(n.messages){i.messages[r.name]=e.extend(i.messages[r.name],n.messages)}break;case"remove":if(!n){delete s[r.name];return o}f={};e.each(n.split(/\s/),function(t,n){f[n]=o[n];delete o[n];if(n==="required"){e(r).removeAttr("aria-required")}});return f}}u=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r);if(u.required){a=u.required;delete u.required;u=e.extend({required:a},u);e(r).attr("aria-required","true")}if(u.remote){a=u.remote;delete u.remote;u=e.extend(u,{remote:a})}return u}});e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}});e.validator=function(t,n){this.settings=e.extend(true,{},e.validator.defaults,t);this.currentForm=n;this.init()};e.validator.format=function(t,n){if(arguments.length===1){return function(){var n=e.makeArray(arguments);n.unshift(t);return e.validator.format.apply(this,n)}}if(arguments.length>2&&n.constructor!==Array){n=e.makeArray(arguments).slice(1)}if(n.constructor!==Array){n=[n]}e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})});return t};e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(e))}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(t,n){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(n.which===9&&this.elementValue(t)===""||e.inArray(n.keyCode,r)!==-1){return}else if(t.name in this.submitted||t===this.lastElement){this.element(t)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(t,n,r){if(t.type==="radio"){this.findByName(t.name).addClass(n).removeClass(r)}else{e(t).addClass(n).removeClass(r)}},unhighlight:function(t,n,r){if(t.type==="radio"){this.findByName(t.name).removeClass(n).addClass(r)}else{e(t).removeClass(n).addClass(r)}}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"Ce champ est obligatoire,veuillez le renseigner!",remote:"Please fix this field.",email:"Veuillez entrer une adresse email valide!",url:"Veuillez entrer un URL vailde!",date:"Veuillez entrer une date valide!",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function r(t){var n=e.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),i=n.settings;if(i[r]&&!e(this).is(i.ignore)){i[r].call(n,this,t)}}this.labelContainer=e(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm);this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t=this.groups={},n;e.each(this.settings.groups,function(n,r){if(typeof r==="string"){r=r.split(/\s/)}e.each(r,function(e,r){t[r]=n})});n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)});e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r);if(this.settings.invalidHandler){e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();e.extend(this.submitted,this.errorMap);this.invalid=e.extend({},this.errorMap);if(!this.valid()){e(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(t){var n=this.clean(t),r=this.validationTargetFor(n),i=true;this.lastElement=r;if(r===undefined){delete this.invalid[n.name]}else{this.prepareElement(r);this.currentElements=e(r);i=this.check(r)!==false;if(i){delete this.invalid[r.name]}else{this.invalid[r.name]=true}}e(t).attr("aria-invalid",!i);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return i},showErrors:function(t){if(t){e.extend(this.errorMap,t);this.errorList=[];for(var n in t){this.errorList.push({message:t[n],element:this.findByName(n)[0]})}this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(e.fn.resetForm){e(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();var t,n=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight){for(t=0;n[t];t++){this.settings.unhighlight.call(this,n[t],this.settings.errorClass,"")}}else{n.removeClass(this.settings.errorClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,n;for(n in e){t++}return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text("");this.addWrapper(e).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){if(!this.name&&t.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in n||!t.objectLength(e(this).rules())){return false}n[this.name]=true;return true})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=e([]);this.toHide=e([]);this.currentElements=e([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(t){var n,r=e(t),i=t.type;if(i==="radio"||i==="checkbox"){return this.findByName(t.name).filter(":checked").val()}else if(i==="number"&&typeof t.validity!=="undefined"){return t.validity.badInput?false:r.val()}n=r.val();if(typeof n==="string"){return n.replace(/\r/g,"")}return n},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=e.map(n,function(e,t){return t}).length,i=false,s=this.elementValue(t),o,u,a;for(u in n){a={method:u,parameters:n[u]};try{o=e.validator.methods[u].call(this,s,t,a.parameters);if(o==="dependency-mismatch"&&r===1){i=true;continue}i=false;if(o==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!o){this.formatAndAdd(t,a);return false}}catch(f){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",f)}if(f instanceof TypeError){f.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."}throw f}}if(i){return}if(this.objectLength(n)){this.successList.push(t)}return true},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;if(typeof r==="function"){r=r.call(this,n.parameters,t)}else if(i.test(r)){r=e.validator.format(r.replace(i,"{$1}"),n.parameters)}this.errorList.push({message:r,element:t,method:n.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++){n=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(n.element,n.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r,i,s,o=this.errorsFor(t),u=this.idOrName(t),a=e(t).attr("aria-describedby");if(o.length){o.removeClass(this.settings.validClass).addClass(this.settings.errorClass);o.html(n)}else{o=e("<"+this.settings.errorElement+">").attr("id",u+"-error").addClass(this.settings.errorClass).html(n||"");r=o;if(this.settings.wrapper){r=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(r)}else if(this.settings.errorPlacement){this.settings.errorPlacement(r,e(t))}else{r.insertAfter(t)}if(o.is("label")){o.attr("for",u)}else if(o.parents("label[for='"+u+"']").length===0){s=o.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1");if(!a){a=s}else if(!a.match(new RegExp("\\b"+s+"\\b"))){a+=" "+s}e(t).attr("aria-describedby",a);i=this.groups[t.name];if(i){e.each(this.groups,function(t,n){if(n===i){e("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}})}}}if(!n&&this.settings.success){o.text("");if(typeof this.settings.success==="string"){o.addClass(this.settings.success)}else{this.settings.success(o,t)}}this.toShow=this.toShow.add(o)},errorsFor:function(t){var n=this.idOrName(t),r=e(t).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";if(r){i=i+", #"+r.replace(/\s+/g,", #")}return this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){if(this.checkable(t)){t=this.findByName(t.name)}return e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n)){return this.findByName(n.name).filter(":checked").length}}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(t,n){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[t.name];if(n&&this.pendingRequest===0&&this.formSubmitted&&this.form()){e(this.currentForm).submit();this.formSubmitted=false}else if(!n&&this.pendingRequest===0&&this.formSubmitted){e(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:true,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm();e(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(t,n){if(t.constructor===String){this.classRuleSettings[t]=n}else{e.extend(this.classRuleSettings,t)}},classRules:function(t){var n={},r=e(t).attr("class");if(r){e.each(r.split(" "),function(){if(this in e.validator.classRuleSettings){e.extend(n,e.validator.classRuleSettings[this])}})}return n},normalizeAttributeRule:function(e,t,n,r){if(/min|max/.test(n)&&(t===null||/number|range|text/.test(t))){r=Number(r);if(isNaN(r)){r=undefined}}if(r||r===0){e[n]=r}else if(t===n&&t!=="range"){e[n]=true}},attributeRules:function(t){var n={},r=e(t),i=t.getAttribute("type"),s,o;for(s in e.validator.methods){if(s==="required"){o=t.getAttribute(s);if(o===""){o=true}o=!!o}else{o=r.attr(s)}this.normalizeAttributeRule(n,i,s,o)}if(n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)){delete n.maxlength}return n},dataRules:function(t){var n={},r=e(t),i=t.getAttribute("type"),s,o;for(s in e.validator.methods){o=r.data("rule"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase());this.normalizeAttributeRule(n,i,s,o)}return n},staticRules:function(t){var n={},r=e.data(t.form,"validator");if(r.settings.rules){n=e.validator.normalizeRule(r.settings.rules[t.name])||{}}return n},normalizeRules:function(t,n){e.each(t,function(r,i){if(i===false){delete t[r];return}if(i.param||i.depends){var s=true;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n);break}if(s){t[r]=i.param!==undefined?i.param:true}else{delete t[r]}}});e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i});e.each(["minlength","maxlength"],function(){if(t[this]){t[this]=Number(t[this])}});e.each(["rangelength","range"],function(){var n;if(t[this]){if(e.isArray(t[this])){t[this]=[Number(t[this][0]),Number(t[this][1])]}else if(typeof t[this]==="string"){n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/);t[this]=[Number(n[0]),Number(n[1])]}}});if(e.validator.autoCreateRanges){if(t.min!=null&&t.max!=null){t.range=[t.min,t.max];delete t.min;delete t.max}if(t.minlength!=null&&t.maxlength!=null){t.rangelength=[t.minlength,t.maxlength];delete t.minlength;delete t.maxlength}}return t},normalizeRule:function(t){if(typeof t==="string"){var n={};e.each(t.split(/\s/),function(){n[this]=true});t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n;e.validator.messages[t]=r!==undefined?r:e.validator.messages[t];if(n.length<3){e.validator.addClassRules(t,e.validator.normalizeRule(t))}},methods:{required:function(t,n,r){if(!this.depend(r,n)){return"dependency-mismatch"}if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}if(this.checkable(n)){return this.getLength(t,n)>0}return t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var n=0,r=0,i=false,s,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(s=e.length-1;s>=0;s--){o=e.charAt(s);r=parseInt(o,10);if(i){if((r*=2)>9){r-=9}}n+=r;i=!i}return n%10===0},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,r){var i=e(r);if(this.settings.onfocusout){i.off(".validate-equalTo").on("blur.validate-equalTo",function(){e(n).valid()})}return t===i.val()},remote:function(t,n,r){if(this.optional(n)){return"dependency-mismatch"}var i=this.previousValue(n),s,o;if(!this.settings.messages[n.name]){this.settings.messages[n.name]={}}i.originalMessage=this.settings.messages[n.name].remote;this.settings.messages[n.name].remote=i.message;r=typeof r==="string"&&{url:r}||r;if(i.old===t){return i.valid}i.old=t;s=this;this.startRequest(n);o={};o[n.name]=t;e.ajax(e.extend(true,{mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:s.currentForm,success:function(r){var o=r===true||r==="true",u,a,f;s.settings.messages[n.name].remote=i.originalMessage;if(o){f=s.formSubmitted;s.prepareElement(n);s.formSubmitted=f;s.successList.push(n);delete s.invalid[n.name];s.showErrors()}else{u={};a=r||s.defaultMessage(n,"remote");u[n.name]=i.message=e.isFunction(a)?a(t):a;s.invalid[n.name]=true;s.showErrors(u)}i.valid=o;s.stopRequest(n,o)}},r));return"pending"}}});var t={},n;if(e.ajaxPrefilter){e.ajaxPrefilter(function(e,n,r){var i=e.port;if(e.mode==="abort"){if(t[i]){t[i].abort()}t[i]=r}})}else{n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;if(i==="abort"){if(t[s]){t[s].abort()}t[s]=n.apply(this,arguments);return t[s]}return n.apply(this,arguments)}}});(function(e){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.validate"],e)}else{e(jQuery)}})(function(e){(function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,n,r){return this.optional(n)||t(e).match(/\b\w+\b/g).length<=r},e.validator.format("Please enter {0} words or less."));e.validator.addMethod("minWords",function(e,n,r){return this.optional(n)||t(e).match(/\b\w+\b/g).length>=r},e.validator.format("Please enter at least {0} words."));e.validator.addMethod("rangeWords",function(e,n,r){var i=t(e),s=/\b\w+\b/g;return this.optional(n)||i.match(s).length>=r[0]&&i.match(s).length<=r[1]},e.validator.format("Please enter between {0} and {1} words."))})();e.validator.addMethod("accept",function(t,n,r){var i=typeof r==="string"?r.replace(/\s/g,"").replace(/,/g,"|"):"image/*",s=this.optional(n),o,u;if(s){return s}if(e(n).attr("type")==="file"){i=i.replace(/\*/g,".*");if(n.files&&n.files.length){for(o=0;o<n.files.length;o++){u=n.files[o];if(!u.type.match(new RegExp("\\.?("+i+")$","i"))){return false}}}}return true},e.validator.format("Please enter a value with a valid mimetype."));e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please");e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e)){return false}var n=e.replace(/ /g,""),r=0,i=n.length,s,o,u;for(s=0;s<i;s++){o=i-s;u=n.substring(s,s+1);r=r+o*u}return r%11===0},"Please specify a valid bank account number");e.validator.addMethod("bankorgiroaccountNL",function(t,n){return this.optional(n)||e.validator.methods.bankaccountNL.call(this,t,n)||e.validator.methods.giroaccountNL.call(this,t,n)},"Please specify a valid bank or giro account number");e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e)},"Please specify a valid BIC code");e.validator.addMethod("cifES",function(e){"use strict";var t=[],n,r,i,s,o,u;e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}for(i=0;i<9;i++){t[i]=parseInt(e.charAt(i),10)}r=t[2]+t[4]+t[6];for(s=1;s<8;s+=2){o=(2*t[s]).toString();u=o.charAt(1);r+=parseInt(o.charAt(0),10)+(u===""?0:parseInt(u,10))}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)){r+="";n=10-parseInt(r.charAt(r.length-1),10);e+=n;return t[8].toString()===String.fromCharCode(64+n)||t[8].toString()===e.charAt(e.length-1)}return false},"Please specify a valid CIF number.");e.validator.addMethod("cpfBR",function(e){e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(e.length!==11){return false}var t=0,n,r,i,s;n=parseInt(e.substring(9,10),10);r=parseInt(e.substring(10,11),10);i=function(e,t){var n=e*10%11;if(n===10||n===11){n=0}return n===t};if(e===""||e==="00000000000"||e==="11111111111"||e==="22222222222"||e==="33333333333"||e==="44444444444"||e==="55555555555"||e==="66666666666"||e==="77777777777"||e==="88888888888"||e==="99999999999"){return false}for(s=1;s<=9;s++){t=t+parseInt(e.substring(s-1,s),10)*(11-s)}if(i(t,n)){t=0;for(s=1;s<=10;s++){t=t+parseInt(e.substring(s-1,s),10)*(12-s)}return i(t,r)}return false},"Please specify a valid CPF number");e.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e)){return false}e=e.replace(/\D/g,"");var r=0;if(n.mastercard){r|=1}if(n.visa){r|=2}if(n.amex){r|=4}if(n.dinersclub){r|=8}if(n.enroute){r|=16}if(n.discover){r|=32}if(n.jcb){r|=64}if(n.unknown){r|=128}if(n.all){r=1|2|4|8|16|32|64|128}if(r&1&&/^(5[12345])/.test(e)){return e.length===16}if(r&2&&/^(4)/.test(e)){return e.length===16}if(r&4&&/^(3[47])/.test(e)){return e.length===15}if(r&8&&/^(3(0[012345]|[68]))/.test(e)){return e.length===14}if(r&16&&/^(2(014|149))/.test(e)){return e.length===15}if(r&32&&/^(6011)/.test(e)){return e.length===16}if(r&64&&/^(3)/.test(e)){return e.length===16}if(r&64&&/^(2131|1800)/.test(e)){return e.length===15}if(r&128){return true}return false},"Please enter a valid credit card number.");e.validator.addMethod("currency",function(e,t,n){var r=typeof n==="string",i=r?n:n[0],s=r?true:n[1],o;i=i.replace(/,/g,"");i=s?i+"]":i+"]?";o="^["+i+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";o=new RegExp(o);return this.optional(t)||o.test(e)},"Please specify a valid currency");e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date);e.validator.addMethod("dateITA",function(e,t){var n=false,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/,i,s,o,u,a;if(r.test(e)){i=e.split("/");s=parseInt(i[0],10);o=parseInt(i[1],10);u=parseInt(i[2],10);a=new Date(Date.UTC(u,o-1,s,12,0,0,0));if(a.getUTCFullYear()===u&&a.getUTCMonth()===o-1&&a.getUTCDate()===s){n=true}else{n=false}}else{n=false}return this.optional(t)||n},e.validator.messages.date);e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date);e.validator.addMethod("extension",function(e,t,n){n=typeof n==="string"?n.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(t)||e.match(new RegExp("\\.("+n+")$","i"))},e.validator.format("Please enter a value with a valid extension."));e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number");e.validator.addMethod("iban",function(e,t){if(this.optional(t)){return true}var n=e.replace(/ /g,"").toUpperCase(),r="",i=true,s="",o="",u,a,f,l,c,h,p,d,v;u=n.substring(0,2);h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};c=h[u];if(typeof c!=="undefined"){p=new RegExp("^[A-Z]{2}\\d{2}"+c+"$","");if(!p.test(n)){return false}}a=n.substring(4,n.length)+n.substring(0,4);for(d=0;d<a.length;d++){f=a.charAt(d);if(f!=="0"){i=false}if(!i){r+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(f)}}for(v=0;v<r.length;v++){l=r.charAt(v);o=""+s+""+l;s=o%97}return s===1},"Please specify a valid IBAN");e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please");e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address.");e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address.");e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please");e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please");e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number");e.validator.addMethod("mobileUK",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");e.validator.addMethod("nieES",function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[T]{1}/.test(e)){return e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e)}if(/^[XYZ]{1}/.test(e)){return e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23)}return false},"Please specify a valid NIE number.");e.validator.addMethod("nifES",function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(e)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8)}if(/^[KLM]{1}/.test(e)){return e[8]===String.fromCharCode(64)}return false},"Please specify a valid NIF number.");jQuery.validator.addMethod("notEqualTo",function(t,n,r){return this.optional(n)||!e.validator.methods.equalTo.call(this,t,n,r)},"Please enter a different value, values must not be the same.");e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please");e.validator.addMethod("pattern",function(e,t,n){if(this.optional(t)){return true}if(typeof n==="string"){n=new RegExp("^(?:"+n+")$")}return n.test(e)},"Invalid format.");e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number.");e.validator.addMethod("phoneUK",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");e.validator.addMethod("phoneUS",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number");e.validator.addMethod("phonesUK",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[A-Z] \d[A-Z]\d$/.test(e)},"Please specify a valid postal code");e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido.");e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code");e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code");e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode");e.validator.addMethod("require_from_group",function(t,n,r){var i=e(r[1],n.form),s=i.eq(0),o=s.data("valid_req_grp")?s.data("valid_req_grp"):e.extend({},this),u=i.filter(function(){return o.elementValue(this)}).length>=r[0];s.data("valid_req_grp",o);if(!e(n).data("being_validated")){i.data("being_validated",true);i.each(function(){o.element(this)});i.data("being_validated",false)}return u},e.validator.format("Please fill at least {0} of these fields."));e.validator.addMethod("skip_or_fill_minimum",function(t,n,r){var i=e(r[1],n.form),s=i.eq(0),o=s.data("valid_skip")?s.data("valid_skip"):e.extend({},this),u=i.filter(function(){return o.elementValue(this)}).length,a=u===0||u>=r[0];s.data("valid_skip",o);if(!e(n).data("being_validated")){i.data("being_validated",true);i.each(function(){o.element(this)});i.data("being_validated",false)}return a},e.validator.format("Please either skip these fields or fill at least {0} of them."));e.validator.addMethod("stateUS",function(e,t,n){var r=typeof n==="undefined",i=r||typeof n.caseSensitive==="undefined"?false:n.caseSensitive,s=r||typeof n.includeTerritories==="undefined"?false:n.includeTerritories,o=r||typeof n.includeMilitary==="undefined"?false:n.includeMilitary,u;if(!s&&!o){u="^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}else if(s&&o){u="^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else if(s){u="^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else{u="^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}u=i?new RegExp(u):new RegExp(u,"i");return this.optional(t)||u.test(e)},"Please specify a valid state");e.validator.addMethod("strippedminlength",function(t,n,r){return e(t).text().length>=r},e.validator.format("Please enter at least {0} characters"));e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59");e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format");e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url);e.validator.addMethod("vinUS",function(e){if(e.length!==17){return false}var t=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],n=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],r=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],i=0,s,o,u,a,f,l;for(s=0;s<17;s++){a=r[s];u=e.slice(s,s+1);if(s===8){l=u}if(!isNaN(u)){u*=a}else{for(o=0;o<t.length;o++){if(u.toUpperCase()===t[o]){u=n[o];u*=a;if(isNaN(l)&&o===8){l=t[o]}break}}}i+=u}f=i%11;if(f===10){f="X"}if(f===l){return true}return false},"The specified vehicle identification number (VIN) is invalid.");e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid");e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")});!function(e,t){var n=function(n,r){var i,s,o=this;r=r||{};this.$element=e(n);this.options=e.extend(true,{},e.fn.ajaxSelectPicker.defaults,r);this.LOG_ERROR=1;this.LOG_WARNING=2;this.LOG_INFO=3;this.LOG_DEBUG=4;this.lastRequest=false;this.previousQuery="";this.query="";this.request=false;var u=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(t){var n={};n.log=Boolean(o.options[t.from])?o.LOG_DEBUG:0;o.options=e.extend(true,{},o.options,n);delete o.options[t.from];o.log(o.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',n)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];if(u.length){e.map(u,function(t){if(o.options[t.from]){if(e.isPlainObject(t.to)){o.replaceValue(t.to,"{{{value}}}",o.options[t.from]);o.options=e.extend(true,{},o.options,t.to);o.log(o.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',t.to);delete o.options[t.from]}else if(e.isFunction(t.to)){t.to.apply(o,[t])}else{var n={};n[t.to]=o.options[t.from];o.options=e.extend(true,{},o.options,n);o.log(o.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',n);delete o.options[t.from]}}})}var a=this.$element.data();if(a["searchUrl"]){o.log(o.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+a["searchUrl"]+"\" '");this.options.ajax.url=a["searchUrl"]}var f=function(e,t){return t.toLowerCase()};var l=function(e,t,n){var r=[].concat(e),i=r.length,s=n||{};if(i){var o=r.shift();s[o]=l(r,t,s[o])}return i?s:t};var c=Object.keys(a).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(c.length){var h={};for(i=0,s=c.length;i<s;i++){var p=c[i].replace(/^abs([A-Z])/,f).replace(/([A-Z])/g,"-$1").toLowerCase();this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+p+'":',a[c[i]]);l(p.split("-"),a[c[i]],h)}this.options=e.extend(true,{},this.options,h);this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",h,this.options)}this.selectpicker=a["selectpicker"];if(!this.selectpicker){this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!");return null}if(!this.options.ajax.url){this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options);return null}this.locale=e.extend(true,{},e.fn.ajaxSelectPicker.locale);this.options.langCode=this.options.langCode||t.navigator.userLanguage||t.navigator.language||"en";if(!this.locale[this.options.langCode]){var d=this.options.langCode;this.options.langCode="en";var v=d.split("-");for(i=0,s=v.length;i<s;i++){var m=v.join("-");if(m.length&&this.locale[m]){this.options.langCode=m;break}v.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+d+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=e.extend(true,{},this.locale[this.options.langCode],this.options.locale);this.list=new t.AjaxBootstrapSelectList(this);this.list.refresh();setTimeout(function(){o.init()},500)};n.prototype.init=function(){var n,r=this;if(this.options.preserveSelected){this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(t){if(r.selectpicker.options.liveSearch){r.selectpicker.$searchbox.focus()}else{r.selectpicker.$button.focus()}t.preventDefault();t.stopPropagation();if(e(this).is(".bs-select-all")){if(r.selectpicker.$lis===null){r.selectpicker.$lis=r.selectpicker.$menu.find("li")}r.$element.find("option:enabled").prop("selected",true);e(r.selectpicker.$lis).not(".disabled").addClass("selected");r.selectpicker.render()}else{if(r.selectpicker.$lis===null){r.selectpicker.$lis=r.selectpicker.$menu.find("li")}r.$element.find("option:enabled").prop("selected",false);e(r.selectpicker.$lis).not(".disabled").removeClass("selected");r.selectpicker.render()}r.selectpicker.$element.change()})}this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange");this.selectpicker.$searchbox.on(this.options.bindEvent,function(i){var s=r.selectpicker.$searchbox.val();r.log(r.LOG_DEBUG,'Bind event fired: "'+r.options.bindEvent+'", keyCode:',i.keyCode,i);if(!r.options.cache){r.options.ignoredKeys[13]="enter"}if(r.options.ignoredKeys[i.keyCode]){r.log(r.LOG_DEBUG,"Key ignored.");return}clearTimeout(n);if(!s.length){if(r.options.clearOnEmpty){r.list.destroy()}if(!r.options.emptyRequest){return}}r.previousQuery=r.query;r.query=s;if(r.options.cache&&i.keyCode!==13){var o=r.list.cacheGet(r.query);if(o){r.list.setStatus(!o.length?r.t("statusNoResults"):"");r.list.replaceOptions(o);r.log(r.LOG_INFO,"Rebuilt options from cached data.");return}}n=setTimeout(function(){if(r.lastRequest&&r.lastRequest.jqXHR&&e.isFunction(r.lastRequest.jqXHR.abort)){r.lastRequest.jqXHR.abort()}r.request=new t.AjaxBootstrapSelectRequest(r);r.request.jqXHR.always(function(){r.lastRequest=r.request;r.request=false})},r.options.requestDelay||300)})};n.prototype.log=function(e,n){if(t.console&&this.options.log){if(typeof this.options.log!=="number"){if(typeof this.options.log==="string"){this.options.log=this.options.log.toLowerCase()}switch(this.options.log){case true:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case false:case"error":this.options.log=this.LOG_ERROR;break}}if(e<=this.options.log){var r=[].slice.apply(arguments,[2]);switch(e){case this.LOG_DEBUG:e="debug";break;case this.LOG_INFO:e="info";break;case this.LOG_WARNING:e="warn";break;default:case this.LOG_ERROR:e="error";break}var i="["+e.toUpperCase()+"] AjaxBootstrapSelect:";if(typeof n==="string"){r.unshift(i+" "+n)}else{r.unshift(n);r.unshift(i)}t.console[e].apply(t.console,r)}}};n.prototype.replaceValue=function(t,n,r,i){var s=this;i=e.extend({recursive:true,depth:false,limit:false},i);e.each(t,function(o,u){if(i.limit!==false&&typeof i.limit==="number"&&i.limit<=0){return false}if(e.isArray(t[o])||e.isPlainObject(t[o])){if(i.recursive&&i.depth===false||i.recursive&&typeof i.depth==="number"&&i.depth>0){s.replaceValue(t[o],n,r,i)}}else{if(u===n){if(i.limit!==false&&typeof i.limit==="number"){i.limit--}t[o]=r}}})};n.prototype.t=function(e,t){t=t||this.options.langCode;if(this.locale[t]&&this.locale[t].hasOwnProperty(e)){return this.locale[t][e]}this.log(this.LOG_WARNING,"Unknown translation key:",e);return e};t.AjaxBootstrapSelect=t.AjaxBootstrapSelect||n;var r=function(t){var n=this;this.$status=e(t.options.templates.status).hide().appendTo(t.selectpicker.$menu);var r=t.t("statusInitialized");if(r&&r.length){this.setStatus(r)}this.cache={};this.plugin=t;this.selected=[];this.title=null;this.selectedTextFormat=t.selectpicker.options.selectedTextFormat;if(t.options.preserveSelected){t.$element.on("change.abs.preserveSelected",function(r){var i=t.$element.find(":selected");n.selected=[];if(!t.selectpicker.multiple){i=i.last()}i.each(function(){var t=e(this);var r=t.attr("value");n.selected.push({value:r,text:t.text(),"class":t.attr("class")||"",data:t.data()||{},preserved:true,selected:true})});n.replaceOptions(n.cacheGet(n.plugin.query))})}};r.prototype.build=function(t){var n,r,i=t.length;var s=e("<select/>");var o=e("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",t);for(r=0;r<i;r++){var u=t[r];var a=e("<option/>").appendTo(u.preserved?o:s);if(u.hasOwnProperty("divider")){a.attr("data-divider","true");continue}a.val(u.value).text(u.text);if(u["class"].length){a.attr("class",u["class"])}if(u.disabled){a.attr("disabled",true)}if(u.selected&&!this.plugin.selectpicker.multiple){s.find(":selected").prop("selected",false)}if(u.selected){a.attr("selected",true)}for(n in u.data){if(u.data.hasOwnProperty(n)){a.attr("data-"+n,u.data[n])}}}if(o.find("option").length){o[this.plugin.options.preserveSelectedPosition==="before"?"prependTo":"appendTo"](s)}var f=s.html();this.plugin.log(this.plugin.LOG_DEBUG,f);return f};r.prototype.cacheGet=function(e,t){var n=this.cache[e]||t;this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",e,n);return n};r.prototype.cacheSet=function(e,t){this.cache[e]=t;this.plugin.log(this.LOG_DEBUG,"Saving to cache:",e,t)};r.prototype.destroy=function(){this.replaceOptions();this.plugin.list.setStatus();this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")};r.prototype.refresh=function(e){this.plugin.selectpicker.$menu.css("minHeight",0);this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var t=this.plugin.t("emptyTitle");if(!this.plugin.$element.find("option").length&&t&&t.length){this.setTitle(t)}else if(this.title){this.restoreTitle()}this.plugin.selectpicker.refresh();if(e){this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change");this.plugin.$element.trigger("change.$")}this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")};r.prototype.replaceOptions=function(e){var t,n,r,i="",s=[],o=[],u=[];e=e||[];if(this.selected&&this.selected.length){this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected);o=[].concat(this.selected,e);n=o.length;for(t=0;t<n;t++){r=o[t];if(r.hasOwnProperty("value")&&u.indexOf(r.value+"")===-1){u.push(r.value+"");s.push(r)}else{this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.")}}e=s}if(e.length){i=this.plugin.list.build(e)}this.plugin.$element.html(i);this.refresh();this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",e)};r.prototype.restore=function(){var e=this.plugin.list.cacheGet(this.plugin.previousQuery);if(e&&this.plugin.list.replaceOptions(e)){this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery)}this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery);return false};r.prototype.restoreTitle=function(){if(!this.plugin.request){this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat;if(this.title){this.plugin.$element.attr("title",this.title)}else{this.plugin.$element.removeAttr("title")}this.title=null}};r.prototype.setTitle=function(e){if(!this.plugin.request){this.title=this.plugin.$element.attr("title");this.plugin.selectpicker.options.selectedTextFormat="static";this.plugin.$element.attr("title",e)}};r.prototype.setStatus=function(e){e=e||"";if(e.length){this.$status.html(e).show()}else{this.$status.html("").hide()}};t.AjaxBootstrapSelectList=t.AjaxBootstrapSelectList||r;var i=function(t){var n=this;var r=function(e){return function(){n.plugin.log(n.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+e+" callback:",arguments);n[e].apply(n,arguments);if(n.callbacks[e]){n.plugin.log(n.plugin.LOG_INFO,"Invoking ajax."+e+" callback:",arguments);n.callbacks[e].apply(n,arguments)}}};var i=["beforeSend","success","error","complete"];var s,o=i.length;this.plugin=t;this.options=e.extend(true,{},t.options.ajax);this.callbacks={};for(s=0;s<o;s++){var u=i[s];if(this.options[u]&&e.isFunction(this.options[u])){this.callbacks[u]=this.options[u]}this.options[u]=r(u)}if(this.options.data&&e.isFunction(this.options.data)){this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}}this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query);this.jqXHR=e.ajax(this.options)};i.prototype.beforeSend=function(e){this.plugin.list.destroy();this.plugin.list.setStatus(this.plugin.t("statusSearching"))};i.prototype.complete=function(e,t){if(t!=="abort"){var n=this.plugin.list.cacheGet(this.plugin.query);if(n){if(n.length){this.plugin.list.setStatus()}else{this.plugin.list.destroy();this.plugin.list.setStatus(this.plugin.t("statusNoResults"));this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");return}}this.plugin.list.refresh(true)}};i.prototype.error=function(e,t,n){if(t!=="abort"){this.plugin.list.cacheSet(this.plugin.query);if(this.plugin.options.clearOnError){this.plugin.list.destroy()}this.plugin.list.setStatus(this.plugin.t("errorText"));if(this.plugin.options.restoreOnError){this.plugin.list.restore();this.plugin.list.setStatus()}}};i.prototype.process=function(t){var n,r,i,s,o,u;var a=[],f=[];this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,t);o=t;if(e.isFunction(this.plugin.options.preprocessData)){this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData);i=this.plugin.options.preprocessData.apply(this,[o]);if(typeof i!=="undefined"&&i!==null&&i!==false){o=i}}if(!e.isArray(o)){this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',o);return false}r=o.length;for(n=0;n<r;n++){s=o[n];this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",s);if(e.isPlainObject(s)){if(s.hasOwnProperty("divider")||s.hasOwnProperty("data")&&e.isPlainObject(s.data)&&s.data.divider){this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data.");a.push({divider:true})}else{if(s.hasOwnProperty("value")){if(f.indexOf(s.value+"")===-1){f.push(s.value+"");s=e.extend({text:s.value,"class":"",data:{},disabled:false,selected:false},s);a.push(s)}else{this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.")}}else{this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.')}}}}u=[].concat(a);if(e.isFunction(this.plugin.options.processData)){this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData);i=this.plugin.options.processData.apply(this,[u]);if(typeof i!=="undefined"&&i!==null&&i!==false){if(e.isArray(i)){u=i}else{this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",i);return false}}}this.plugin.list.cacheSet(this.plugin.query,u);this.plugin.log(this.plugin.LOG_INFO,"Processed data:",u);return u};i.prototype.success=function(t,n,r){if(!e.isArray(t)&&!e.isPlainObject(t)){this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",t);this.plugin.list.destroy();return}var i=this.process(t);this.plugin.list.replaceOptions(i)};t.AjaxBootstrapSelectRequest=t.AjaxBootstrapSelectRequest||i;e.fn.ajaxSelectPicker=function(n){return this.each(function(){if(!e(this).data("AjaxBootstrapSelect")){e(this).data("AjaxBootstrapSelect",new t.AjaxBootstrapSelect(this,n))}})};e.fn.ajaxSelectPicker.locale={};e.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},bindEvent:"keyup",cache:true,clearOnEmpty:true,clearOnError:true,emptyRequest:false,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta",229:"unknown"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:true,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:false,templates:{status:'<div class="status"></div>'}};e.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching..."};e.fn.ajaxSelectPicker.locale["en-FR"]={currentlySelected:"Selectionné",emptyTitle:"Select and begin typing",errorText:"Aucun resultat trouvé..",searchPlaceholder:"Recherche...",statusInitialized:"Tapez pour filtrer...",statusNoResults:"Aucun resultat...",statusSearching:"Patientez..."};e.fn.ajaxSelectPicker.locale.en=e.fn.ajaxSelectPicker.locale["en-US"];e.fn.ajaxSelectPicker.locale.fr=e.fn.ajaxSelectPicker.locale["en-FR"]}(jQuery,window);(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","../grid.base"],e)}else{e(jQuery)}})(function(e){e.jgrid=e.jgrid||{};if(!e.jgrid.hasOwnProperty("regional")){e.jgrid.regional=[]}e.jgrid.regional["fr"]={defaults:{recordtext:"Enregistrements {0} - {1} sur {2}",emptyrecords:"Aucun enregistrement à afficher",loadtext:"Chargement...",savetext:"Saving...",pgtext:"Page {0} sur {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Recherche...",Find:"Chercher",Reset:"Réinitialiser",odata:[{oper:"eq",text:"égal"},{oper:"ne",text:"différent"},{oper:"lt",text:"inférieur"},{oper:"le",text:"inférieur ou égal"},{oper:"gt",text:"supérieur"},{oper:"ge",text:"supérieur ou égal"},{oper:"bw",text:"commence par"},{oper:"bn",text:"ne commence pas par"},{oper:"in",text:"est dans"},{oper:"ni",text:"n'est pas dans"},{oper:"ew",text:"finit par"},{oper:"en",text:"ne finit pas par"},{oper:"cn",text:"contient"},{oper:"nc",text:"ne contient pas"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"},{oper:"bt",text:"entre"}],groupOps:[{op:"AND",text:"tous"},{op:"OR",text:"au moins un"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Ajouter",editCaption:"Editer",bSubmit:"Valider",bCancel:"Annuler",bClose:"Fermer",saveData:"Les données ont changé ! Enregistrer les modifications ?",bYes:"Oui",bNo:"Non",bExit:"Annuler",msg:{required:"Champ obligatoire",number:"Saisissez un nombre correct",minValue:"La valeur doit être supérieure ou égale à",maxValue:"La valeur doit être inférieure ou égale à",email:"n'est pas un email correct",integer:"Saisissez un entier correct",url:"n'est pas une adresse correcte. Préfixe requis ('http://' or 'https://')",nodefined:" n'est pas défini!",novalue:" la valeur de retour est requise!",customarray:"Une fonction personnalisée devrait retourner un tableau (array)!",customfcheck:"Une fonction personnalisée devrait être présente dans le cas d'une vérification personnalisée!"}},view:{caption:"Voir les enregistrement",bClose:"Fermer"},del:{caption:"Supprimer",msg:"Supprimer les enregistrements sélectionnés ?",bSubmit:"Supprimer",bCancel:"Annuler"},nav:{edittext:" ",edittitle:"Editer la ligne sélectionnée",addtext:" ",addtitle:"Ajouter une ligne",deltext:" ",deltitle:"Supprimer la ligne sélectionnée",searchtext:" ",searchtitle:"Chercher un enregistrement",refreshtext:"",refreshtitle:"Recharger le tableau",alertcap:"Avertissement",alerttext:"Veuillez sélectionner une ligne",viewtext:"",viewtitle:"Afficher la ligne sélectionnée",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Afficher/Masquer les colonnes",bSubmit:"Valider",bCancel:"Annuler"},errors:{errcap:"Erreur",nourl:"Aucune adresse n'est paramétrée",norecords:"Aucun enregistrement à traiter",model:"Nombre de titres (colNames) <> Nombre de données (colModel)!"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},number:{decimalSeparator:",",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0,00"},currency:{decimalSeparator:",",thousandsSeparator:" ",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0,00"},date:{dayNames:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],monthNames:["Jan","Fév","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Déc","Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],AmPm:["am","pm","AM","PM"],S:function(e){return e==1?"er":"e"},srcformat:"Y-m-d",newformat:"d/m/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:false,userLocalTime:false},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:true},idName:"id"},colmenu:{sortasc:"Sort Ascending",sortdesc:"Sort Descending",columns:"Columns",filter:"Filter",grouping:"Group By",ungrouping:"Ungroup",searchTitle:"Get items with value that:",freeze:"Freeze",unfreeze:"Unfreeze",reorder:"Move to reorder"}}});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){"use strict";$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.1.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var t,n=$.makeArray(arguments).slice(1),r=n.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,i){if(!isNaN(parseInt(i,10)))return n[parseInt(i,10)];for(t=0;r>t;t++)if($.isArray(n[t]))for(var s=n[t],o=s.length;o--;)if(i===s[o].nm)return s[o].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=n.exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var n=$.type(e);return("string"===n||"number"===n)&&(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,n,r){var i,s,o,u=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,l=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),c="string"==typeof t?t.match(l):null,h=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},p={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},d=0,v=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(void 0===r&&(r=$.jgrid.getRegional(this,"formatter.date")),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)d=t;else if(null!==c)d=new Date(parseInt(c[1],10)),c[3]&&(m=60*Number(c[5])+Number(c[6]),m*="-"===c[4]?1:-1,m-=d.getTimezoneOffset(),d.setTime(Number(Number(d)+60*m*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),s=0,o=e.length;o>s;s++){switch(e[s]){case"M":i=$.inArray(t[s],r.monthNames),-1!==i&&12>i&&(t[s]=i+1,p.m=t[s]);break;case"F":i=$.inArray(t[s],r.monthNames,12),-1!==i&&i>11&&(t[s]=i+1-12,p.m=t[s]);break;case"n":e[s]="m";break;case"j":e[s]="d";break;case"a":i=$.inArray(t[s],r.AmPm),-1!==i&&2>i&&t[s]===r.AmPm[i]&&(t[s]=i,p.h=v(t[s],p.h));break;case"A":i=$.inArray(t[s],r.AmPm),-1!==i&&i>1&&t[s]===r.AmPm[i]&&(t[s]=i-2,p.h=v(t[s],p.h));break;case"g":p.h=parseInt(t[s],10)}void 0!==t[s]&&(p[e[s].toLowerCase()]=parseInt(t[s],10))}if(p.f&&(p.m=p.f),0===p.m&&0===p.y&&0===p.d)return"&#160;";p.m=parseInt(p.m,10)-1;var g=p.y;g>=70&&99>=g?p.y=1900+p.y:g>=0&&69>=g&&(p.y=2e3+p.y),d=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u),m>0&&d.setTime(Number(Number(d)+60*m*1e3))}else d=new Date(1e3*parseFloat(t));else d=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u);if(r.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset(),m>0&&d.setTime(Number(Number(d)+60*m*1e3))),void 0===n)return d;r.masks.hasOwnProperty(n)?n=r.masks[n]:n||(n="Y-m-d");var y=d.getHours(),b=d.getMinutes(),w=d.getDate(),E=d.getMonth()+1,S=d.getTimezoneOffset(),x=d.getSeconds(),T=d.getMilliseconds(),N=d.getDay(),C=d.getFullYear(),k=(N+6)%7+1,L=(new Date(C,E-1,w)-new Date(C,0,1))/864e5,A={d:h(w),D:r.dayNames[N],j:w,l:r.dayNames[N+7],N:k,S:r.S(w),w:N,z:L,W:5>k?Math.floor((L+k-1)/7)+1:Math.floor((L+k-1)/7)||(((new Date(C-1,0,1)).getDay()+6)%7<4?53:52),F:r.monthNames[E-1+12],m:h(E),M:r.monthNames[E-1],n:E,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:12>y?r.AmPm[0]:r.AmPm[1],A:12>y?r.AmPm[2]:r.AmPm[3],B:"?",g:y%12||12,G:y,h:h(y%12||12),H:h(y),i:h(b),s:h(x),u:T,e:"?",I:"?",O:(S>0?"-":"+")+h(100*Math.floor(Math.abs(S)/60)+Math.abs(S)%60,4),P:"?",T:(String(d).match(a)||[""]).pop().replace(f,""),Z:"?",c:"?",r:"?",U:Math.floor(d/1e3)};return n.replace(u,function(e){return A.hasOwnProperty(e)?A[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var n,r,i,s=[];if("function"==typeof t)return t(e);if(n=e[t],void 0===n)try{if("string"==typeof t&&(s=t.split(".")),i=s.length)for(n=e;n&&i--;)r=s.shift(),n=n[r]}catch(o){}return n},getXmlData:function(e,t,n){var r,i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):i&&i[2]?i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]):(r=$(t,e),n?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},getRegional:function(e,t,n){var r;return void 0!==n?n:(e.p&&e.p.regional&&$.jgrid.regional&&(r=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),void 0===r&&(r=$.jgrid.getAccessor($.jgrid,t)),r)},isMobile:function(){try{return/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)?!0:!1}catch(e){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(n,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;_orDepth>t;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,n){var r=Object.prototype.toString;return void 0===n&&(n=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===r.call(e)&&"[object Date]"===r.call(t)?t>e?-n:e>t?n:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),t>e?-n:e>t?n:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var n=_sorting[t].by,r=_sorting[t].dir,i=_sorting[t].type,s=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,n,r,i,s,o);t++;var u,a,f,l=self._getGroup(e,n,r,i,s),c=[];for(u=0;u<l.length;u++)for(f=self._doSort(l[u].items,t),a=0;a<f.length;a++)c.push(f[a]);return c},this._getOrder=function(e,t,n,r,i,s){var o,u,a,f,l=[],c=[],h="a"===n?1:-1;void 0===r&&(r="text"),f="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate.call($t,i,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,n){u=""!==t?$.jgrid.getAccessor(n,t):n,void 0===u&&(u=""),u=f(u,n),c.push({vSort:u,index:e})}),$.isFunction(s)?c.sort(function(e,t){return e=e.vSort,t=t.vSort,s.call(this,e,t,h)}):c.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,h)}),a=0;for(var p=e.length;p>a;)o=c[a].index,l.push(e[o]),a++;return l},this._getGroup=function(e,t,n,r,i){var s,o=[],u=null,a=null;return $.each(self._getOrder(e,t,n,r,i),function(e,n){s=$.jgrid.getAccessor(n,t),null==s&&(s=""),self._equals(a,s)||(a=s,null!==u&&o.push(u),u=self._group(t,s)),u.items.push(n)}),null!==u&&o.push(u),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(n,r){t.push(e(r))}),t}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(e,t,n){return _negate=!_negate,self.and(e,t,n)},this.orNot=function(e,t,n){return _negate=!_negate,self.or(e,t,n)},this.not=function(e,t,n){return self.andNot(e,t,n)},this.and=function(e,t,n){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,n)},this.or=function(e,t,n){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,n)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,n,r,i){var s;s=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===n&&(n=null);var o=n,u=void 0===i.stype?"text":i.stype;if(null!==n)switch(u){case"int":case"integer":o=isNaN(Number(o))||""===o?"0":o,s="parseInt("+s+",10)",o="parseInt("+o+",10)";break;case"float":case"number":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":o,s="parseFloat("+s+")",o="parseFloat("+o+")";break;case"date":case"datetime":o=String($.jgrid.parseDate.call($t,i.srcfmt||"Y-m-d",o).getTime()),s='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+i.srcfmt+'",'+s+").getTime()";break;default:s=self._getStr(s),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(s+" "+r+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,n){return self._compareValues(self.equals,e,t,"==",n)},this.notEquals=function(e,t,n){return self._compareValues(self.equals,e,t,"!==",n)},this.isNull=function(e,t,n){return self._compareValues(self.equals,e,null,"===",n)},this.greater=function(e,t,n){return self._compareValues(self.greater,e,t,">",n)},this.less=function(e,t,n){return self._compareValues(self.less,e,t,"<",n)},this.greaterOrEquals=function(e,t,n){return self._compareValues(self.greaterOrEquals,e,t,">=",n)},this.lessOrEquals=function(e,t,n){return self._compareValues(self.lessOrEquals,e,t,"<=",n)},this.startsWith=function(e,t){var n=null==t?e:t,r=_trim?$.trim(n.toString()).length:n.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var n=null==t?e:t,r=_trim?$.trim(n.toString()).length:n.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,n,r){return self._hasData()?self._getGroup(_data,e,t,n,r):null},this.orderBy=function(e,t,n,r,i){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==n&&(n="text"),null==r&&(r="Y-m-d"),null==i&&(i=!1),("desc"===t||"descending"===t)&&(t="d"),("asc"===t||"ascending"===t)&&(t="a"),_sorting.push({by:e,dir:t,type:n,datefmt:r,sfunc:i}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,n=$("#"+$.jgrid.jqID(e))[0];if(n.grid){t=n.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(n,!0,!0),$(document).unbind("mouseup.jqGrid"+n.p.id),$(t.hDiv).unbind("mousemove"),$(n).unbind();var r,i=t.headers.length,s=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(r=0;i>r;r++)t.headers[r].el=null;for(r in t)t.hasOwnProperty(r)&&(t[r]=null);for(r in n.p)n.p.hasOwnProperty(r)&&(n.p[r]=$.isArray(n.p[r])?[]:null);for(i=s.length,r=0;i>r;r++)n.hasOwnProperty(s[r])&&(n[s[r]]=null,delete n[s[r]])}},gridUnload:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var n={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var r=document.createElement("table");r.className=n.cl;var i=$.jgrid.jqID(t.id);$(r).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+i),1===$(t.p.pager).parents("#gbox_"+i).length&&$(t.p.pager).insertBefore("#gbox_"+i),$.jgrid.clearBeforeUnload(e),$("#gbox_"+i).remove(),$(r).attr({id:n.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(n){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"cbox",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all ui-dialog",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"},colmenu:{menu_widget:"ui-widget ui-widget-content ui-corner-all",input_checkbox:"ui-widget ui-widget-content",filter_select:"ui-widget-content ui-corner-all",filter_input:"ui-widget-content ui-corner-all",icon_menu:"ui-icon-comment",icon_sort_asc:"ui-icon-arrow-1-n",icon_sort_desc:"ui-icon-arrow-1-s",icon_columns:"ui-icon-extlink",icon_filter:"ui-icon-calculator",icon_group:"ui-icon-grip-solid-horizontal",icon_freeze:"ui-icon-grip-solid-vertical",icon_move:"ui-icon-arrow-4"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"},colmenu:{menu_widget:"",input_checkbox:"",filter_select:"form-control",filter_input:"form-control",icon_menu:"glyphicon-menu-hamburger",icon_sort_asc:"glyphicon-sort-by-alphabet",icon_sort_desc:"glyphicon-sort-by-alphabet-alt",icon_columns:"glyphicon-list-alt",icon_filter:"glyphicon-filter",icon_group:"glyphicon-align-left",icon_freeze:"glyphicon-object-align-horizontal",icon_move:"glyphicon-move"}}}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var n=$.makeArray(arguments).slice(1);return t.apply(this,n)}return this.each(function(){if(!this.grid){var t;null!=e&&void 0!==e.data&&(t=e.data,e.data=[]);var n=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",responsive:!1,restoreCellonFail:!0,colFilters:{},colMenu:!1},$.jgrid.defaults,e);void 0!==t&&(n.data=t,e.data=t);var r=this,i={headers:[],cols:[],footers:[],dragStart:function(e,t,i){var s=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-s},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(n.id),"#gbox_"+$.jgrid.jqID(n.id)),this.curGbox.css({display:"block",left:t.pageX-s,top:i[1],height:i[2]}),$(r).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(n.resizeStart)&&n.resizeStart.call(r,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,r,i=e.pageX-this.resizing.startX,s=this.headers[this.resizing.idx],o="ltr"===n.direction?s.width+i:s.width-i;o>33&&(this.curGbox.css({left:this.resizing.sOL+i}),n.forceFit===!0?(t=this.headers[this.resizing.idx+n.nv],r="ltr"===n.direction?t.width-i:t.width+i,r>n.minColWidth&&(s.newWidth=o,t.newWidth=r)):(this.newWidth="ltr"===n.direction?n.tblwidth+i:n.tblwidth-i,s.newWidth=o))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,i=this.headers[t].newWidth||this.headers[t].width;i=parseInt(i,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(n.id)).css("display","none"),n.colModel[t].width=i,this.headers[t].width=i,this.headers[t].el.style.width=i+"px",this.cols[t].style.width=i+"px",this.footers.length>0&&(this.footers[t].style.width=i+"px"),n.forceFit===!0?(i=this.headers[t+n.nv].newWidth||this.headers[t+n.nv].width,this.headers[t+n.nv].width=i,this.headers[t+n.nv].el.style.width=i+"px",this.cols[t+n.nv].style.width=i+"px",this.footers.length>0&&(this.footers[t+n.nv].style.width=i+"px"),n.colModel[t+n.nv].width=i):(n.tblwidth=this.newWidth||n.tblwidth,$("table:first",this.bDiv).css("width",n.tblwidth+"px"),$("table:first",this.hDiv).css("width",n.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,n.footerrow&&($("table:first",this.sDiv).css("width",n.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(r).triggerHandler("jqGridResizeStop",[i,t]),$.isFunction(n.resizeStop)&&n.resizeStop.call(r,i,t))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){i.timer&&clearTimeout(i.timer),i.timer=null;var e=$(i.bDiv).height();if(e){var t,s,o=$("table:first",i.bDiv);if(o[0].rows.length)try{t=o[0].rows[1],s=t?$(t).outerHeight()||i.prevRowHeight:i.prevRowHeight}catch(u){s=i.prevRowHeight}if(s){i.prevRowHeight=s;var a,f,l,c=n.rowNum,h=i.scrollTop=i.bDiv.scrollTop,p=Math.round(o.position().top)-h,d=p+o.height(),v=s*c;if(e>d&&0>=p&&(void 0===n.lastpage||(parseInt((d+h+v-1)/v,10)||0)<=n.lastpage)&&(f=parseInt((e-d+v-1)/v,10)||1,d>=0||2>f||n.scroll===!0?(a=(Math.round((d+h)/v)||0)+1,p=-1):p=1),p>0&&(a=(parseInt(h/v,10)||0)+1,f=(parseInt((h+e)/v,10)||0)+2-a,l=!0),f){if(n.lastpage&&(a>n.lastpage||1===n.lastpage||a===n.page&&a===n.lastpage))return;i.hDiv.loading?i.timer=setTimeout(i.populateVisible,n.scrollTimeout):(n.page=a,l&&(i.selectionPreserver(o[0]),i.emptyRows.call(o[0],!1,!1)),i.populate(f)),n.scrollPopUp&&null!=n.lastpage&&($("#scroll_g"+n.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",n.pgtext),n.page,n.lastpage)).css({top:n.scrollTopOffset+h*((parseInt(n.height,10)-45)/(parseInt(s,10)*parseInt(n.records,10)))+"px",left:n.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+n.id).hide()}))}}}},scrollGrid:function(e){if(n.scroll){var t=i.bDiv.scrollTop;void 0===i.scrollTop&&(i.scrollTop=0),t!==i.scrollTop&&(i.scrollTop=t,i.timer&&clearTimeout(i.timer),i.timer=setTimeout(i.populateVisible,n.scrollTimeout))}i.hDiv.scrollLeft=i.bDiv.scrollLeft,n.footerrow&&(i.sDiv.scrollLeft=i.bDiv.scrollLeft),n.frozenColumns&&$(i.fbDiv).scrollTop(i.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,n=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,i=e.grid.bDiv.scrollLeft,s=function(){var o;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0)for(o=0;o<r.length;o++)r[o]!==n&&$(e).jqGrid("setSelection",r[o],!1,null);n&&$(e).jqGrid("setSelection",n,!1,null),e.grid.bDiv.scrollLeft=i,$(e).unbind(".selectionPreserver",s)};$(e).bind("jqGridGridComplete.selectionPreserver",s)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");var s,o,u,f=0;for(o in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(o)&&(0===f&&(s=o),f++);if(1===f&&s!==n.regional&&(n.regional=s),$(this).empty().attr("tabindex","0"),this.p=n,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(f=0;f<this.p.colModel.length;f++)this.p.colNames[f]=this.p.colModel[f].label||this.p.colModel[f].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.getRegional(this,"errors.model"));var l,c=$.jgrid.getMethod("getStyleUI"),h=r.p.styleUI+".common",p=c(h,"disabled",!0),d=c(h,"highlight",!0),v=c(h,"hover",!0),m=c(h,"cornerall",!0),g=c(h,"icon_base",!0),y=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].colmenu,b=$.jgrid.msie,w=[],E=[],S=[];h=r.p.styleUI+".base",l=$("<div "+c(h,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),u=r.p.direction,$(l).insertBefore(this),$(this).appendTo(l);var x=$("<div "+c(h,"entrieBox",!1,"ui-jqgrid")+"></div>");$(x).attr({id:"gbox_"+this.id,dir:u}).insertBefore(l),$(l).attr("id","gview_"+this.id).appendTo(x),$("<div "+c(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(l),$("<div "+c(h,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(l),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var T,N=["shiftKey","altKey","ctrlKey"],C=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},k=function(e,t,n,s,o,u){var a,f,l=r.p.colModel[e],c=l.align,h='style="',p=l.classes,d=l.name,v=[];return c&&(h+="text-align:"+c+";"),l.hidden===!0&&(h+="display:none;"),0===t?h+="width: "+i.headers[e].width+"px;":($.isFunction(l.cellattr)||"string"==typeof l.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[l.cellattr]))&&(a=$.isFunction(l.cellattr)?l.cellattr:$.jgrid.cellattr[l.cellattr],f=a.call(r,o,n,s,l,u),f&&"string"==typeof f&&(f=f.replace(/style/i,"style").replace(/title/i,"title"),f.indexOf("title")>-1&&(l.title=!1),f.indexOf("class")>-1&&(p=void 0),v=f.replace(/\-style/g,"-sti").split(/style/),2===v.length?(v[1]=$.trim(v[1].replace(/\-sti/g,"-style").replace("=","")),(0===v[1].indexOf("'")||0===v[1].indexOf('"'))&&(v[1]=v[1].substring(1)),h+=v[1].replace(/'/gi,'"')):h+='"')),v.length||(v[0]="",h+='"'),h+=(void 0!==p?' class="'+p+'"':"")+(l.title&&n?' title="'+$.jgrid.stripHtml(n)+'"':""),h+=' aria-describedby="'+r.p.id+"_"+d+'"',h+v[0]},L=function(e){return null==e||""===e?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(e):String(e)},A=function(e,t,n,i,s){var o,u=r.p.colModel[n];if(void 0!==u.formatter){e=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,e):e;var a={rowId:e,colModel:u,gid:r.p.id,pos:n,styleUI:r.p.styleUI};o=$.isFunction(u.formatter)?u.formatter.call(r,t,a,i,s):$.fmatter?$.fn.fmatter.call(r,u.formatter,t,a,i,s):L(t)}else o=L(t);return o},O=function(e,t,n,r,i,s){var o,u;return o=A(e,t,n,i,"add"),u=k(n,r,o,i,e,s),'<td role="gridcell" '+u+">"+o+"</td>"},M=function(e,t,n,i,s){var o='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+e+'" '+s+' name="jqg_'+r.p.id+"_"+e+'"'+(i?'checked="checked"':"")+"/>",u=k(t,n,"",null,e,!0);return'<td role="gridcell" '+u+">"+o+"</td>"},_=function(e,t,n,r,i){var s=(parseInt(n,10)-1)*parseInt(r,10)+1+t,o=k(e,t,s,null,t,!0);return'<td role="gridcell" '+i+" "+o+">"+s+"</td>"},D=function(e){var t,n,i=[],s=0;for(n=0;n<r.p.colModel.length;n++)t=r.p.colModel[n],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(i[s]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,r.p.keyName!==!1&&t.key===!0&&(r.p.keyName=i[s]),s++);return i},P=function(e){var t=r.p.remapColumns;return t&&t.length||(t=$.map(r.p.colModel,function(e,t){return t})),e&&(t=$.map(t,function(t){return e>t?null:t-e})),t},H=function(e,t){var n;this.p.deepempty?$(this.rows).slice(1).remove():(n=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(n)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},B=function(){var e,t,n,i,s,o,u,a,f,l,c,h=r.p,p=h.data,d=p.length,v=h.localReader,m=h.colModel,g=v.cell,y=(h.multiselect===!0?1:0)+(h.subGrid===!0?1:0)+(h.rownumbers===!0?1:0),b=h.scroll?$.jgrid.randId():1;if("local"===h.datatype&&v.repeatitems===!0)for(f=P(y),l=D("local"),i=h.keyIndex===!1?$.isFunction(v.id)?v.id.call(r,p):v.id:h.keyIndex,e=0;d>e;e++){for(n=p[e],s=$.jgrid.getAccessor(n,i),void 0===s&&("number"==typeof i&&null!=m[i+y]&&(s=$.jgrid.getAccessor(n,m[i+y].name)),void 0===s&&(s=b+e,g&&(o=$.jgrid.getAccessor(n,g)||n,s=null!=o&&void 0!==o[i]?o[i]:s,o=null))),a={},a[v.id]=s,g&&(n=$.jgrid.getAccessor(n,g)||n),c=$.isArray(n)?f:l,t=0;t<c.length;t++)u=$.jgrid.getAccessor(n,c[t]),a[m[t+y].name]=u;$.extend(!0,p[e],a)}},j=function(){var e,t,n,i=r.p.data.length;for(e=r.p.keyName===!1||r.p.loadonce===!0?r.p.localReader.id:r.p.keyName,r.p._index=[],t=0;i>t;t++)n=$.jgrid.getAccessor(r.p.data[t],e),void 0===n&&(n=String(t+1)),r.p._index[n]=t},F=function(e,t,n,i,s){var o,u="-1",a="",f=t?"display:none;":"",l=$(r).triggerHandler("jqGridRowAttr",[i,s,e]);if("object"!=typeof l&&(l=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,i,s,e):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,i,s,e):{}),!$.isEmptyObject(l)){l.hasOwnProperty("id")&&(e=l.id,delete l.id),l.hasOwnProperty("tabindex")&&(u=l.tabindex,delete l.tabindex),l.hasOwnProperty("style")&&(f+=l.style,delete l.style),l.hasOwnProperty("class")&&(n+=" "+l["class"],delete l["class"]);try{delete l.role}catch(c){}for(o in l)l.hasOwnProperty(o)&&(a+=" "+o+"="+l[o])}return'<tr role="row" id="'+e+'" tabindex="'+u+'" class="'+n+'"'+(""===f?"":' style="'+f+'"')+a+">"},I=function(e,t,n,i){var s=new Date,o="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,u="_id_",a=r.p.xmlReader,f="local"===r.p.datatype?"local":"xml";if(o&&(r.p.data=[],r.p._index={},r.p.localReader.id=u),r.p.reccount=0,$.isXMLDoc(e)){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(H.call(r,!1,!0),t=1);var l,p,d,v,m,g,y,b,w,E,S=$(r),x=0,T=r.p.multiselect===!0?1:0,N=0,k=r.p.rownumbers===!0?1:0,L=[],A={},B=[],j=r.p.altRows===!0?r.p.altclass:"",I=c(h,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.subGrid===!0&&(N=1,v=$.jgrid.getMethod("addSubGridCell")),a.repeatitems||(L=D(f)),m=r.p.keyName===!1?$.isFunction(a.id)?a.id.call(r,e):a.id:r.p.keyName,g=-1===String(m).indexOf("[")?L.length?function(e,t){return $(m,e).text()||t}:function(e,t){return $(a.cell,e).eq(m).text()||t}:function(e,t){return e.getAttribute(m.replace(/[\[\]]/g,""))||t},r.p.userData={},r.p.page=C($.jgrid.getXmlData(e,a.page),r.p.page),r.p.lastpage=C($.jgrid.getXmlData(e,a.total),1),r.p.records=C($.jgrid.getXmlData(e,a.records)),$.isFunction(a.userdata)?r.p.userData=a.userdata.call(r,e)||{}:$.jgrid.getXmlData(e,a.userdata,!0).each(function(){r.p.userData[this.getAttribute("name")]=$(this).text()});var q=$.jgrid.getXmlData(e,a.root,!0);q=$.jgrid.getXmlData(q,a.row,!0),q||(q=[]);var R,U=q.length,z=0,W=[],X=parseInt(r.p.rowNum,10),V=r.p.scroll?$.jgrid.randId():1,J=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first");if(U>0&&r.p.page<=0&&(r.p.page=1),q&&U){i&&(X*=i+1);var K,Q=$.isFunction(r.p.afterInsertRow),G=!1,Y=k?c(h,"rownumBox",!1,"jqgrid-rownum"):"",Z=T?c(h,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(G=r.p.groupingView.groupCollapse===!0,K=$.jgrid.getMethod("groupingPrepare"));U>z;){b=q[z],w=g(b,V+z),w=r.p.idPrefix+w,R=0===t?0:t+1,E=I+((R+z)%2===1?" "+j:"");var et=B.length;if(B.push(""),k&&B.push(_(0,z,r.p.page,r.p.rowNum,Y)),T&&B.push(M(w,k,z,!1,Z)),N&&B.push(v.call(S,T+k,z+t)),a.repeatitems){y||(y=P(T+N+k));var tt=$.jgrid.getXmlData(b,a.cell,!0);$.each(y,function(e){var n=tt[this];return n?(d=n.textContent||n.text,A[r.p.colModel[e+T+N+k].name]=d,void B.push(O(w,d,e+T+N+k,z+t,b,A))):!1})}else for(l=0;l<L.length;l++)d=$.jgrid.getXmlData(b,L[l]),A[r.p.colModel[l+T+N+k].name]=d,B.push(O(w,d,l+T+N+k,z+t,b,A));if(B[et]=F(w,G,E,A,b),B.push("</tr>"),r.p.grouping&&(W.push(B),r.p.groupingView._locgr||K.call(S,A,z),B=[]),(o||r.p.treeGrid===!0&&!r.p._ald)&&(A[u]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.data.push(A),r.p._index[A[u]]=r.p.data.length-1),r.p.gridview===!1&&(J.append(B.join("")),S.triggerHandler("jqGridAfterInsertRow",[w,A,b]),Q&&r.p.afterInsertRow.call(r,w,A,b),B=[]),A={},x++,z++,x===X)break}}if(r.p.gridview===!0&&(p=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?o||(S.jqGrid("groupingRender",W,r.p.colModel.length,r.p.page,X),W=null):r.p.treeGrid===!0&&p>0?$(r.rows[p]).after(B.join("")):(J.append(B.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-s,B=null,r.p.subGrid===!0)try{S.jqGrid("addSubGrid",T+k)}catch(nt){}if(x>0&&0===r.p.records&&(r.p.records=U),r.p.treeGrid===!0)try{S.jqGrid("setTreeNode",p+1,x+p+1)}catch(rt){}if(r.p.reccount=x,r.p.treeANode=-1,r.p.userDataOnFooter&&S.jqGrid("footerData","set",r.p.userData,!0),o&&(r.p.records=U,r.p.lastpage=Math.ceil(U/X)),n||r.updatepager(!1,!0),o){for(;U>x;){if(b=q[x],w=g(b,x+V),w=r.p.idPrefix+w,a.repeatitems){y||(y=P(T+N+k));var it=$.jgrid.getXmlData(b,a.cell,!0);$.each(y,function(e){var t=it[this];return t?(d=t.textContent||t.text,void (A[r.p.colModel[e+T+N+k].name]=d)):!1})}else for(l=0;l<L.length;l++)d=$.jgrid.getXmlData(b,L[l]),A[r.p.colModel[l+T+N+k].name]=d;A[u]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.grouping&&K.call(S,A,x),r.p.data.push(A),r.p._index[A[u]]=r.p.data.length-1,A={},x++}r.p.grouping&&(r.p.groupingView._locgr=!0,S.jqGrid("groupingRender",W,r.p.colModel.length,r.p.page,X),W=null)}}},q=function(e,t,n,i){var s=new Date;if(e){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(H.call(r,!1,!0),t=1);var o,u,a="_id_",f="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype;f&&(r.p.data=[],r.p._index={},r.p.localReader.id=a),r.p.reccount=0,"local"===r.p.datatype?(o=r.p.localReader,u="local"):(o=r.p.jsonReader,u="json");var l,p,v,m,g,y,b,w,E,S,x,T,N=$(r),k=0,L=[],A=r.p.multiselect?1:0,B=r.p.subGrid===!0?1:0,j=r.p.rownumbers===!0?1:0,I=P(A+B+j),q=D(u),R={},U=[],z=r.p.altRows===!0?r.p.altclass:"",W=c(h,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.page=C($.jgrid.getAccessor(e,o.page),r.p.page),r.p.lastpage=C($.jgrid.getAccessor(e,o.total),1),r.p.records=C($.jgrid.getAccessor(e,o.records)),r.p.userData=$.jgrid.getAccessor(e,o.userdata)||{},B&&(g=$.jgrid.getMethod("addSubGridCell")),E=r.p.keyName===!1?$.isFunction(o.id)?o.id.call(r,e):o.id:r.p.keyName,w=$.jgrid.getAccessor(e,o.root),null==w&&$.isArray(e)&&(w=e),w||(w=[]),b=w.length,p=0,b>0&&r.p.page<=0&&(r.p.page=1);var X,V,J=parseInt(r.p.rowNum,10),K=r.p.scroll?$.jgrid.randId():1,Q=!1;i&&(J*=i+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(Q=!0);var G,Y=$.isFunction(r.p.afterInsertRow),Z=[],et=!1,tt=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),nt=j?c(h,"rownumBox",!1,"jqgrid-rownum"):"",rt=A?c(h,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(et=r.p.groupingView.groupCollapse===!0,G=$.jgrid.getMethod("groupingPrepare"));b>p;){if(m=w[p],x=$.jgrid.getAccessor(m,E),void 0===x&&("number"==typeof E&&null!=r.p.colModel[E+A+B+j]&&(x=$.jgrid.getAccessor(m,r.p.colModel[E+A+B+j].name)),void 0===x&&(x=K+p,0===L.length&&o.cell))){var it=$.jgrid.getAccessor(m,o.cell)||m;x=null!=it&&void 0!==it[E]?it[E]:x,it=null}x=r.p.idPrefix+x,X=1===t?0:t,T=W+((X+p)%2===1?" "+z:""),Q&&(V=r.p.multiselect?-1!==$.inArray(x,r.p.selarrrow):x===r.p.selrow);var st=U.length;for(U.push(""),j&&U.push(_(0,p,r.p.page,r.p.rowNum,nt)),A&&U.push(M(x,j,p,V,rt)),B&&U.push(g.call(N,A+j,p+t)),y=q,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(y=I)),v=0;v<y.length;v++)l=$.jgrid.getAccessor(m,y[v]),R[r.p.colModel[v+A+B+j].name]=l,U.push(O(x,l,v+A+B+j,p+t,m,R));if(T+=V?" "+d:"",U[st]=F(x,et,T,R,m),U.push("</tr>"),r.p.grouping&&(Z.push(U),r.p.groupingView._locgr||G.call(N,R,p),U=[]),(f||r.p.treeGrid===!0&&!r.p._ald)&&(R[a]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.data.push(R),r.p._index[R[a]]=r.p.data.length-1),r.p.gridview===!1&&(tt.append(U.join("")),N.triggerHandler("jqGridAfterInsertRow",[x,R,m]),Y&&r.p.afterInsertRow.call(r,x,R,m),U=[]),R={},k++,p++,k===J)break}if(r.p.gridview===!0&&(S=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?f||(N.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,J),Z=null):r.p.treeGrid===!0&&S>0?$(r.rows[S]).after(U.join("")):(tt.append(U.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-s,U=null,r.p.subGrid===!0)try{N.jqGrid("addSubGrid",A+j)}catch(ot){}if(k>0&&0===r.p.records&&(r.p.records=b),r.p.treeGrid===!0)try{N.jqGrid("setTreeNode",S+1,k+S+1)}catch(ut){}if(r.p.reccount=k,r.p.treeANode=-1,r.p.userDataOnFooter&&N.jqGrid("footerData","set",r.p.userData,!0),f&&(r.p.records=b,r.p.lastpage=Math.ceil(b/J)),n||r.updatepager(!1,!0),f){for(;b>k&&w[k];){if(m=w[k],x=$.jgrid.getAccessor(m,E),void 0===x&&("number"==typeof E&&null!=r.p.colModel[E+A+B+j]&&(x=$.jgrid.getAccessor(m,r.p.colModel[E+A+B+j].name)),void 0===x&&(x=K+k,0===L.length&&o.cell))){var at=$.jgrid.getAccessor(m,o.cell)||m;x=null!=at&&void 0!==at[E]?at[E]:x,at=null}if(m){for(x=r.p.idPrefix+x,y=q,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(y=I)),v=0;v<y.length;v++)R[r.p.colModel[v+A+B+j].name]=$.jgrid.getAccessor(m,y[v]);R[a]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.grouping&&G.call(N,R,k),r.p.data.push(R),r.p._index[R[a]]=r.p.data.length-1,R={}}k++}r.p.grouping&&(r.p.groupingView._locgr=!0,N.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,J),Z=null)}}},R=function(){function e(t){var n,i,s,o,u,a,l=0;if(null!=t.groups){for(i=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),i&&g.orBegin(),n=0;n<t.groups.length;n++){l>0&&i&&g.or();try{e(t.groups[n])}catch(c){alert(c)}l++}i&&g.orEnd()}if(null!=t.rules)try{for(s=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),s&&g.orBegin(),n=0;n<t.rules.length;n++)u=t.rules[n],o=t.groupOp.toString().toUpperCase(),m[u.op]&&u.field&&(l>0&&o&&"OR"===o&&(g=g.or()),a=f[u.field],"date"===a.stype&&a.srcfmt&&a.newfmt&&a.srcfmt!==a.newfmt&&(u.data=$.jgrid.parseDate.call(r,a.newfmt,u.data,a.srcfmt)),g=m[u.op](g,o)(u.field,u.data,f[u.field])),l++;s&&g.orEnd()}catch(h){alert(h)}}var t,n,i,s,o=r.p.multiSort?[]:"",u=[],a=!1,f={},l=[],c=[];if($.isArray(r.p.data)){var h,p,d,v=r.p.grouping?r.p.groupingView:!1;if($.each(r.p.colModel,function(){if(n=this.sorttype||"text",d=this.index||this.name,"date"===n||"datetime"===n?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),i=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):t=i=this.datefmt||"Y-m-d",f[d]={stype:n,srcfmt:t,newfmt:i,sfunc:this.sortfunc||null}):f[d]={stype:n,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},r.p.grouping)for(p=0,h=v.groupField.length;h>p;p++)this.name===v.groupField[p]&&(l[p]=f[d],c[p]=d);r.p.multiSort||a||d!==r.p.sortname||(o=d,a=!0)}),r.p.multiSort&&(o=w,u=E),r.p.treeGrid&&r.p._sort)return void $(r).jqGrid("SortTree",o,r.p.sortorder,f[o].stype||"text",f[o].srcfmt||"");var m={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},g=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(g=g.ignoreCase()),r.p.search===!0){var y=r.p.postData.filters;if(y)"string"==typeof y&&(y=$.jgrid.parse(y)),e(y);else try{s=f[r.p.postData.searchField],"date"===s.stype&&s.srcfmt&&s.newfmt&&s.srcfmt!==s.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,s.newfmt,r.p.postData.searchString,s.srcfmt)),g=m[r.p.postData.searchOper](g)(r.p.postData.searchField,r.p.postData.searchString,f[r.p.postData.searchField])}catch(b){}}else r.p.treeGrid&&"nested"===r.p.treeGridModel&&g.orderBy(r.p.treeReader.left_field,"asc","integer","",null);if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(h=0,o=null),r.p.grouping)for(p=0;h>p;p++)g.orderBy(c[p],v.groupOrder[p],l[p].stype,l[p].srcfmt);r.p.multiSort?$.each(o,function(e){g.orderBy(this,u[e],f[this].stype,f[this].srcfmt,f[this].sfunc)}):o&&r.p.sortorder&&a&&("DESC"===r.p.sortorder.toUpperCase()?g.orderBy(r.p.sortname,"d",f[o].stype,f[o].srcfmt,f[o].sfunc):g.orderBy(r.p.sortname,"a",f[o].stype,f[o].srcfmt,f[o].sfunc));var S=g.select(),x=parseInt(r.p.rowNum,10),T=S.length,N=parseInt(r.p.page,10),C=Math.ceil(T/x),k={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var L,A,O,M=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(A in r.p.userData)r.p.userData.hasOwnProperty(A)&&(r.p.userData[A]=0);O=!0}for(L=0;T>L;L++){if(O)for(A in r.p.userData)r.p.userData.hasOwnProperty(A)&&(r.p.userData[A]+=parseFloat(S[L][A]||0));M.call($(r),S[L],L,x)}}return S=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",S):S.slice((N-1)*x,N*x),g=null,f=null,k[r.p.localReader.total]=C,k[r.p.localReader.page]=N,k[r.p.localReader.records]=T,k[r.p.localReader.root]=S,k[r.p.localReader.userdata]=r.p.userData,S=null,k}},U=function(e,t){var n,i,s,o,u,a,f,l,d="",m=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",g=m?"_"+m:"",y=r.p.toppager?"_"+r.p.toppager.substr(1):"";if(s=parseInt(r.p.page,10)-1,0>s&&(s=0),s*=parseInt(r.p.rowNum,10),u=s+r.p.reccount,r.p.scroll){var b=$("tbody:first > tr:gt(0)",r.grid.bDiv);s=u-b.length,r.p.reccount=b.length;var w=b.outerHeight()||r.grid.prevRowHeight;if(w){var E=s*w,S=parseInt(r.p.records,10)*w;$(">div:first",r.grid.bDiv).css({height:S}).children("div:first").css({height:E,display:E?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*w)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(d=r.p.pager||"",d+=r.p.toppager?d?","+r.p.toppager:r.p.toppager:""){if(f=$.jgrid.getRegional(r,"formatter.integer"),n=C(r.p.page),i=C(r.p.lastpage),$(".selbox",d)[this.p.useProp?"prop":"attr"]("disabled",!1),r.p.pginput===!0&&($("#input"+g).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+c(h,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),r.p.toppager&&$("#input_t"+y).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+c(h,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",d).val(r.p.page),l=r.p.toppager?"#sp_1"+g+",#sp_1"+g+"_toppager":"#sp_1"+g,$(l).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,f):r.p.lastpage)),r.p.viewrecords)if(0===r.p.reccount)$(".ui-paging-info",d).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords));else{o=s+1,a=r.p.records,$.fmatter&&(o=$.fmatter.util.NumberFormat(o,f),u=$.fmatter.util.NumberFormat(u,f),a=$.fmatter.util.NumberFormat(a,f));var x=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",d).html($.jgrid.template(x,o,u,a))}r.p.pgbuttons===!0&&(0>=n&&(n=i=0),1===n||0===n?($("#first"+g+", #prev"+g).addClass(p).removeClass(v),r.p.toppager&&$("#first_t"+y+", #prev_t"+y).addClass(p).removeClass(v)):($("#first"+g+", #prev"+g).removeClass(p),r.p.toppager&&$("#first_t"+y+", #prev_t"+y).removeClass(p)),n===i||0===n?($("#next"+g+", #last"+g).addClass(p).removeClass(v),r.p.toppager&&$("#next_t"+y+", #last_t"+y).addClass(p).removeClass(v)):($("#next"+g+", #last"+g).removeClass(p),r.p.toppager&&$("#next_t"+y+", #last_t"+y).removeClass(p)))}e===!0&&r.p.rownumbers===!0&&$(">td.jqgrid-rownum",r.rows).each(function(e){$(this).html(s+1+e)}),t&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},z=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},W=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},X=function(e){if(!r.grid.hDiv.loading){var t,n,i=r.p.scroll&&e===!1,s={},o=r.p.prmNames;r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==o.search&&(s[o.search]=r.p.search),null!==o.nd&&(s[o.nd]=(new Date).getTime()),null!==o.rows&&(s[o.rows]=r.p.rowNum),null!==o.page&&(s[o.page]=r.p.page),null!==o.sort&&(s[o.sort]=r.p.sortname),null!==o.order&&(s[o.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==o.totalrows&&(s[o.totalrows]=r.p.rowTotal);var u=$.isFunction(r.p.loadComplete),a=u?r.p.loadComplete:null,f=0;if(e=e||1,e>1?null!==o.npage?(s[o.npage]=e,f=e-1,e=1):a=function(t){r.p.page++,r.grid.hDiv.loading=!1,u&&r.p.loadComplete.call(r,t),X(e-1)}:null!==o.npage&&delete r.p.postData[o.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var l,c=r.p.groupingView,h="";for(l=0;l<c.groupField.length;l++){var p=c.groupField[l];$.each(r.p.colModel,function(e,t){t.name===p&&t.index&&(p=t.index)}),h+=p+" "+c.groupOrder[l]+", "}s[o.sort]=h+s[o.sort]}$.extend(r.p.postData,s);var d=r.p.scroll?r.rows.length-1:1,v=$(r).triggerHandler("jqGridBeforeRequest");if(v===!1||"stop"===v)return;if($.isFunction(r.p.datatype))return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,d,e,f);if($.isFunction(r.p.beforeRequest)&&(v=r.p.beforeRequest.call(r),void 0===v&&(v=!0),v===!1))return;switch(t=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:t,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(n,s,o){return $.isFunction(r.p.beforeProcessing)&&r.p.beforeProcessing.call(r,n,s,o)===!1?void W():("xml"===t?I(n,d,e>1,f):q(n,d,e>1,f),$(r).triggerHandler("jqGridLoadComplete",[n]),a&&a.call(r,n),$(r).triggerHandler("jqGridAfterLoadComplete",[n]),i&&r.grid.populateVisible(),(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),n=null,void (1===e&&W()))},error:function(t,n,i){$.isFunction(r.p.loadError)&&r.p.loadError.call(r,t,n,i),1===e&&W(),t=null},beforeSend:function(e,t){var n=!0;return $.isFunction(r.p.loadBeforeSend)&&(n=r.p.loadBeforeSend.call(r,e,t)),void 0===n&&(n=!0),n===!1?!1:void z()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":z(),n="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),I(n),$(r).triggerHandler("jqGridLoadComplete",[n]),u&&r.p.loadComplete.call(r,n),$(r).triggerHandler("jqGridAfterLoadComplete",[n]),r.p.datatype="local",r.p.datastr=null,W();break;case"jsonstring":z(),n="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,q(n),$(r).triggerHandler("jqGridLoadComplete",[n]),u&&r.p.loadComplete.call(r,n),$(r).triggerHandler("jqGridAfterLoadComplete",[n]),r.p.datatype="local",r.p.datastr=null,W();break;case"local":case"clientside":z(),r.p.datatype="local",r.p._ald=!0;var m=R();q(m,d,e>1,f),$(r).triggerHandler("jqGridLoadComplete",[m]),a&&a.call(r,m),$(r).triggerHandler("jqGridAfterLoadComplete",[m]),i&&r.grid.populateVisible(),W(),r.p._ald=!1}r.p._sort=!1}},V=function(e){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",e);var t=r.p.frozenColumns?r.p.id+"_frozen":"";t&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",e)},J=function(e,t){var n,i,s,o,a,f,l,d="<td class='ui-pg-button "+p+"'><span class='ui-separator'></span></td>",m="",y="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",b="",w=function(e,t){var n;return $.isFunction(r.p.onPaging)&&(n=r.p.onPaging.call(r,e,t)),"stop"===n?!1:(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],V(!1)),r.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,n="pg_"+e,i=e+"_left",s=e+"_center",o=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+n+"' class='ui-pager-control' role='group'><table "+c(h,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+i+"' align='left'></td><td id='"+s+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){b='<td dir="'+u+'">',b+="<select "+c(h,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">';var E;for(l=0;l<r.p.rowList.length;l++)E=r.p.rowList[l].toString().split(":"),1===E.length&&(E[1]=E[0]),b+='<option role="option" value="'+E[0]+'"'+(C(r.p.rowNum,0)===C(E[0],0)?' selected="selected"':"")+">"+E[1]+"</option>";b+="</select></td>"}if("rtl"===u&&(y+=b),r.p.pginput===!0&&(m="<td id='input"+t+"' dir='"+u+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),r.p.pgbuttons===!0){var S=["first"+t,"prev"+t,"next"+t,"last"+t],x=c(h,"pgButtonBox",!0,"ui-pg-button"),T=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===u&&(S.reverse(),T.reverse()),y+="<td id='"+S[0]+"' class='"+x+"' title='"+T[0]+"'><span "+c(h,"icon_first",!1,g)+"></span></td>",y+="<td id='"+S[1]+"' class='"+x+"'  title='"+T[1]+"'><span "+c(h,"icon_prev",!1,g)+"></span></td>",y+=""!==m?d+m+d:"",y+="<td id='"+S[2]+"' class='"+x+"' title='"+T[2]+"'><span "+c(h,"icon_next",!1,g)+"></span></td>",y+="<td id='"+S[3]+"' class='"+x+"' title='"+T[3]+"'><span "+c(h,"icon_end",!1,g)+"></span></td>"}else""!==m&&(y+=m);"ltr"===u&&(y+=b),y+="</tr></tbody></table>",r.p.viewrecords===!0&&$("td#"+e+"_"+r.p.recordpos,"#"+n).append("<div dir='"+u+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+r.p.pagerpos,"#"+n).append(y),f=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+c(h,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+f+";visibility:hidden;' ></div>"),a=$(y).clone().appendTo("#testpg").width(),$("#testpg").remove(),a>0&&(""!==m&&(a+=50),$("td#"+e+"_"+r.p.pagerpos,"#"+n).width(a)),r.p._nvtd=[],r.p._nvtd[0]=a?Math.floor((r.p.width-a)/2):Math.floor(r.p.width/3),r.p._nvtd[1]=0,y=null,$(".ui-pg-selbox","#"+n).bind("change",function(){return w("records",this)?(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),X(),!1):!1}),r.p.pgbuttons===!0&&($(".ui-pg-button","#"+n).hover(function(){$(this).hasClass(p)?this.style.cursor="default":($(this).addClass(v),this.style.cursor="pointer")},function(){$(this).hasClass(p)||($(this).removeClass(v),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){if($(this).hasClass(p))return!1;var e=C(r.p.page,1),n=C(r.p.lastpage,1),i=!1,s=!0,o=!0,u=!0,a=!0;return 0===n||1===n?(s=!1,o=!1,u=!1,a=!1):n>1&&e>=1?1===e?(s=!1,o=!1):e===n&&(u=!1,a=!1):n>1&&0===e&&(u=!1,a=!1,e=n-1),w(this.id.split("_")[0],this)?(this.id==="first"+t&&s&&(r.p.page=1,i=!0),this.id==="prev"+t&&o&&(r.p.page=e-1,i=!0),this.id==="next"+t&&u&&(r.p.page=e+1,i=!0),this.id==="last"+t&&a&&(r.p.page=n,i=!0),i&&X(),!1):!1})),r.p.pginput===!0&&$("#"+n).on("keypress","input.ui-pg-input",function(e){var t=e.charCode||e.keyCode||0;return 13===t?w("user",this)?($(this).val(C($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,X(),!1):!1:this})},K=function(e,t){var n,i=r.p.colModel,s=r.p.frozenColumns?t:r.grid.headers[e].el,o="";$("span.ui-grid-ico-sort",s).addClass(p),$(s).attr("aria-selected","false"),n=i[e].index||i[e].name,i[e].lso?"asc"===i[e].lso?(i[e].lso+="-desc",o="desc"):"desc"===i[e].lso?(i[e].lso+="-asc",o="asc"):("asc-desc"===i[e].lso||"desc-asc"===i[e].lso)&&(i[e].lso=""):i[e].lso=o=i[e].firstsortorder||"asc",o?($("span.s-ico",s).show(),$("span.ui-icon-"+o,s).removeClass(p),$(s).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",s).hide();var u=w.indexOf(n);-1===u?(w.push(n),E.push(o)):o?E[u]=o:(E.splice(u,1),w.splice(u,1)),r.p.sortorder="",r.p.sortname="";for(var a=0,f=w.length;f>a;a++)a>0&&(r.p.sortname+=", "),r.p.sortname+=w[a],a!==f-1&&(r.p.sortname+=" "+E[a]);r.p.sortorder=E[f-1]},Q=function(e,t,n,i,s){if(r.p.colModel[t].sortable&&!(r.p.savedRow.length>0)){if(n||(r.p.lastsort===t&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[t].firstsortorder||"asc",r.p.page=1),r.p.multiSort)K(t,s);else{if(i){if(r.p.lastsort===t&&r.p.sortorder===i&&!n)return;r.p.sortorder=i}var o,u=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,a=r.p.frozenColumns?s:r.grid.headers[t].el,f="single"===r.p.viewsortcols[1]?!0:!1;o=$(u).find("span.ui-grid-ico-sort"),o.addClass(p),f&&$(o).css("display","none"),$(u).attr("aria-selected","false"),r.p.frozenColumns&&(o=r.grid.fhDiv.find("span.ui-grid-ico-sort"),o.addClass(p),f&&o.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),o=$(a).find("span.ui-icon-"+r.p.sortorder),o.removeClass(p),f&&o.css("display",""),$(a).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==t?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",u).hide(),$("span.s-ico",a).show()):""===r.p.sortname&&$("span.s-ico",a).show()),e=e.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[t].index||e}if("stop"===$(r).triggerHandler("jqGridSortCol",[r.p.sortname,t,r.p.sortorder]))return void (r.p.lastsort=t);if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,t,r.p.sortorder))return void (r.p.lastsort=t);if("local"===r.p.datatype?r.p.deselectAfterSort&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&V(!1),r.p.selarrrow=[],r.p.savedRow=[]),r.p.scroll){var l=r.grid.bDiv.scrollLeft;H.call(r,!0,!1),r.grid.hDiv.scrollLeft=l}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each(function(){$(this).trigger("click")}),r.p._sort=!0,X(),r.p.lastsort=t,r.p.sortname!==e&&t&&(r.p.lastsort=t)}},G=function(){var e,t,n,s,o=0,u=$.jgrid.cell_width?0:C(r.p.cellLayout,0),a=0,f=C(r.p.scrollOffset,0),l=!1,c=0;$.each(r.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var e=$.inArray(this.name,r.p.groupingView.groupField);e>=0&&r.p.groupingView.groupColumnShow.length>e&&(this.hidden=!r.p.groupingView.groupColumnShow[e])}this.widthOrg=t=C(this.width,0),this.hidden===!1&&(o+=t+u,this.fixed?c+=t+u:a++)}),isNaN(r.p.width)&&(r.p.width=o+(r.p.shrinkToFit!==!1||isNaN(r.p.height)?0:f)),i.width=r.p.width,r.p.tblwidth=o,r.p.shrinkToFit===!1&&r.p.forceFit===!0&&(r.p.forceFit=!1),r.p.shrinkToFit===!0&&a>0&&(n=i.width-u*a-c,isNaN(r.p.height)||(n-=f,l=!0),o=0,$.each(r.p.colModel,function(i){this.hidden!==!1||this.fixed||(t=Math.round(n*this.width/(r.p.tblwidth-u*a-c)),this.width=t,o+=t,e=i)}),s=0,l?i.width-c-(o+u*a)!==f&&(s=i.width-c-(o+u*a)-f):l||1===Math.abs(i.width-c-(o+u*a))||(s=i.width-c-(o+u*a)),r.p.colModel[e].width+=s,r.p.tblwidth=o+s+u*a+c,r.p.tblwidth>r.p.width&&(r.p.colModel[e].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},Y=function(e){var t,n=e,i=e;for(t=e+1;t<r.p.colModel.length;t++)if(r.p.colModel[t].hidden!==!0){i=t;break}return i-n},Z=function(e){var t=$(r.grid.headers[e].el),n=[t.position().left+t.outerWidth()];return"rtl"===r.p.direction&&(n[0]=r.p.width-n[0]),n[0]-=r.grid.bDiv.scrollLeft,n.push($(r.grid.hDiv).position().top),n.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),n},et=function(e){var t,n=r.grid.headers,i=$.jgrid.getCellIndex(e);for(t=0;t<n.length;t++)if(e===n[t].el){i=t;break}return i},tt=function(e,t,n){var i,s,o=r.p.colModel,u=o.length,a=[],f=$.jgrid.getRegional(r,"colmenu"),l='<ul id="col_menu" class="ui-search-menu  ui-col-menu modal-content" role="menu" tabindex="0" style="left:'+t+"px;top:"+e+'px;">';for(i=0;u>i;i++){var c=o[i].hidden?"":"checked",h=o[i].name,p=r.p.colNames[i];s="cb"===h||"subgrid"===h||"rn"===h||o[i].hidedlg?"style='display:none'":"",l+="<li "+s+' class="ui-menu-item" role="presentation" draggable="true"><a class="g-menu-item" tabindex="0" role="menuitem" ><table class="ui-common-table" ><tr><td class="menu_icon" title="'+f.reorder+'"><span class="'+g+" "+y.icon_move+' notclick"></span></td><td class="menu_icon"><input class="'+y.input_checkbox+'" type="checkbox" name="'+h+'" '+c+'></td><td class="menu_text">'+p+"</td></tr></table></a></li>",a.push(i)}l+="</ul>",$(n).append(l),$("#col_menu").addClass("ui-menu "+y.menu_widget),$.fn.html5sortable()&&$("#col_menu").html5sortable({handle:"span",forcePlaceholderSize:!0}).bind("sortupdate",function(e,t){for(a.splice(t.startindex,1),a.splice(t.endindex,0,t.startindex),$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",a,!0),$(r).jqGrid("setFrozenColumns"),i=0;u>i;i++)a[i]=i}),$("#col_menu > li > a").on("click",function(e){var t;$(e.target).hasClass("notclick")||($(e.target).is(":input")?t=$(e.target).is(":checked"):(t=!$("input",this).is(":checked"),$("input",this).prop("checked",t)),t?($(r).jqGrid("showCol",$("input",this).attr("name")),$(this).parent().attr("draggable","true")):($(r).jqGrid("hideCol",$("input",this).attr("name")),$(this).parent().attr("draggable","false")))}).hover(function(){$(this).addClass(v)},function(){$(this).removeClass(v)})},nt=function(e,t,n,i){var s,o,u,a,f,l=r.p.colModel[e],c="",h="",p="",d="",m="",g="",b=["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],w=["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],E=$.jgrid.getRegional(r,"search"),S=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(l){s=r.p.colFilters&&r.p.colFilters[l.name]?r.p.colFilters[l.name]:!1,s&&!$.isEmptyObject(s)&&(c=s.oper1,h=s.value1,p=s.rule,d=s.oper2,m=s.value2),l.searchoptions||(l.searchoptions={}),o=l.searchoptions.sopt?l.searchoptions.sopt:"text"===l.sorttype?w:b,u=l.searchoptions.operands?l.searchoptions.operands:E.groupOps,f=$("<form></form>");var x="<div>"+$.jgrid.getRegional(r,"colmenu.searchTitle")+"</div>";x+='<div><select id="oper1" class="'+y.filter_select+'">',$.each(E.odata,function(e,t){a=t.oper===c?'selected="selected"':"",-1!==$.inArray(t.oper,o)&&(g+='<option value="'+t.oper+'" '+a+">"+t.text+"</option>")}),x+=g,x+="</select></div>",f.append(x);var T="";l.searchoptions.defaultValue&&(T=$.isFunction(l.searchoptions.defaultValue)?l.searchoptions.defaultValue.call(r):l.searchoptions.defaultValue),h&&(T=h);var N=$.extend(l.searchoptions,{name:l.index||l.name,id:"sval1_"+r.p.idPrefix+l.name,oper:"search"}),C=$.jgrid.createEl.call(r,l.stype,N,T,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));$(C).addClass(y.filter_input),x=$("<div></div>").append(C),f.append(x),x='<div><select id="operand" class="'+y.filter_select+'">',$.each(u,function(e,t){a=t.op===p?'selected="selected"':"",x+="<option value='"+t.op+"' "+a+">"+t.text+"</option>"}),x+="</select></div>",f.append(x),g="",$.each(E.odata,function(e,t){a=t.oper===d?'selected="selected"':"",-1!==$.inArray(t.oper,o)&&(g+='<option value="'+t.oper+'" '+a+">"+t.text+"</option>")}),x='<div><select id="oper2" class="'+y.filter_select+'">'+g+"</select></div>",f.append(x),T=m?m:"",N=$.extend(l.searchoptions,{name:l.index||l.name,id:"sval2_"+r.p.idPrefix+l.name,oper:"search"}),C=$.jgrid.createEl.call(r,l.stype,N,T,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),$(C).addClass(y.filter_input),x=$("<div></div>").append(C),f.append(x),x="<div>",x+="<div class='search_buttons'><a tabindex='0' id='bs_reset' class='fm-button "+S.button+" ui-reset'>"+E.Reset+"</a></div>",x+="<div class='search_buttons'><a tabindex='0' id='bs_search' class='fm-button "+S.button+" ui-search'>"+E.Find+"</a></div>",x+="</div>",f.append(x),f=$('<li class="ui-menu-item" role="presentation"></li>').append(f),f=$('<ul id="search_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="left:'+n+"px;top:"+t+'px;"></ul>').append(f),$(i).append(f),$("#search_menu").addClass("ui-menu "+y.menu_widget),$("#bs_reset, #bs_search","#search_menu").hover(function(){$(this).addClass(v)},function(){$(this).removeClass(v)}),$(f).find("#bs_reset").click(function(e){return r.p.colFilters[l.name]={},r.p.postData.filters=rt(),r.p.search=!0,$(r).trigger("reloadGrid"),$("#column_menu").remove(),!1}),$(f).find("#bs_search").click(function(e){return r.p.colFilters[l.name]={oper1:$("#oper1","#search_menu").val(),value1:$("#sval1_"+r.p.idPrefix+l.name,"#search_menu").val(),rule:$("#operand","#search_menu").val(),oper2:$("#oper2","#search_menu").val(),value2:$("#sval2_"+r.p.idPrefix+l.name,"#search_menu").val()},r.p.postData.filters=rt(),r.p.search=!0,$(r).trigger("reloadGrid"),$("#column_menu").remove(),!1})}},rt=function(){var e="AND",t='{"groupOp":"'+e+'","rules":[], "groups" : [',n=0;for(var i in r.p.colFilters)if(r.p.colFilters.hasOwnProperty(i)){var s=r.p.colFilters[i];$.isEmptyObject(s)||(n>0&&(t+=","),t+='{"groupOp": "'+s.rule+'", "rules" : [',t+='{"field":"'+i+'",',t+='"op":"'+s.oper1+'",',s.value1+="",t+='"data":"'+s.value1.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',s.value2&&(t+=',{"field":"'+i+'",',t+='"op":"'+s.oper2+'",',s.value2+="",t+='"data":"'+s.value2.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}'),t+="]}",n++)}return t+="]}"},it=function(e,t){var n=r.p.colModel[e],i=r.p.groupingView;-1!==t?i.groupField.splice(t,1):i.groupField.push(n.name),$(r).jqGrid("groupingGroupBy",i.groupField),r.p.frozenColumns&&($(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("setFrozenColumns"))},st=function(e,t){var n,i=[],s=r.p.colModel.length,o=-1,u=r.p.colModel;for(n=0;s>n;n++)u[n].frozen&&(o=n),i.push(n);i.splice(e,1),i.splice(o+(t?1:0),0,e),u[e].frozen=t,$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",i,!0),$(r).jqGrid("setFrozenColumns")},ot=function(e,t,n){t=parseInt(t,10),n=parseInt(n,10)+25;var i,s,o=$(".ui-jqgrid-view").css("font-size")||"11px",u='<ul id="column_menu" class="ui-search-menu modal-content column-menu" role="menu" tabindex="0" style="font-size:'+o+";left:"+t+"px;top:"+n+'px;">',a=r.p.colModel[e],f=$.extend({sorting:!0,columns:!0,filtering:!0,seraching:!0,grouping:!0,freeze:!0},a.coloptions),l=$.jgrid.getRegional(r,"colmenu");f.sorting&&(u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortasc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_sort_asc+'"></span></td><td class="menu_text">'+l.sortasc+"</td></tr></table></a></li>",u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortdesc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_sort_desc+'"></span></td><td class="menu_text">'+l.sortdesc+"</td></tr></table></a></li>"),f.columns&&(u+='<li class="ui-menu-item divider" role="separator"></li>',u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="columns"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_columns+'"></span></td><td class="menu_text">'+l.columns+"</td></tr></table></a></li>"),f.filtering&&(u+='<li class="ui-menu-item divider" role="separator"></li>',u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="filtering"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_filter+'"></span></td><td class="menu_text">'+l.filter+" "+(a.label||a.name)+"</td></tr></table></a></li>"),f.grouping&&(i=$.inArray(a.name,r.p.groupingView.groupField),u+='<li class="ui-menu-item divider" role="separator"></li>',u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="grouping"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_group+'"></span></td><td class="menu_text">'+(-1!==i?l.ungrouping:l.grouping+" "+(a.label||a.name))+"</td></tr></table></a></li>"),f.freeze&&(s=a.frozen&&r.p.frozenColumns?!1:!0,u+='<li class="ui-menu-item divider" role="separator"></li>',u+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="freeze"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+g+" "+y.icon_freeze+'"></span></td><td class="menu_text">'+(s?l.freeze+" "+(a.label||a.name):l.unfreeze)+"</td></tr></table></a></li>"),u+="</ul>",$("body").append(u),$("#column_menu").addClass("ui-menu "+y.menu_widget),$("#column_menu > li > a").hover(function(){if($("#col_menu").remove(),$("#search_menu").remove(),"columns"===$(this).attr("value")){var t=$(this).parent().width()+18,n=$(this).parent().offset().top-40;tt(n,t,$(this).parent())}if("filtering"===$(this).attr("value")){var t=$(this).parent().width()+18,n=$(this).parent().offset().top-40;nt(e,n,t,$(this).parent())}$(this).addClass(v)},function(){$(this).removeClass(v)}).click(function(){var t=$(this).attr("value"),n=r.grid.headers[e].el;"sortasc"===t?Q("jqgh_"+r.p.id+"_"+a.name,e,!0,"asc",n):"sortdesc"===t?Q("jqgh_"+r.p.id+"_"+a.name,e,!0,"desc",n):"grouping"===t?it(e,i):"freeze"===t&&st(e,s),(-1!==t.indexOf("sort")||"grouping"===t||"freeze"===t)&&$(this).remove()})};for(r.p.colMenu&&$("body").on("click",function(e){$(e.target).closest(".column-menu").length||$("#column_menu").remove()}),this.p.id=this.id,-1===$.inArray(r.p.multikey,N)&&(r.p.multikey=!1),r.p.keyName=!1,f=0;f<r.p.colModel.length;f++)T="string"==typeof r.p.colModel[f].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[f].template]?$.jgrid.cmTemplate[r.p.colModel[f].template]:{}:r.p.colModel[f].template,r.p.colModel[f]=$.extend(!0,{},r.p.cmTemplate,T||{},r.p.colModel[f]),r.p.keyName===!1&&r.p.colModel[f].key===!0&&(r.p.keyName=r.p.colModel[f].name);if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),r.p.grouping===!0&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(ut){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(r).jqGrid("setSubGrid")}catch(at){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(B(),j());var ft,lt,ct,ht,pt,dt,vt,mt,gt,yt="<thead><tr class='ui-jqgrid-labels' role='row'>",bt="",wt="",Et="";if(r.p.shrinkToFit===!0&&r.p.forceFit===!0)for(f=r.p.colModel.length-1;f>=0;f--)if(!r.p.colModel[f].hidden){r.p.colModel[f].resizable=!1;break}if("horizontal"===r.p.viewsortcols[1]?(wt=" ui-i-asc",Et=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&(wt=" ui-single-sort-asc",Et=" ui-single-sort-desc",bt=" style='display:none'",r.p.viewsortcols[0]=!1),ft=b?"class='ui-th-div-ie'":"",mt="<span class='s-ico' style='display:none'>",mt+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+wt+" ui-sort-"+u+" "+p+" "+g+" "+c(h,"icon_asc",!0)+"'"+bt+"></span>",mt+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+Et+" ui-sort-"+u+" "+p+" "+g+" "+c(h,"icon_desc",!0)+"'"+bt+"></span></span>",r.p.multiSort&&r.p.sortname)for(w=r.p.sortname.split(","),f=0;f<w.length;f++)S=$.trim(w[f]).split(" "),w[f]=$.trim(S[0]),E[f]=S[1]?$.trim(S[1]):r.p.sortorder||"asc";for(f=0;f<this.p.colNames.length;f++){var St=r.p.headertitles?' title="'+$.jgrid.stripHtml(r.p.colNames[f])+'"':"";gt=r.p.colModel[f],gt.hasOwnProperty("colmenu")||(gt.colmenu="rn"===gt.name||"cb"===gt.name||"subgrid"===gt.name?!1:!0),yt+="<th id='"+r.p.id+"_"+gt.name+"' role='columnheader' "+c(h,"headerBox",!1,"ui-th-column ui-th-"+u)+" "+St+">",lt=gt.index||gt.name,yt+="<div class='ui-th-div' id='jqgh_"+r.p.id+"_"+gt.name+"' "+ft+">"+r.p.colNames[f],gt.width?gt.width=parseInt(gt.width,10):gt.width=150,"boolean"!=typeof gt.title&&(gt.title=!0),gt.lso="",lt===r.p.sortname&&(r.p.lastsort=f),r.p.multiSort&&(S=$.inArray(lt,w),-1!==S&&(gt.lso=E[S])),yt+=mt,r.p.colMenu&&gt.colmenu&&(yt+="<a class='colmenu' href='#'><span class='colmenuspan "+g+" "+y.icon_menu+"'></span></a>"),yt+="</div></th>"}if(yt+="</tr></thead>",mt=null,gt=null,$(this).append(yt),$("thead tr:first th",this).hover(function(){$(this).addClass(v)},function(){$(this).removeClass(v)}),this.p.multiselect){var xt,Tt=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).bind("click",function(){r.p.selarrrow=[];var e=r.p.frozenColumns===!0?r.p.id+"_frozen":"";this.checked?($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(p)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(d).attr("aria-selected","true"),r.p.selarrrow.push(this.id),r.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(d))))}),xt=!0,Tt=[]):($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(p)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(d).attr("aria-selected","false"),Tt.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(d))))}),r.p.selrow=null,xt=!1),$(r).triggerHandler("jqGridSelectAll",[xt?r.p.selarrrow:Tt,xt]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,xt?r.p.selarrrow:Tt,xt)})}if(r.p.autowidth===!0){var Nt=$(x).innerWidth();r.p.width=Nt>0?Nt:"nw"}G(),$(x).css("width",i.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(x).append("<div "+c(h,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(l).css("width",i.width+"px"),yt=$("thead:first",r).get(0);var Ct="";r.p.footerrow&&(Ct+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+c(h,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+c(h,"footerBox",!1,"footrow footrow-"+u)+">");var kt=$("tr:first",yt),Lt="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",kt).each(function(e){gt=r.p.colModel[e],ct=gt.width,void 0===gt.resizable&&(gt.resizable=!0),gt.resizable?(ht=document.createElement("span"),$(ht).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+u).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):ht="",$(this).css("width",ct+"px").prepend(ht),ht=null;var t="";gt.hidden&&($(this).css("display","none"),t="display:none;"),Lt+="<td role='gridcell' style='height:0px;width:"+ct+"px;"+t+"'></td>",i.headers[e]={width:ct,el:this},bt=gt.sortable,"boolean"!=typeof bt&&(gt.sortable=!0,bt=!0);var n=gt.name;"cb"!==n&&"subgrid"!==n&&"rn"!==n&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),bt&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),r.p.colModel[e].lso&&$("div span.ui-icon-"+gt.lso,this).removeClass(p).css("display","")):r.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+gt.lso,this).removeClass(p).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(p).css("display","")):e===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(p).css("display",""))),r.p.footerrow&&(Ct+="<td role='gridcell' "+k(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=et(this);return r.p.forceFit===!0&&(r.p.nv=Y(t)),i.dragStart(t,e,Z(t)),!1}}).click(function(e){if(r.p.disableClick)return r.p.disableClick=!1,!1;var t,n,i="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(i="th>div>span>span.ui-grid-ico-sort");var s=$(e.target).closest(i);if(1===s.length){var o;if(r.p.frozenColumns){var u=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each(function(e){return this.name===u?(o=e,!1):void 0})}else o=et(this);if($(e.target).hasClass("colmenuspan")){null!=$("#column_menu")[0]&&$("#column_menu").remove();var a=$.jgrid.getCellIndex(e.target);if(-1===a)return;var f=$(this).offset(),l=f.left,c=f.top;return ot(a,l,c,s),void e.stopPropagation()}return r.p.viewsortcols[2]||(t=!0,n=s.attr("sort")),null!=o&&Q($("div",this)[0].id,o,t,n,this),!1}}),gt=null,r.p.sortable&&$.fn.sortable)try{$(r).jqGrid("sortableColumns",kt)}catch(At){}r.p.footerrow&&(Ct+="</tr></tbody></table>"),Lt+="</tr>",vt=document.createElement("tbody"),this.appendChild(vt),$(this).addClass(c(h,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(Lt),Lt=null;var Ot=$("<table "+c(h,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(yt),Mt=r.p.caption&&r.p.hiddengrid===!0?!0:!1,_t=$("<div class='ui-jqgrid-hbox"+("rtl"===u?"-rtl":"")+"'></div>");yt=null,i.hDiv=document.createElement("div"),i.hDiv.style.width=i.width+"px",i.hDiv.className=c(h,"headerDiv",!0,"ui-jqgrid-hdiv"),$(i.hDiv).append(_t),$(_t).append(Ot),Ot=null,Mt&&$(i.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:i.width+"px"}).addClass(c(h,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(x),Mt&&$(r.p.pager).hide(),J(r.p.pager,"")),r.p.cellEdit===!1&&r.p.hoverrows===!0&&$(r).bind("mouseover",function(e){dt=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(dt).attr("class")&&$(dt).addClass(v)}).bind("mouseout",function(e){dt=$(e.target).closest("tr.jqgrow"),$(dt).removeClass(v)});var Dt,Pt,Ht;$(r).before(i.hDiv).click(function(e){if(pt=e.target,dt=$(pt,r.rows).closest("tr.jqgrow"),0===$(dt).length||dt[0].className.indexOf(p)>-1||($(pt,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id)return this;var t=$(pt).hasClass("cbox"),n=$(r).triggerHandler("jqGridBeforeSelectRow",[dt[0].id,e]);if(n=n===!1||"stop"===n?!1:!0,$.isFunction(r.p.beforeSelectRow)){var i=r.p.beforeSelectRow.call(r,dt[0].id,e);(i===!1||"stop"===i)&&(n=!1)}if("A"!==pt.tagName&&("INPUT"!==pt.tagName&&"TEXTAREA"!==pt.tagName&&"OPTION"!==pt.tagName&&"SELECT"!==pt.tagName||t))if(Dt=dt[0].id,pt=$(pt).closest("tr.jqgrow>td"),pt.length>0&&(Pt=$.jgrid.getCellIndex(pt),Ht=$(pt).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[Dt,Pt,Ht,e]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,Dt,Pt,Ht,e)),r.p.cellEdit!==!0){if(n)if(r.p.multikey)e[r.p.multikey]?$(r).jqGrid("setSelection",Dt,!0,e):r.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+Dt).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+Dt)[r.p.useProp?"prop":"attr"]("checked",!t));else if(r.p.multiselect&&r.p.multiboxonly)if(t)$(r).jqGrid("setSelection",Dt,!0,e);else{var s=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each(function(e,t){var n=$(r).jqGrid("getGridRowById",t);n&&$(n).removeClass(d),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),s&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s)).removeClass(d),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.p.selarrrow=[],$(r).jqGrid("setSelection",Dt,!0,e)}else $(r).jqGrid("setSelection",Dt,!0,e)}else if(r.p.multiselect&&t&&n)$(r).jqGrid("setSelection",Dt,!0,e);else if(pt.length>0)try{$(r).jqGrid("editCell",dt[0].rowIndex,Pt,!0)}catch(o){}}).bind("reloadGrid",function(e,t){if(r.p.treeGrid===!0&&(r.p.datatype=r.p.treedatatype),t=t||{},t.current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(B(),j())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],V(!1)),r.p.savedRow=[]),r.p.scroll&&H.call(r,!0,!1),t.page){var n=t.page;n>r.p.lastpage&&(n=r.p.lastpage),1>n&&(n=1),r.p.page=n,r.grid.prevRowHeight?r.grid.bDiv.scrollTop=(n-1)*r.grid.prevRowHeight*r.p.rowNum:r.grid.bDiv.scrollTop=0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===t.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),r.p.inlineNav===!0&&$(r).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(pt=e.target,dt=$(pt,r.rows).closest("tr.jqgrow"),0!==$(dt).length){Dt=dt[0].rowIndex,Pt=$.jgrid.getCellIndex(pt);var t=$(r).triggerHandler("jqGridDblClickRow",[$(dt).attr("id"),Dt,Pt,e]);return null!=t?t:$.isFunction(r.p.ondblClickRow)&&(t=r.p.ondblClickRow.call(r,$(dt).attr("id"),Dt,Pt,e),null!=t)?t:void 0}}).bind("contextmenu",function(e){if(pt=e.target,dt=$(pt,r.rows).closest("tr.jqgrow"),0!==$(dt).length){r.p.multiselect||$(r).jqGrid("setSelection",dt[0].id,!0,e),Dt=dt[0].rowIndex,Pt=$.jgrid.getCellIndex(pt);var t=$(r).triggerHandler("jqGridRightClickRow",[$(dt).attr("id"),Dt,Pt,e]);return null!=t?t:$.isFunction(r.p.onRightClickRow)&&(t=r.p.onRightClickRow.call(r,$(dt).attr("id"),Dt,Pt,e),null!=t)?t:void 0}}),i.bDiv=document.createElement("div"),b&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(i.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:i.width+"px"}).scroll(i.scrollGrid),$("table:first",i.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie?$(i.bDiv).bind("selectstart",function(){return!1}):$(i.bDiv).bind("mousedown",function(){return!1})),Mt&&$(i.bDiv).hide();var Bt=g+" "+c(h,"icon_caption_open",!0),jt=g+" "+c(h,"icon_caption_close",!0);i.cDiv=document.createElement("div");var Ft=r.p.hidegrid===!0?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+m+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover(function(){Ft.addClass(v)},function(){Ft.removeClass(v)}).append("<span class='ui-jqgrid-headlink "+Bt+"'></span>").css("rtl"===u?"left":"right","0px"):"";if($(i.cDiv).append(Ft).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===u?"-rtl":"")+" "+c(h,"gridtitleBox",!0)),$(i.cDiv).insertBefore(i.hDiv),r.p.toolbar[0]){var It=c(h,"customtoolbarBox",!0,"ui-userdata");i.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(i.uDiv).insertBefore(i.hDiv):"bottom"===r.p.toolbar[1]&&$(i.uDiv).insertAfter(i.hDiv),"both"===r.p.toolbar[1]?(i.ubDiv=document.createElement("div"),$(i.uDiv).addClass(It+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(i.hDiv).width(i.width),$(i.ubDiv).addClass(It+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(i.hDiv).width(i.width),Mt&&$(i.ubDiv).hide()):$(i.uDiv).width(i.width).addClass(It+" ui-userdata-top").attr("id","t_"+this.id),Mt&&$(i.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",i.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(i.topDiv).addClass(c(h,"toppagerBox",!0,"ui-jqgrid-toppager")).width(i.width).insertBefore(i.hDiv),J(r.p.toppager,"_t")),r.p.footerrow&&(i.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],_t=$("<div class='ui-jqgrid-hbox"+("rtl"===u?"-rtl":"")+"'></div>"),$(i.sDiv).append(_t).width(i.width).insertAfter(i.hDiv),$(_t).append(Ct),i.footers=$(".ui-jqgrid-ftable",i.sDiv)[0].rows[0].cells,r.p.rownumbers&&(i.footers[0].className=c(h,"rownumBox",!0,"jqgrid-rownum")),Mt&&$(i.sDiv).hide()),_t=null,r.p.caption){var qt=r.p.datatype;r.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",i.cDiv).click(function(e){var t,n=$.isFunction(r.p.onHeaderClick),s=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",o=this;return r.p.toolbar[0]===!0&&("both"===r.p.toolbar[1]&&(s+=", #"+$(i.ubDiv).attr("id")),s+=", #"+$(i.uDiv).attr("id")),t=$(s,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(s,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",function(){t--,0===t&&($("span",o).removeClass(Bt).addClass(jt),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),n&&(Mt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}):"hidden"===r.p.gridstate&&$(s,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",function(){t--,0===t&&($("span",o).removeClass(jt).addClass(Bt),Mt&&(r.p.datatype=qt,X(),Mt=!1),r.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),n&&(Mt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}),!1}),Mt&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",i.cDiv).trigger("click")))}else $(i.cDiv).hide(),r.p.toppager||$(i.hDiv).addClass(c(r.p.styleUI+".common","cornertop",!0));if($(i.hDiv).after(i.bDiv).mousemove(function(e){return i.resizing?(i.dragMove(e),!1):void 0}),$(".ui-jqgrid-labels",i.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+r.p.id,function(){return i.resizing?(i.dragEnd(!0),!1):!0}),r.formatCol=k,r.sortData=Q,r.updatepager=U,r.refreshIndex=j,r.setHeadCheckBox=V,r.constructTr=F,r.formatter=function(e,t,n,r,i){return A(e,t,n,r,i)},$.extend(i,{populate:X,emptyRows:H,beginReq:z,endReq:W}),this.grid=i,r.addXmlData=function(e){I(e)},r.addJSONData=function(e){q(e)},this.grid.cols=this.rows[0].cells,$(r).triggerHandler("jqGridInitGrid"),$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),X(),r.p.hiddengrid=!1,r.p.responsive){var Rt="onorientationchange"in window,Ut=Rt?"orientationchange":"resize";$(window).on(Ut,function(){$(r).jqGrid("resizeGrid")})}}})},$.jgrid.extend({getGridParam:function(e,t){var n,r=this[0];if(r&&r.grid){if(void 0===t&&"string"!=typeof t&&(t="jqGrid"),n=r.p,"jqGrid"!==t)try{n=$(r).data(t)}catch(i){n=r.p}return e?void 0!==n[e]?n[e]:null:n}},setGridParam:function(e,t){return this.each(function(){if(null==t&&(t=!1),this.grid&&"object"==typeof e)if(t===!0){var n=$.extend({},this.p,e);this.p=n}else $.extend(!0,this.p,e)})},getGridRowById:function(e){var t;return this.each(function(){try{for(var n=this.rows.length;n--;)if(e.toString()===this.rows[n].id){t=this.rows[n];break}}catch(r){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}}),t},getDataIDs:function(){var e,t=[],n=0,r=0;return this.each(function(){if(e=this.rows.length,e&&e>0)for(;e>n;)$(this.rows[n]).hasClass("jqgrow")&&(t[r]=this.rows[n].id,r++),n++}),t},setSelection:function(e,t,n){return this.each(function(){function r(e){var t=$(p.grid.bDiv)[0].clientHeight,n=$(p.grid.bDiv)[0].scrollTop,r=$(p.rows[e]).position().top,i=p.rows[e].clientHeight;r+i>=t+n?$(p.grid.bDiv)[0].scrollTop=r-(t+n)+i+n:t+n>r&&n>r&&($(p.grid.bDiv)[0].scrollTop=r)}var i,s,o,u,f,l,h,p=this,d=$.jgrid.getMethod("getStyleUI"),v=d(p.p.styleUI+".common","highlight",!0),m=d(p.p.styleUI+".common","disabled",!0);void 0!==e&&(t=t===!1?!1:!0,s=$(p).jqGrid("getGridRowById",e),!s||!s.className||s.className.indexOf(m)>-1||(p.p.scrollrows===!0&&(o=$(p).jqGrid("getGridRowById",e).rowIndex,o>=0&&r(o)),p.p.frozenColumns===!0&&(l=p.p.id+"_frozen"),p.p.multiselect?(p.setHeadCheckBox(!1),p.p.selrow=s.id,u=$.inArray(p.p.selrow,p.p.selarrrow),-1===u?("ui-subgrid"!==s.className&&$(s).addClass(v).attr("aria-selected","true"),i=!0,p.p.selarrrow.push(p.p.selrow)):("ui-subgrid"!==s.className&&$(s).removeClass(v).attr("aria-selected","false"),i=!1,p.p.selarrrow.splice(u,1),f=p.p.selarrrow[0],p.p.selrow=void 0===f?null:f),$("#jqg_"+$.jgrid.jqID(p.p.id)+"_"+$.jgrid.jqID(s.id))[p.p.useProp?"prop":"attr"]("checked",i),l&&(-1===u?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).addClass(v):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).removeClass(v),$("#jqg_"+$.jgrid.jqID(p.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l))[p.p.useProp?"prop":"attr"]("checked",i)),t&&($(p).triggerHandler("jqGridSelectRow",[s.id,i,n]),p.p.onSelectRow&&p.p.onSelectRow.call(p,s.id,i,n))):"ui-subgrid"!==s.className&&(p.p.selrow!==s.id?(h=$(p).jqGrid("getGridRowById",p.p.selrow),h&&$(h).removeClass(v).attr({"aria-selected":"false",tabindex:"-1"}),$(s).addClass(v).attr({"aria-selected":"true",tabindex:"0"}),l&&($("#"+$.jgrid.jqID(p.p.selrow),"#"+$.jgrid.jqID(l)).removeClass(v),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).addClass(v)),i=!0):i=!1,p.p.selrow=s.id,t&&($(p).triggerHandler("jqGridSelectRow",[s.id,i,n]),p.p.onSelectRow&&p.p.onSelectRow.call(p,s.id,i,n)))))})},resetSelection:function(e){return this.each(function(){var t,n,r=this,i=$.jgrid.getMethod("getStyleUI"),s=i(r.p.styleUI+".common","highlight",!0),o=i(r.p.styleUI+".common","hover",!0);if(r.p.frozenColumns===!0&&(n=r.p.id+"_frozen"),void 0!==e){if(t=e===r.p.selrow?r.p.selrow:e,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass(s).attr("aria-selected","false"),n&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(n)).removeClass(s),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),n&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(n))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var u=$.inArray($.jgrid.jqID(t),r.p.selarrrow);-1!==u&&r.p.selarrrow.splice(u,1)}r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t),t=null}else r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass(s).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),n&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(n)).removeClass(s),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(n))[r.p.useProp?"prop":"attr"]("checked",!1)),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t)}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass(s).attr("aria-selected","false"),n&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(n)).removeClass(s),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,r.p.selrow),r.p.selrow=null);r.p.cellEdit===!0&&parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell "+s),$(r.rows[r.p.iRow]).removeClass("selected-row "+o)),r.p.savedRow=[]})},getRowData:function(e,t){var n,r,i={},s=!1,o=0;return this.each(function(){var u,l,h=this;if(null==e)s=!0,n=[],r=h.rows.length;else{if(l=$(h).jqGrid("getGridRowById",e),!l)return i;r=2}for(t&&t===!0&&h.p.data.length>0||(t=!1);r>o;)s&&(l=h.rows[o]),$(l).hasClass("jqgrow")&&(t?i=h.p.data[h.p._index[l.id]]:$('td[role="gridcell"]',l).each(function(e){if(u=h.p.colModel[e].name,"cb"!==u&&"subgrid"!==u&&"rn"!==u)if(h.p.treeGrid===!0&&u===h.p.ExpandColumn)i[u]=$.jgrid.htmlDecode($("span:first",this).html());else try{i[u]=$.unformat.call(h,this,{rowId:l.id,colModel:h.p.colModel[e]},e)}catch(t){i[u]=$.jgrid.htmlDecode($(this).html())}}),s&&(n.push(i),i={})),o++}),n||i},delRowData:function(e){var t,n,r,i=!1;return this.each(function(){var s=this;if(t=$(s).jqGrid("getGridRowById",e),!t)return!1;if(s.p.subGrid&&(r=$(t).next(),r.hasClass("ui-subgrid")&&r.remove()),$(t).remove(),s.p.records--,s.p.reccount--,s.updatepager(!0,!1),i=!0,s.p.multiselect&&(n=$.inArray(e,s.p.selarrrow),-1!==n&&s.p.selarrrow.splice(n,1)),s.p.multiselect&&s.p.selarrrow.length>0?s.p.selrow=s.p.selarrrow[s.p.selarrrow.length-1]:s.p.selrow===e&&(s.p.selrow=null),"local"===s.p.datatype){var o=$.jgrid.stripPref(s.p.idPrefix,e),u=s.p._index[o];void 0!==u&&(s.p.data.splice(u,1),s.refreshIndex())}if(s.p.altRows===!0&&i){var f=s.p.altclass;$(s.rows).each(function(e){e%2===1?$(this).addClass(f):$(this).removeClass(f)})}}),i},setRowData:function(e,t,n){var r,i,s=!0;return this.each(function(){if(!this.grid)return!1;var o,u,l=this,h=typeof n,p={};if(u=$(this).jqGrid("getGridRowById",e),!u)return!1;if(t)try{if($(this.p.colModel).each(function(n){r=this.name;var s=$.jgrid.getAccessor(t,r);void 0!==s&&(p[r]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,s,this):s,o=l.formatter(e,p[r],n,t,"edit"),i=this.title?{title:$.jgrid.stripHtml(o)}:{},l.p.treeGrid===!0&&r===l.p.ExpandColumn?$("td[role='gridcell']:eq("+n+") > span:first",u).html(o).attr(i):$("td[role='gridcell']:eq("+n+")",u).html(o).attr(i))}),"local"===l.p.datatype){var v,m=$.jgrid.stripPref(l.p.idPrefix,e),g=l.p._index[m];if(l.p.treeGrid)for(v in l.p.treeReader)l.p.treeReader.hasOwnProperty(v)&&delete p[l.p.treeReader[v]];void 0!==g&&(l.p.data[g]=$.extend(!0,l.p.data[g],p)),p=null}}catch(y){s=!1}s&&("string"===h?$(u).addClass(n):null!==n&&"object"===h&&$(u).css(n),$(l).triggerHandler("jqGridAfterGridComplete"))}),s},addRowData:function(e,t,n,r){-1===$.inArray(n,["first","last","before","after"])&&(n="last");var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y=!1,b="",w="",E="";return t&&($.isArray(t)?(h=!0,p=e):(t=[t],h=!1),this.each(function(){var S=this,x=t.length;a=S.p.rownumbers===!0?1:0,o=S.p.multiselect===!0?1:0,u=S.p.subGrid===!0?1:0,h||(void 0!==e?e=String(e):(e=$.jgrid.randId(),S.p.keyName!==!1&&(p=S.p.keyName,void 0!==t[0][p]&&(e=t[0][p])))),d=S.p.altclass;var T,N=0,C=$(S).jqGrid("getStyleUI",S.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+S.p.direction),L={},A=$.isFunction(S.p.afterInsertRow)?!0:!1;for(a&&(b=$(S).jqGrid("getStyleUI",S.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),o&&(w=$(S).jqGrid("getStyleUI",S.p.styleUI+".base","multiBox",!1,"cbox"));x>N;){if(v=t[N],s=[],T=C,h){try{e=v[p],void 0===e&&(e=$.jgrid.randId())}catch(O){e=$.jgrid.randId()}T+=S.p.altRows===!0&&(S.rows.length-1)%2===0?" "+d:""}for(g=e,e=S.p.idPrefix+e,a&&(E=S.formatCol(0,1,"",null,e,!0),s[s.length]='<td role="gridcell" '+b+" "+E+">0</td>"),o&&(c='<input role="checkbox" type="checkbox" id="jqg_'+S.p.id+"_"+e+'" '+w+"/>",E=S.formatCol(a,1,"",null,e,!0),s[s.length]='<td role="gridcell" '+E+">"+c+"</td>"),u&&(s[s.length]=$(S).jqGrid("addSubGridCell",o+a,1)),l=o+u+a;l<S.p.colModel.length;l++)m=S.p.colModel[l],i=m.name,L[i]=v[i],c=S.formatter(e,$.jgrid.getAccessor(v,i),l,v),E=S.formatCol(l,1,c,v,e,L),s[s.length]='<td role="gridcell" '+E+">"+c+"</td>";if(s.unshift(S.constructTr(e,!1,T,L,v)),s[s.length]="</tr>",0===S.rows.length)$("table:first",S.grid.bDiv).append(s.join(""));else switch(n){case"last":$(S.rows[S.rows.length-1]).after(s.join("")),f=S.rows.length-1;break;case"first":$(S.rows[0]).after(s.join("")),f=1;break;case"after":f=$(S).jqGrid("getGridRowById",r),f&&($(S.rows[f.rowIndex+1]).hasClass("ui-subgrid")?$(S.rows[f.rowIndex+1]).after(s):$(f).after(s.join("")),f=f.rowIndex+1);break;case"before":f=$(S).jqGrid("getGridRowById",r),f&&($(f).before(s.join("")),f=f.rowIndex-1)}S.p.subGrid===!0&&$(S).jqGrid("addSubGrid",o+a,f),S.p.records++,S.p.reccount++,$(S).triggerHandler("jqGridAfterInsertRow",[e,v,v]),A&&S.p.afterInsertRow.call(S,e,v,v),N++,"local"===S.p.datatype&&(L[S.p.localReader.id]=g,S.p._index[g]=S.p.data.length,S.p.data.push(L),L={})}S.p.altRows!==!0||h||("last"===n?(S.rows.length-1)%2===0&&$(S.rows[S.rows.length-1]).addClass(d):$(S.rows).each(function(e){e%2===0?$(this).addClass(d):$(this).removeClass(d)})),S.updatepager(!0,!0),y=!0})),y},footerData:function(e,t,n){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var i,s,o=!1,u={};return void 0===e&&(e="get"),"boolean"!=typeof n&&(n=!0),e=e.toLowerCase(),this.each(function(){var l,p=this;return p.grid&&p.p.footerrow?"set"===e&&r(t)?!1:(o=!0,void $(this.p.colModel).each(function(r){i=this.name,"set"===e?void 0!==t[i]&&(l=n?p.formatter("",t[i],r,t,"edit"):t[i],s=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",p.grid.sDiv).html(l).attr(s),o=!0):"get"===e&&(u[i]=$("tr.footrow td:eq("+r+")",p.grid.sDiv).html())})):!1}),"get"===e?u:o},showHideCol:function(e,t){return this.each(function(){var n,r=this,i=!1,s=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var o=""===t?!0:!1,u=r.p.groupHeader&&($.isArray(r.p.groupHeader)||$.isFunction(r.p.groupHeader));if(u&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(u){if(-1!==$.inArray(this.name,e)&&this.hidden===o){if(r.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=row]",r.grid.hDiv).each(function(){$(this.cells[u]).css("display",t)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[u]).css("display",t)}),r.p.footerrow&&$("tr.footrow td:eq("+u+")",r.grid.sDiv).css("display",t),n=parseInt(this.width,10),"none"===t?r.p.tblwidth-=n+s:r.p.tblwidth+=n+s,this.hidden=!o,i=!0,$(r).triggerHandler("jqGridShowHideCol",[o,this.name,u])}}),i===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),u){var f=$.extend([],r.p.groupHeader);r.p.groupHeader=null;for(var l=0;l<f.length;l++)$(r).jqGrid("setGroupHeaders",f[l])}}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,n){function r(t){var n;n=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=n[this]})}function i(t,n){$(">tr"+(n||""),t).each(function(){var t=this,n=$.makeArray(t.cells);$.each(e,function(){var e=n[this];e&&t.appendChild(e)})})}var s=this.get(0);r(s.p.colModel),r(s.p.colNames),r(s.grid.headers),i($("thead:first",s.grid.hDiv),n&&":not(.ui-jqgrid-labels)"),t&&i($("#"+$.jgrid.jqID(s.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),s.p.footerrow&&i($("tbody:first",s.grid.sDiv)),s.p.remapColumns&&(s.p.remapColumns.length?r(s.p.remapColumns):s.p.remapColumns=$.makeArray(e)),s.p.lastsort=$.inArray(s.p.lastsort,e),s.p.treeGrid&&(s.p.expColInd=$.inArray(s.p.expColInd,e)),$(s).triggerHandler("jqGridRemapColumns",[e,t,n])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var n,r,i,s,o=this,u=0,f=$.jgrid.cell_width?0:o.p.cellLayout,l=0,c=!1,h=o.p.scrollOffset,p=0;if("boolean"!=typeof t&&(t=o.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),o.grid.width=o.p.width=e,$("#gbox_"+$.jgrid.jqID(o.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(o.p.id)).css("width",e+"px"),$(o.grid.bDiv).css("width",e+"px"),$(o.grid.hDiv).css("width",e+"px"),o.p.pager&&$(o.p.pager).css("width",e+"px"),o.p.toppager&&$(o.p.toppager).css("width",e+"px"),o.p.toolbar[0]===!0&&($(o.grid.uDiv).css("width",e+"px"),"both"===o.p.toolbar[1]&&$(o.grid.ubDiv).css("width",e+"px")),o.p.footerrow&&$(o.grid.sDiv).css("width",e+"px"),t===!1&&o.p.forceFit===!0&&(o.p.forceFit=!1),t===!0){if($.each(o.p.colModel,function(){this.hidden===!1&&(n=this.widthOrg,u+=n+f,this.fixed?p+=n+f:l++)}),0===l)return;o.p.tblwidth=u,i=e-f*l-p,isNaN(o.p.height)||($(o.grid.bDiv)[0].clientHeight<$(o.grid.bDiv)[0].scrollHeight||1===o.rows.length)&&(c=!0,i-=h),u=0;var d=o.grid.cols.length>0;if($.each(o.p.colModel,function(e){if(this.hidden===!1&&!this.fixed){if(n=this.widthOrg,n=Math.round(i*n/(o.p.tblwidth-f*l-p)),0>n)return;this.width=n,u+=n,o.grid.headers[e].width=n,o.grid.headers[e].el.style.width=n+"px",o.p.footerrow&&(o.grid.footers[e].style.width=n+"px"),d&&(o.grid.cols[e].style.width=n+"px"),r=e}}),!r)return;if(s=0,c?e-p-(u+f*l)!==h&&(s=e-p-(u+f*l)-h):1!==Math.abs(e-p-(u+f*l))&&(s=e-p-(u+f*l)),o.p.colModel[r].width+=s,o.p.tblwidth=u+s+f*l+p,o.p.tblwidth>e){var v=o.p.tblwidth-parseInt(e,10);o.p.tblwidth=e,n=o.p.colModel[r].width=o.p.colModel[r].width-v}else n=o.p.colModel[r].width;o.grid.headers[r].width=n,o.grid.headers[r].el.style.width=n+"px",d&&(o.grid.cols[r].style.width=n+"px"),o.p.footerrow&&(o.grid.footers[r].style.width=n+"px")}o.p.tblwidth&&($("table:first",o.grid.bDiv).css("width",o.p.tblwidth+"px"),$("table:first",o.grid.hDiv).css("width",o.p.tblwidth+"px"),o.grid.hDiv.scrollLeft=o.grid.bDiv.scrollLeft,o.p.footerrow&&$("table:first",o.grid.sDiv).css("width",o.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var n=$(t.grid.bDiv);n.css({height:e+(isNaN(e)?"":"px")}),t.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(n.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){var t=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=e,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(t)})},setLabel:function(e,t,n,r){return this.each(function(){var i=this,s=-1;if(i.grid&&null!=e&&(isNaN(e)?$(i.p.colModel).each(function(t){return this.name===e?(s=t,!1):void 0}):s=parseInt(e,10),s>=0)){var o=$("tr.ui-jqgrid-labels th:eq("+s+")",i.grid.hDiv);if(t){var u=$(".s-ico",o);$("[id^=jqgh_]",o).empty().html(t).append(u),i.p.colNames[s]=t}n&&("string"==typeof n?$(o).addClass(n):$(o).css(n)),"object"==typeof r&&$(o).attr(r)}})},setCell:function(e,t,n,r,i,s){return this.each(function(){var o,u,l=this,h=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){return this.name===t?(h=e,!1):void 0}):h=parseInt(t,10),h>=0)){var p=$(l).jqGrid("getGridRowById",e);if(p){var v=$("td:eq("+h+")",p),m=0,g=[];if(""!==n||s===!0){if(void 0!==p.cells)for(;m<p.cells.length;)g.push(p.cells[m].innerHTML),m++;if(o=l.formatter(e,n,h,g,"edit"),u=l.p.colModel[h].title?{title:$.jgrid.stripHtml(o)}:{},l.p.treeGrid&&$(".tree-wrap",$(v)).length>0?$("span",$(v)).html(o).attr(u):$(v).html(o).attr(u),"local"===l.p.datatype){var y,w=l.p.colModel[h];n=w.formatter&&"string"==typeof w.formatter&&"date"===w.formatter?$.unformat.date.call(l,n,w):n,y=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)],void 0!==y&&(l.p.data[y][w.name]=n)}}"string"==typeof r?$(v).addClass(r):r&&$(v).css(r),"object"==typeof i&&$(v).attr(i)}}})},getCell:function(e,t){var n=!1;return this.each(function(){var r=this,i=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each(function(e){return this.name===t?(i=e,!1):void 0}):i=parseInt(t,10),i>=0)){var s=$(r).jqGrid("getGridRowById",e);if(s)try{n=$.unformat.call(r,$("td:eq("+i+")",s),{rowId:s.id,colModel:r.p.colModel[i]},i)}catch(o){n=$.jgrid.htmlDecode($("td:eq("+i+")",s).html())}}}),n},getCol:function(e,t,n){var r,i,s,o,u=[],a=0;return t="boolean"!=typeof t?!1:t,void 0===n&&(n=!1),this.each(function(){var l=this,p=-1;if(l.grid&&(isNaN(e)?$(l.p.colModel).each(function(t){return this.name===e?(p=t,!1):void 0}):p=parseInt(e,10),p>=0)){var v=l.rows.length,m=0,y=0;if(v&&v>0){for(;v>m;){if($(l.rows[m]).hasClass("jqgrow")){try{r=$.unformat.call(l,$(l.rows[m].cells[p]),{rowId:l.rows[m].id,colModel:l.p.colModel[p]},p)}catch(w){r=$.jgrid.htmlDecode(l.rows[m].cells[p].innerHTML)}n?(o=parseFloat(r),isNaN(o)||(a+=o,void 0===s&&(s=i=o),i=Math.min(i,o),s=Math.max(s,o),y++)):t?u.push({id:l.rows[m].id,value:r}):u.push(r)}m++}if(n)switch(n.toLowerCase()){case"sum":u=a;break;case"avg":u=a/y;break;case"count":u=v-1;break;case"min":u=i;break;case"max":u=s}}}}),u},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var n=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(n)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var n,r=!1;return this.each(function(){n=$(this).jqGrid("getGridRowById",e),n&&(r=t===!0?n:n.rowIndex)}),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(n){var r,i,s,o=$(e).find("tr[tabindex=0]")[0],u=e.p.treeReader.expanded_field;if(o)if(s=e.p._index[$.jgrid.stripPref(e.p.idPrefix,o.id)],37===n.keyCode||38===n.keyCode||39===n.keyCode||40===n.keyCode){if(38===n.keyCode){if(i=o.previousSibling,r="",i)if($(i).is(":hidden")){for(;i;)if(i=i.previousSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){r=i.id;break}}else r=i.id;$(e).jqGrid("setSelection",r,!0,n),n.preventDefault()}if(40===n.keyCode){if(i=o.nextSibling,r="",i)if($(i).is(":hidden")){for(;i;)if(i=i.nextSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){r=i.id;break}}else r=i.id;$(e).jqGrid("setSelection",r,!0,n),n.preventDefault()}37===n.keyCode&&(e.p.treeGrid&&e.p.data[s][u]&&$(o).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===n.keyCode&&(e.p.treeGrid&&!e.p.data[s][u]&&$(o).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===n.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===n.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,n=!1;return this.each(function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)],t>=0&&(n=this.p.data[t]))}),n},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t,n,r="show"===e.method?!0:!1,i=$("#load_"+$.jgrid.jqID(this.p.id)),s=$(window).scrollTop();switch(""!==e.htmlcontent&&i.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":i.toggle(r);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(r),i.toggle(r)}i.is(":visible")&&(t=i.offsetParent(),i.css("top",""),i.offset().top<s&&(n=Math.min(10+s-t.offset().top,t.height()-i.height()),i.css("top",n+"px")))})},getColProp:function(e){var t={},n=this[0];if(!n.grid)return!1;var r,i=n.p.colModel;for(r=0;r<i.length;r++)if(i[r].name===e){t=i[r];break}return t},setColProp:function(e,t){return this.each(function(){if(this.grid&&t){var n,r=this.p.colModel;for(n=0;n<r.length;n++)if(r[n].name===e){$.extend(!0,this.p.colModel[n],t);break}}})},sortGrid:function(e,t,n){return this.each(function(){var r,i=this,s=-1,o=!1;if(i.grid){for(e||(e=i.p.sortname),r=0;r<i.p.colModel.length;r++)if(i.p.colModel[r].index===e||i.p.colModel[r].name===e){s=r,i.p.frozenColumns===!0&&i.p.colModel[r].frozen===!0&&(o=i.grid.fhDiv.find("#"+i.p.id+"_"+e));break}if(-1!==s){var u=i.p.colModel[s].sortable;o||(o=i.grid.headers[s].el),"boolean"!=typeof u&&(u=!0),"boolean"!=typeof t&&(t=!1),u&&i.sortData("jqgh_"+i.p.id+"_"+e,s,t,n,o)}}})},setGridState:function(e){return this.each(function(){if(this.grid){var t=this,n=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),r=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),t.p.pager&&$(t.p.pager).slideUp("fast"),t.p.toppager&&$(t.p.toppager).slideUp("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideUp("fast"),$(t.grid.uDiv).slideUp("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(n).addClass(r),t.p.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),t.p.pager&&$(t.p.pager).slideDown("fast"),t.p.toppager&&$(t.p.toppager).slideDown("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideDown("fast"),$(t.grid.uDiv).slideDown("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(r).addClass(n),t.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var e=this,t=e.p.colModel,n=0,r=t.length,i=-1,s=!1,o=$(e).jqGrid("getStyleUI",e.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),u=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if(e.p.subGrid!==!0&&e.p.treeGrid!==!0&&e.p.cellEdit!==!0&&!e.p.sortable&&!e.p.scroll){for(e.p.rownumbers&&n++,e.p.multiselect&&n++;r>n&&t[n].frozen===!0;)s=!0,i=n,n++;if(i>=0&&s){var a=e.p.caption?$(e.grid.cDiv).outerHeight():0,f=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).height();e.p.toppager&&(a+=$(e.grid.topDiv).outerHeight()),e.p.toolbar[0]===!0&&"bottom"!==e.p.toolbar[1]&&(a+=$(e.grid.uDiv).outerHeight()),e.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+a+"px;height:"+f+'px;" class="frozen-div '+o+'"></div>'),e.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(a,10)+parseInt(f,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fhDiv);var l=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);if(e.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",l).each(function(){$("th:gt("+i+")",this).remove()});var c,h,p=-1,d=-1;$("tr.jqg-second-row-header th",l).each(function(){return c=parseInt($(this).attr("colspan"),10),h=parseInt($(this).attr("rowspan"),10),h&&(p++,d++),c&&(p+=c,d++),p===i?(d=i,!1):void 0}),p!==i&&(d=i),$("tr.jqg-second-row-header",l).each(function(){$("th:gt("+d+")",this).remove()})}else $("tr",l).each(function(){$("th:gt("+i+")",this).remove()});if($(l).width(1).css("height","100%"),$(e.grid.fhDiv).append(l).mousemove(function(t){return e.grid.resizing?(e.grid.dragMove(t),!1):void 0}),e.p.footerrow){var v=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).height();e.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(a,10)+parseInt(f,10)+parseInt(v,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fsDiv);var m=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr",m).each(function(){$("td:gt("+i+")",this).remove()}),$(m).width(1),$(e.grid.fsDiv).append(m)}$(e).bind("jqGridResizeStop.setFrozenColumns",function(t,n,r){var i=$(".ui-jqgrid-htable",e.grid.fhDiv);$("th:eq("+r+")",i).width(n);var s=$(".ui-jqgrid-btable",e.grid.fbDiv);if($("tr:first td:eq("+r+")",s).width(n),e.p.footerrow){var o=$(".ui-jqgrid-ftable",e.grid.fsDiv);$("tr:first td:eq("+r+")",o).width(n)}}),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fbDiv),$(e.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(t){var n=$(e.grid.bDiv).scrollTop();t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?$(e.grid.bDiv).scrollTop(n-25):$(e.grid.bDiv).scrollTop(n+25),t.preventDefault()}),e.p.hoverrows===!0&&$("#"+$.jgrid.jqID(e.p.id)).unbind("mouseover").unbind("mouseout"),$(e).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(e.p.id)+"_frozen").remove(),$(e.grid.fbDiv).height($(e.grid.bDiv).height()-16);var t=$("#"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr[role=row]",t).each(function(){$("td[role=gridcell]:gt("+i+")",this).remove()}),$(t).width(1).attr("id",e.p.id+"_frozen"),$(e.grid.fbDiv).append(t),e.p.hoverrows===!0&&($("tr.jqgrow",t).hover(function(){$(this).addClass(u),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).addClass(u)},function(){$(this).removeClass(u),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).removeClass(u)}),$("tr.jqgrow","#"+$.jgrid.jqID(e.p.id)).hover(function(){$(this).addClass(u),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").addClass(u)},function(){$(this).removeClass(u),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").removeClass(u)})),t=null}),e.grid.hDiv.loading||$(e).triggerHandler("jqGridAfterGridComplete"),e.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var e=this,t=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),e.p.hoverrows===!0){var n;$("#"+$.jgrid.jqID(e.p.id)).bind("mouseover",function(e){n=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(n).attr("class")&&$(n).addClass(t)}).bind("mouseout",function(e){n=$(e.target).closest("tr.jqgrow"),$(n).removeClass(t)})}this.p.frozenColumns=!1}})},resizeColumn:function(e,t){return this.each(function(){var n,r,i,s=this.grid,o=this.p,u=o.colModel,f=u.length;if("string"==typeof e){for(n=0;f>n;n++)if(u[n].name===e){e=n;break}}else e=parseInt(e,10);if(t=parseInt(t,10),!("number"!=typeof e||0>e||e>u.length-1||"number"!=typeof t||t<o.minColWidth)){if(o.forceFit)for(o.nv=0,n=e+1;f>n;n++)if(u[n].hidden!==!0){o.nv=n-e;break}if(s.resizing={idx:e},r=t-s.headers[e].width,o.forceFit){if(i=s.headers[e+o.nv].width-r,i<o.minColWidth)return;s.headers[e+o.nv].newWidth=s.headers[e+o.nv].width-r}s.newWidth=o.tblwidth+r,s.headers[e].newWidth=t,s.dragEnd(!1)}})},getStyleUI:function(e,t,n,r){try{var i="",s=e.split("."),o="";switch(n||(i="class=",o='"'),null==r&&(r=""),s.length){case 1:i+=o+r+" "+$.jgrid.styleUI[s[0]][t]+o;break;case 2:i+=o+r+" "+$.jgrid.styleUI[s[0]][s[1]][t]+o}}catch(u){i=""}return $.trim(i)},resizeGrid:function(e){return this.each(function(){var t=this;void 0===e&&(e=500),setTimeout(function(){var e=$(window).width(),n=$("#gbox_"+$.jgrid.jqID(t.p.id)).parent().width(),r=t.p.width;r=e-n>3?n:e,$("#"+$.jgrid.jqID(t.p.id)).jqGrid("setGridWidth",r)},e)})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.fmatter={},e.extend(e.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0}}),e.fn.fmatter=function(t,n,r,i,s){var o=n;r=e.extend({},e.jgrid.getRegional(this,"formatter"),r);try{o=e.fn.fmatter[t].call(this,n,r,i,s)}catch(u){}return o},e.fmatter.util={NumberFormat:function(t,n){if(e.fmatter.isNumber(t)||(t*=1),e.fmatter.isNumber(t)){var r,i=0>t,s=String(t),o=n.decimalSeparator||".";if(e.fmatter.isNumber(n.decimalPlaces)){var u=n.decimalPlaces,f=Math.pow(10,u);if(s=String(Math.round(t*f)/f),r=s.lastIndexOf("."),u>0)for(0>r?(s+=o,r=s.length-1):"."!==o&&(s=s.replace(".",o));s.length-1-r<u;)s+="0"}if(n.thousandsSeparator){var l=n.thousandsSeparator;r=s.lastIndexOf(o),r=r>-1?r:s.length;var c,h=s.substring(r),p=-1;for(c=r;c>0;c--)p++,p%3===0&&c!==r&&(!i||c>1)&&(h=l+h),h=s.charAt(c-1)+h;s=h}return s=n.prefix?n.prefix+s:s,s=n.suffix?s+n.suffix:s}return t}},e.fn.fmatter.defaultFormat=function(t,n){return e.fmatter.isValue(t)&&""!==t?t:n.defaultValue||"&#160;"},e.fn.fmatter.email=function(t,n){return e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,n):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,n){var r,i=e.extend({},n.checkbox);void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(i=e.extend({},i,n.colModel.formatoptions)),r=i.disabled===!0?'disabled="disabled"':"",(e.fmatter.isEmpty(t)||void 0===t)&&(t=e.fn.fmatter.defaultFormat(t,i)),t=String(t),t=(t+"").toLowerCase();var s=t.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+s+' value="'+t+'" offval="no" '+r+"/>"},e.fn.fmatter.link=function(t,n){var r={target:n.target},i="";return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(r=e.extend({},r,n.colModel.formatoptions)),r.target&&(i="target="+r.target),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,n):"<a "+i+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,n){var r,i={baseLinkUrl:n.baseLinkUrl,showAction:n.showAction,addParam:n.addParam||"",target:n.target,idName:n.idName},s="";return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(i=e.extend({},i,n.colModel.formatoptions)),i.target&&(s="target="+i.target),r=i.baseLinkUrl+i.showAction+"?"+i.idName+"="+n.rowId+i.addParam,e.fmatter.isString(t)||e.fmatter.isNumber(t)?"<a "+s+' href="'+r+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,n)},e.fn.fmatter.integer=function(t,n){var r=e.extend({},n.integer);return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(r=e.extend({},r,n.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.number=function(t,n){var r=e.extend({},n.number);return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(r=e.extend({},r,n.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.currency=function(t,n){var r=e.extend({},n.currency);return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(r=e.extend({},r,n.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.date=function(t,n,r,i){var s=e.extend({},n.date);return void 0!==n.colModel&&void 0!==n.colModel.formatoptions&&(s=e.extend({},s,n.colModel.formatoptions)),s.reformatAfterEdit||"edit"!==i?e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,n):e.jgrid.parseDate.call(this,s.srcformat,t,s.newformat,s):e.fn.fmatter.defaultFormat(t,n)},e.fn.fmatter.select=function(t,n){t=String(t);var r,i,s=!1,o=[];if(void 0!==n.colModel.formatoptions?(s=n.colModel.formatoptions.value,r=void 0===n.colModel.formatoptions.separator?":":n.colModel.formatoptions.separator,i=void 0===n.colModel.formatoptions.delimiter?";":n.colModel.formatoptions.delimiter):void 0!==n.colModel.editoptions&&(s=n.colModel.editoptions.value,r=void 0===n.colModel.editoptions.separator?":":n.colModel.editoptions.separator,i=void 0===n.colModel.editoptions.delimiter?";":n.colModel.editoptions.delimiter),s){var u,f=(null!=n.colModel.editoptions&&n.colModel.editoptions.multiple===!0)==!0?!0:!1,l=[];if(f&&(l=t.split(","),l=e.map(l,function(t){return e.trim(t)})),e.fmatter.isString(s)){var c,h=s.split(i),p=0;for(c=0;c<h.length;c++)if(u=h[c].split(r),u.length>2&&(u[1]=e.map(u,function(e,t){return t>0?e:void 0}).join(r)),f)e.inArray(u[0],l)>-1&&(o[p]=u[1],p++);else if(e.trim(u[0])===e.trim(t)){o[0]=u[1];break}}else e.fmatter.isObject(s)&&(f?o=e.map(l,function(e){return s[e]}):o[0]=s[t]||"")}return t=o.join(", "),""===t?e.fn.fmatter.defaultFormat(t,n):t},e.fn.fmatter.rowactions=function(t){var n=e(this).closest("tr.jqgrow"),r=n.attr("id"),i=e(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),s=e("#"+i),o=s[0],u=o.p,f=u.colModel[e.jgrid.getCellIndex(this)],l=f.frozen?e("tr#"+r+" td:eq("+e.jgrid.getCellIndex(this)+") > div",s):e(this).parent(),c={extraparam:{}},h=function(t,n){e.isFunction(c.afterSave)&&c.afterSave.call(o,t,n),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},p=function(t){e.isFunction(c.afterRestore)&&c.afterRestore.call(o,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==f.formatoptions&&(c=e.extend(c,f.formatoptions)),void 0!==u.editOptions&&(c.editOptions=u.editOptions),void 0!==u.delOptions&&(c.delOptions=u.delOptions),n.hasClass("jqgrid-new-row")&&(c.extraparam[u.prmNames.oper]=u.prmNames.addoper);var d={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:h,errorfunc:c.onError,afterrestorefunc:p,restoreAfterError:c.restoreAfterError,mtype:c.mtype};switch(t){case"edit":s.jqGrid("editRow",r,d),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),s.triggerHandler("jqGridAfterGridComplete");break;case"save":s.jqGrid("saveRow",r,d)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),s.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":s.jqGrid("restoreRow",r,p),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),s.triggerHandler("jqGridAfterGridComplete");break;case"del":s.jqGrid("delGridRow",r,c.delOptions);break;case"formedit":s.jqGrid("setSelection",r),s.jqGrid("editGridRow",r,c.editOptions)}},e.fn.fmatter.actions=function(t,n){var r,i={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},s=n.rowId,o="",u=e.jgrid.getRegional(this,"nav"),f=e.jgrid.styleUI[n.styleUI||"jQueryUI"].fmatter,l=e.jgrid.styleUI[n.styleUI||"jQueryUI"].common;if(void 0!==n.colModel.formatoptions&&(i=e.extend(i,n.colModel.formatoptions)),void 0===s||e.fmatter.isEmpty(s))return"";var c="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return i.editformbutton?(r="id='jEditButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+c,o+="<div title='"+u.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='"+l.icon_base+" "+f.icon_edit+"'></span></div>"):i.editbutton&&(r="id='jEditButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+c,o+="<div title='"+u.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='"+l.icon_base+" "+f.icon_edit+"'></span></div>"),i.delbutton&&(r="id='jDeleteButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+c,o+="<div title='"+u.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+r+"><span class='"+l.icon_base+" "+f.icon_del+"'></span></div>"),r="id='jSaveButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+c,o+="<div title='"+u.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+r+"><span class='"+l.icon_base+" "+f.icon_save+"'></span></div>",r="id='jCancelButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+c,o+="<div title='"+u.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+r+"><span class='"+l.icon_base+" "+f.icon_cancel+"'></span></div>","<div style='margin-left:8px;'>"+o+"</div>"},e.unformat=function(t,n,r,i){var s,o,u=n.colModel.formatter,f=n.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,c=n.colModel.unformat||e.fn.fmatter[u]&&e.fn.fmatter[u].unformat;if(void 0!==c&&e.isFunction(c))s=c.call(this,e(t).text(),n,t);else if(void 0!==u&&e.fmatter.isString(u)){var h,p=e.jgrid.getRegional(this,"formatter")||{};switch(u){case"integer":f=e.extend({},p.integer,f),o=f.thousandsSeparator.replace(l,"\\$1"),h=new RegExp(o,"g"),s=e(t).text().replace(h,"");break;case"number":f=e.extend({},p.number,f),o=f.thousandsSeparator.replace(l,"\\$1"),h=new RegExp(o,"g"),s=e(t).text().replace(h,"").replace(f.decimalSeparator,".");break;case"currency":f=e.extend({},p.currency,f),o=f.thousandsSeparator.replace(l,"\\$1"),h=new RegExp(o,"g"),s=e(t).text(),f.prefix&&f.prefix.length&&(s=s.substr(f.prefix.length)),f.suffix&&f.suffix.length&&(s=s.substr(0,s.length-f.suffix.length)),s=s.replace(h,"").replace(f.decimalSeparator,".");break;case"checkbox":var d=n.colModel.editoptions?n.colModel.editoptions.value.split(":"):["Yes","No"];s=e("input",t).is(":checked")?d[0]:d[1];break;case"select":s=e.unformat.select(t,n,r,i);break;case"actions":return"";default:s=e(t).text()}}return void 0!==s?s:i===!0?e(t).text():e.jgrid.htmlDecode(e(t).html())},e.unformat.select=function(t,n,r,i){var s=[],o=e(t).text();if(i===!0)return o;var u=e.extend({},void 0!==n.colModel.formatoptions?n.colModel.formatoptions:n.colModel.editoptions),f=void 0===u.separator?":":u.separator,l=void 0===u.delimiter?";":u.delimiter;if(u.value){var c,h=u.value,p=u.multiple===!0?!0:!1,d=[];if(p&&(d=o.split(","),d=e.map(d,function(t){return e.trim(t)})),e.fmatter.isString(h)){var v,m=h.split(l),g=0;for(v=0;v<m.length;v++)if(c=m[v].split(f),c.length>2&&(c[1]=e.map(c,function(e,t){return t>0?e:void 0}).join(f)),p)e.inArray(e.trim(c[1]),d)>-1&&(s[g]=c[0],g++);else if(e.trim(c[1])===e.trim(o)){s[0]=c[0];break}}else(e.fmatter.isObject(h)||e.isArray(h))&&(p||(d[0]=o),s=e.map(d,function(t){var n;return e.each(h,function(e,r){return r===t?(n=e,!1):void 0}),void 0!==n?n:void 0}));return s.join(", ")}return o||""},e.unformat.date=function(t,n){var r=e.jgrid.getRegional(this,"formatter.date")||{};return void 0!==n.formatoptions&&(r=e.extend({},r,n.formatoptions)),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,n):e.jgrid.parseDate.call(this,r.newformat,t,r.srcformat,r)}});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./jqModal","./jqDnR"],e):e(jQuery)}(function(e){"use strict";e.extend(e.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,n){n=e.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},n||{});var r=n.gb&&"string"==typeof n.gb&&"#gbox_"===n.gb.substr(0,6)?e("#"+n.gb.substr(6))[0]:!1;if(n.onClose){var i=r?n.onClose.call(r,t):n.onClose(t);if("boolean"==typeof i&&!i)return}if(n.formprop&&r&&n.form){var s=e(t)[0].style.height,o=e(t)[0].style.width;s.indexOf("px")>-1&&(s=parseFloat(s)),o.indexOf("px")>-1&&(o=parseFloat(o));var u,f;"edit"===n.form?(u="#"+e.jgrid.jqID("FrmGrid_"+n.gb.substr(6)),f="formProp"):"view"===n.form&&(u="#"+e.jgrid.jqID("ViewGrid_"+n.gb.substr(6)),f="viewProp"),e(r).data(f,{top:parseFloat(e(t).css("top")),left:parseFloat(e(t).css("left")),width:o,height:s,dataheight:e(u).height(),datawidth:e(u).width()})}if(e.fn.jqm&&n.jqm===!0)e(t).attr("aria-hidden","true").jqmHide();else{if(""!==n.gb)try{e(".jqgrid-overlay:first",n.gb).hide()}catch(l){}e(t).hide().attr("aria-hidden","true")}n.removemodal&&e(t).remove()},findPos:function(e){var t=0,n=0;if(e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return[t,n]},createModal:function(t,n,r,i,s,o,u){r=e.extend(!0,{},e.jgrid.jqModal||{},r);var f=this,l="rtl"===e(r.gbox).attr("dir")?!0:!1,c=e.jgrid.styleUI[r.styleUI||"jQueryUI"].modal,h=e.jgrid.styleUI[r.styleUI||"jQueryUI"].common,p=document.createElement("div");u=e.extend({},u||{}),p.className="ui-jqdialog "+c.modal,p.id=t.themodal;var d=document.createElement("div");d.className="ui-jqdialog-titlebar "+c.header,d.id=t.modalhead,e(d).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");var v=e("<a class='ui-jqdialog-titlebar-close "+h.cornerall+"'></a>").hover(function(){v.addClass(h.hover)},function(){v.removeClass(h.hover)}).append("<span class='"+h.icon_base+" "+c.icon_close+"'></span>");e(d).append(v),l?(p.dir="rtl",e(".ui-jqdialog-title",d).css("float","right"),e(".ui-jqdialog-titlebar-close",d).css("left","0.3em")):(p.dir="ltr",e(".ui-jqdialog-title",d).css("float","left"),e(".ui-jqdialog-titlebar-close",d).css("right","0.3em"));var m=document.createElement("div");e(m).addClass("ui-jqdialog-content "+c.content).attr("id",t.modalcontent),e(m).append(n),p.appendChild(m),e(p).prepend(d),o===!0?e("body").append(p):"string"==typeof o?e(o).append(p):e(p).insertBefore(i),e(p).css(u),void 0===r.jqModal&&(r.jqModal=!0);var g={};if(e.fn.jqm&&r.jqModal===!0){if(0===r.left&&0===r.top&&r.overlay){var y=[];y=e.jgrid.findPos(s),r.left=y[0]+4,r.top=y[1]+4}g.top=r.top+"px",g.left=r.left}else(0!==r.left||0!==r.top)&&(g.left=r.left,g.top=r.top+"px");if(e("a.ui-jqdialog-titlebar-close",d).click(function(){var n=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,i=e("#"+e.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return f.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:i,jqm:r.jqModal,onClose:n,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),!r.zIndex){var b=e(i).parents("*[role=dialog]").filter(":first").css("z-index");b?r.zIndex=parseInt(b,10)+2:r.zIndex=950}var w=0;if(l&&g.left&&!o&&(w=e(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,g.left=parseInt(g.left,10)+parseInt(w,10)),g.left&&(g.left+="px"),e(p).css(e.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},g)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(e(d).css("cursor","move"),e.fn.tinyDraggable)e(p).tinyDraggable({handle:"#"+e.jgrid.jqID(d.id)});else try{e(p).draggable({handle:e("#"+e.jgrid.jqID(d.id))})}catch(E){}if(r.resize)if(e.fn.jqResize)e(p).append("<div class='jqResize "+c.resizable+" "+h.icon_base+" "+c.icon_resizable+"'></div>"),e("#"+e.jgrid.jqID(t.themodal)).jqResize(".jqResize",t.scrollelm?"#"+e.jgrid.jqID(t.scrollelm):!1);else try{e(p).resizable({handles:"se, sw",alsoResize:t.scrollelm?"#"+e.jgrid.jqID(t.scrollelm):!1})}catch(S){}r.closeOnEscape===!0&&e(p).keydown(function(n){if(27===n.which){var i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose;f.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:i,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""})}})},viewModal:function(t,n){if(n=e.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:e.jgrid.showModal,onHide:e.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},n||{}),void 0===n.focusField&&(n.focusField=0),"number"==typeof n.focusField&&n.focusField>=0?n.focusField=parseInt(n.focusField,10):"boolean"!=typeof n.focusField||n.focusField?n.focusField=0:n.focusField=!1,e.fn.jqm&&n.jqm===!0)n.jqM?e(t).attr("aria-hidden","false").jqm(n).jqmShow():e(t).attr("aria-hidden","false").jqmShow();else if(""!==n.gbox&&(e(".jqgrid-overlay:first",n.gbox).show(),e(t).data("gbox",n.gbox)),e(t).show().attr("aria-hidden","false"),n.focusField>=0)try{e(":input:visible",t)[parseInt(n.focusField,10)].focus()}catch(r){}},info_dialog:function(t,n,r,i){var s={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};e.extend(!0,s,e.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},i||{});var o=s.jqModal,u=this,f=e.jgrid.styleUI[s.styleUI||"jQueryUI"].modal,l=e.jgrid.styleUI[s.styleUI||"jQueryUI"].common;e.fn.jqm&&!o&&(o=!1);var c,h="";if(s.buttons.length>0)for(c=0;c<s.buttons.length;c++)void 0===s.buttons[c].id&&(s.buttons[c].id="info_button_"+c),h+="<a id='"+s.buttons[c].id+"' class='fm-button "+l.button+"'>"+s.buttons[c].text+"</a>";var p=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",d="text-align:"+s.align+";",v="<div id='info_id'>";v+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+p+";"+d+"'>"+n+"</div>",v+=r?"<div class='"+f.header+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+r+"</a>"+h+"</div>":""!==h?"<div class='"+f.header+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+h+"</div>":"",v+="</div>";try{"false"===e("#info_dialog").attr("aria-hidden")&&e.jgrid.hideModal("#info_dialog",{jqm:o}),e("#info_dialog").remove()}catch(m){}e.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},v,s,"","",!0),h&&e.each(s.buttons,function(t){e("#"+e.jgrid.jqID(this.id),"#info_id").bind("click",function(){return s.buttons[t].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return u.hideModal("#info_dialog",{jqm:o,onClose:e("#info_dialog").data("onClose")||s.onClose,gb:e("#info_dialog").data("gbox")||s.gbox}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass(l.hover)},function(){e(this).removeClass(l.hover)}),e.isFunction(s.beforeOpen)&&s.beforeOpen(),e.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:s.modal,jqm:o}),e.isFunction(s.afterOpen)&&s.afterOpen();try{e("#info_dialog").focus()}catch(g){}},bindEv:function(t,n){var r=this;e.isFunction(n.dataInit)&&n.dataInit.call(r,t,n),n.dataEvents&&e.each(n.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(t,n,r,i,s){function o(t,n,r){var i=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==r&&e.isArray(r)&&e.merge(i,r),e.each(n,function(n,r){-1===e.inArray(n,i)&&e(t).attr(n,r)}),n.hasOwnProperty("id")||e(t).attr("id",e.jgrid.randId())}var u="",f=this;switch(t){case"textarea":u=document.createElement("textarea"),i?n.cols||e(u).css({width:"98%"}):n.cols||(n.cols=20),n.rows||(n.rows=2),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r=""),u.value=r,o(u,n),e(u).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(u=document.createElement("input"),u.type="checkbox",n.value){var l=n.value.split(":");r===l[0]&&(u.checked=!0,u.defaultChecked=!0),u.value=l[0],e(u).attr("offval",l[1])}else{var c=(r+"").toLowerCase();c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(u.checked=!0,u.defaultChecked=!0,u.value=r):u.value="on",e(u).attr("offval","off")}o(u,n,["value"]),e(u).attr("role","checkbox");break;case"select":u=document.createElement("select"),u.setAttribute("role","select");var h,p=[];if(n.multiple===!0?(h=!0,u.multiple="multiple",e(u).attr("aria-multiselectable","true")):h=!1,null!=n.dataUrl){var d=null,v=n.postData||s.postData;try{d=n.rowId}catch(m){}f.p&&f.p.idPrefix&&(d=e.jgrid.stripPref(f.p.idPrefix,d)),e.ajax(e.extend({url:e.isFunction(n.dataUrl)?n.dataUrl.call(f,d,r,String(n.name)):n.dataUrl,type:"GET",dataType:"html",data:e.isFunction(v)?v.call(f,d,r,String(n.name)):v,context:{elem:u,options:n,vl:r},success:function(t){var n,r=[],i=this.elem,s=this.vl,u=e.extend({},this.options),l=u.multiple===!0,c=u.cacheUrlData===!0,h="",p=e.isFunction(u.buildSelect)?u.buildSelect.call(f,t):t;"string"==typeof p&&(p=e(e.trim(p)).html()),p&&(e(i).append(p),o(i,u,v?["postData"]:void 0),void 0===u.size&&(u.size=l?3:1),l?(r=s.split(","),r=e.map(r,function(t){return e.trim(t)})):r[0]=e.trim(s),setTimeout(function(){if(e("option",i).each(function(t){n=e(this).text(),s=e(this).val()||n,c&&(h+=(0!==t?";":"")+s+":"+n),0===t&&i.multiple&&(this.selected=!1),e(this).attr("role","option"),(e.inArray(e.trim(n),r)>-1||e.inArray(e.trim(s),r)>-1)&&(this.selected="selected")}),c)if("edit"===u.oper)e(f).jqGrid("setColProp",u.name,{editoptions:{buildSelect:null,dataUrl:null,value:h}});else if("search"===u.oper)e(f).jqGrid("setColProp",u.name,{searchoptions:{dataUrl:null,value:h}});else if("filter"===u.oper&&e("#fbox_"+f.p.id)[0].p){var t,o=e("#fbox_"+f.p.id)[0].p.columns;e.each(o,function(e){return t=this.index||this.name,u.name===t?(this.searchoptions.dataUrl=null,this.searchoptions.value=h,!1):void 0})}e(f).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[i])},0))}},s||{}))}else if(n.value){var g;void 0===n.size&&(n.size=h?3:1),h&&(p=r.split(","),p=e.map(p,function(t){return e.trim(t)})),"function"==typeof n.value&&(n.value=n.value());var y,b,w,E,S,x,T=void 0===n.separator?":":n.separator,N=void 0===n.delimiter?";":n.delimiter;if("string"==typeof n.value)for(y=n.value.split(N),g=0;g<y.length;g++)b=y[g].split(T),b.length>2&&(b[1]=e.map(b,function(e,t){return t>0?e:void 0}).join(T)),w=document.createElement("option"),w.setAttribute("role","option"),w.value=b[0],w.innerHTML=b[1],u.appendChild(w),h||e.trim(b[0])!==e.trim(r)&&e.trim(b[1])!==e.trim(r)||(w.selected="selected"),h&&(e.inArray(e.trim(b[1]),p)>-1||e.inArray(e.trim(b[0]),p)>-1)&&(w.selected="selected");else if("[object Array]"===Object.prototype.toString.call(n.value))for(E=n.value,g=0;g<E.length;g++)2===E[g].length&&(S=E[g][0],x=E[g][1],w=document.createElement("option"),w.setAttribute("role","option"),w.value=S,w.innerHTML=x,u.appendChild(w),h||e.trim(S)!==e.trim(r)&&e.trim(x)!==e.trim(r)||(w.selected="selected"),h&&(e.inArray(e.trim(x),p)>-1||e.inArray(e.trim(S),p)>-1)&&(w.selected="selected"));else if("object"==typeof n.value){E=n.value;for(S in E)E.hasOwnProperty(S)&&(w=document.createElement("option"),w.setAttribute("role","option"),w.value=S,w.innerHTML=E[S],u.appendChild(w),h||e.trim(S)!==e.trim(r)&&e.trim(E[S])!==e.trim(r)||(w.selected="selected"),h&&(e.inArray(e.trim(E[S]),p)>-1||e.inArray(e.trim(S),p)>-1)&&(w.selected="selected"))}o(u,n,["value"])}break;case"image":case"file":u=document.createElement("input"),u.type=t,o(u,n);break;case"custom":u=document.createElement("span");try{if(!e.isFunction(n.custom_element))throw"e1";var C=n.custom_element.call(f,r,n);if(!C)throw"e2";C=e(C).addClass("customelement").attr({id:n.id,name:n.name}),e(u).empty().append(C)}catch(m){var k=e.jgrid.getRegional(f,"errors"),L=e.jgrid.getRegional(f,"edit");"e1"===m?e.jgrid.info_dialog(k.errcap,"function 'custom_element' "+L.msg.nodefined,L.bClose,{styleUI:f.p.styleUI}):"e2"===m?e.jgrid.info_dialog(k.errcap,"function 'custom_element' "+L.msg.novalue,L.bClose,{styleUI:f.p.styleUI}):e.jgrid.info_dialog(k.errcap,"string"==typeof m?m:m.message,L.bClose,{styleUI:f.p.styleUI})}break;default:var A;A="button"===t?"button":"textbox",u=document.createElement("input"),u.type=t,u.value=r,o(u,n),"button"!==t&&(i?n.size||e(u).css({width:"96%"}):n.size||(n.size=20)),e(u).attr("role",A)}return u},checkDate:function(e,t){var n,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},i={};if(e=e.toLowerCase(),n=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(n),t=t.split(n),3!==t.length)return!1;var s,o,u=-1,a=-1,f=-1;for(o=0;o<e.length;o++){var l=isNaN(t[o])?0:parseInt(t[o],10);i[e[o]]=l,s=e[o],-1!==s.indexOf("y")&&(u=o),-1!==s.indexOf("m")&&(f=o),-1!==s.indexOf("d")&&(a=o)}s="y"===e[u]||"yyyy"===e[u]?4:"yy"===e[u]?2:-1;var c,h=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1===u?!1:(c=i[e[u]].toString(),2===s&&1===c.length&&(s=1),c.length!==s||0===i[e[u]]&&"00"!==t[u]?!1:-1===f?!1:(c=i[e[f]].toString(),c.length<1||i[e[f]]<1||i[e[f]]>12?!1:-1===a?!1:(c=i[e[a]].toString(),c.length<1||i[e[a]]<1||i[e[a]]>31||2===i[e[f]]&&i[e[a]]>r(i[e[u]])||i[e[a]]>h[i[e[f]]]?!1:!0)))},isEmpty:function(e){return e.match(/^\s+$/)||""===e?!0:!1},checkTime:function(t){var n,r=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!e.jgrid.isEmpty(t)){if(n=t.match(r),!n)return!1;if(n[3]){if(n[1]<1||n[1]>12)return!1}else if(n[1]>23)return!1;if(n[2]>59)return!1}return!0},checkValues:function(t,n,r,i){var s,o,u,f,l,c,h=this,p=h.p.colModel,d=e.jgrid.getRegional(this,"edit.msg");if(void 0===r)if("string"==typeof n){for(o=0,l=p.length;l>o;o++)if(p[o].name===n){s=p[o].editrules,n=o,null!=p[o].formoptions&&(u=p[o].formoptions.label);break}}else n>=0&&(s=p[n].editrules);else s=r,u=void 0===i?"_":i;if(s){if(u||(u=null!=h.p.colNames?h.p.colNames[n]:p[n].label),s.required===!0&&e.jgrid.isEmpty(t))return[!1,u+": "+d.required,""];var v=s.required===!1?!1:!0;if(s.number===!0&&(v!==!1||!e.jgrid.isEmpty(t))&&isNaN(t))return[!1,u+": "+d.number,""];if(void 0!==s.minValue&&!isNaN(s.minValue)&&parseFloat(t)<parseFloat(s.minValue))return[!1,u+": "+d.minValue+" "+s.minValue,""];if(void 0!==s.maxValue&&!isNaN(s.maxValue)&&parseFloat(t)>parseFloat(s.maxValue))return[!1,u+": "+d.maxValue+" "+s.maxValue,""];var m;if(s.email===!0&&!(v===!1&&e.jgrid.isEmpty(t)||(m=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,m.test(t))))return[!1,u+": "+d.email,""];if(s.integer===!0&&(v!==!1||!e.jgrid.isEmpty(t))){if(isNaN(t))return[!1,u+": "+d.integer,""];if(t%1!==0||-1!==t.indexOf("."))return[!1,u+": "+d.integer,""]}if(s.date===!0&&!(v===!1&&e.jgrid.isEmpty(t)||(p[n].formatoptions&&p[n].formatoptions.newformat?(f=p[n].formatoptions.newformat,c=e.jgrid.getRegional(h,"formatter.date.masks"),c&&c.hasOwnProperty(f)&&(f=c[f])):f=p[n].datefmt||"Y-m-d",e.jgrid.checkDate(f,t))))return[!1,u+": "+d.date+" - "+f,""];if(s.time===!0&&!(v===!1&&e.jgrid.isEmpty(t)||e.jgrid.checkTime(t)))return[!1,u+": "+d.date+" - hh:mm (am/pm)",""];if(s.url===!0&&!(v===!1&&e.jgrid.isEmpty(t)||(m=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,m.test(t))))return[!1,u+": "+d.url,""];if(s.custom===!0&&(v!==!1||!e.jgrid.isEmpty(t))){if(e.isFunction(s.custom_func)){var g=s.custom_func.call(h,t,u,n);return e.isArray(g)?g:[!1,d.customarray,""]}return[!1,d.customfcheck,""]}}return[!0,"",""]}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";var t={};e.jgrid.extend({editGridRow:function(n,r){var i=e.jgrid.getRegional(this[0],"edit"),s=this[0].p.styleUI,o=e.jgrid.styleUI[s].formedit,u=e.jgrid.styleUI[s].common;return r=e.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:u.overlay,removemodal:!0,form:"edit",template:null,focusField:!0},i,r||{}),t[e(this)[0].p.id]=r,this.each(function(){function i(){var n,r={};e(_).find(".FormElement").each(function(){var n=e(".customelement",this);if(n.length){var i=n[0],s=e(i).attr("name");e.each(T.p.colModel,function(){if(this.name===s&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(C[s]=this.editoptions.custom_value.call(T,e("#"+e.jgrid.jqID(s),_),"get"),void 0===C[s])throw"e1"}catch(n){"e1"===n?e.jgrid.info_dialog(F.errcap,"function 'custom_value' "+t[e(this)[0]].p.msg.novalue,t[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI}):e.jgrid.info_dialog(F.errcap,n.message,t[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI})}return!0}})}else{switch(e(this).get(0).type){case"checkbox":if(e(this).is(":checked"))C[this.name]=e(this).val();else{var o=e(this).attr("offval");C[this.name]=o}break;case"select-one":C[this.name]=e("option:selected",this).val();break;case"select-multiple":C[this.name]=e(this).val(),C[this.name]?C[this.name]=C[this.name].join(","):C[this.name]="";var u=[];e("option:selected",this).each(function(t,n){u[t]=e(n).text()});break;case"password":case"text":case"textarea":case"button":C[this.name]=e(this).val();break;case"radio":if(r.hasOwnProperty(this.name))return!0;r[this.name]=void 0===e(this).attr("offval")?"off":e(this).attr("offval")}T.p.autoencode&&(C[this.name]=e.jgrid.htmlEncode(C[this.name]))}});for(n in r)if(r.hasOwnProperty(n)){var i=e('input[name="'+n+'"]:checked',_).val();C[n]=void 0!==i?i:r[n],T.p.autoencode&&(C[n]=e.jgrid.htmlEncode(C[n]))}return!0}function s(n,r,i,s){var u,f,l,c,h,p,d,v=0,m=[],y=!1,w="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",E="";for(d=1;s>=d;d++)E+=w;if("_empty"!==n&&(y=e(r).jqGrid("getInd",n)),e(r.p.colModel).each(function(d){if(u=this.name,f=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,h=f?"style='display:none'":"","cb"!==u&&"subgrid"!==u&&this.editable===!0&&"rn"!==u){if(y===!1)c="";else if(u===r.p.ExpandColumn&&r.p.treeGrid===!0)c=e("td[role='gridcell']:eq("+d+")",r.rows[y]).text();else{try{c=e.unformat.call(r,e("td[role='gridcell']:eq("+d+")",r.rows[y]),{rowId:n,colModel:this},d)}catch(w){c=this.edittype&&"textarea"===this.edittype?e("td[role='gridcell']:eq("+d+")",r.rows[y]).text():e("td[role='gridcell']:eq("+d+")",r.rows[y]).html()}(!c||"&nbsp;"===c||"&#160;"===c||1===c.length&&160===c.charCodeAt(0))&&(c="")}var S=e.extend({},this.editoptions||{},{id:u,name:u,rowId:n,oper:"edit"}),x=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),N=parseInt(x.rowpos,10)||v+1,C=parseInt(2*(parseInt(x.colpos,10)||1),10);if("_empty"===n&&S.defaultValue&&(c=e.isFunction(S.defaultValue)?S.defaultValue.call(T):S.defaultValue),this.edittype||(this.edittype="text"),T.p.autoencode&&(c=e.jgrid.htmlDecode(c)),p=e.jgrid.createEl.call(T,this.edittype,S,c,!1,e.extend({},e.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),"select"===this.edittype&&(c=e(p).val(),"select-multiple"===e(p).get(0).type&&c&&(c=c.join(","))),"checkbox"===this.edittype&&(c=e(p).is(":checked")?e(p).val():e(p).attr("offval")),(t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData[u]=c),e(p).addClass("FormElement"),e.inArray(this.edittype,["text","textarea","password","select"])>-1&&e(p).addClass(o.inputClass),j)e(z).find("#"+u).replaceWith(p);else{if(l=e(i).find("tr[rowpos="+N+"]"),x.rowabove){var k=e("<tr><td class='contentinfo' colspan='"+2*s+"'>"+x.rowcontent+"</td></tr>");e(i).append(k),k[0].rp=N}0===l.length&&(l=e("<tr "+h+" rowpos='"+N+"'></tr>").addClass("FormData").attr("id","tr_"+u),e(l).append(E),e(i).append(l),l[0].rp=N),e("td:eq("+(C-2)+")",l[0]).html("<label for='"+u+"'>"+(void 0===x.label?r.p.colNames[d]:x.label)+"</label>"),e("td:eq("+(C-1)+")",l[0]).append(x.elmprefix).append(p).append(x.elmsuffix)}"custom"===this.edittype&&e.isFunction(S.custom_value)&&S.custom_value.call(T,e("#"+u,O),"set",c),e.jgrid.bindEv.call(T,p,S),m[v]=d,v++}}),v>0){var S;j?(S="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+n+"'/>",e(z).append(S)):(S=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*s-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+n+"'/></td></tr>"),S[0].rp=v+999,e(i).append(S)),(t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData[r.p.id+"_id"]=n)}return m}function f(n,r,i){var s,o,u,f,l,c,h=0;(t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData={},t[T.p.id]._savedData[r.p.id+"_id"]=n);var p=r.p.colModel;if("_empty"===n)return e(p).each(function(){s=this.name,f=e.extend({},this.editoptions||{}),u=e("#"+e.jgrid.jqID(s),i),u&&u.length&&null!==u[0]&&(l="","custom"===this.edittype&&e.isFunction(f.custom_value)?f.custom_value.call(T,e("#"+s,i),"set",l):f.defaultValue?(l=e.isFunction(f.defaultValue)?f.defaultValue.call(T):f.defaultValue,"checkbox"===u[0].type?(c=l.toLowerCase(),c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(u[0].checked=!0,u[0].defaultChecked=!0,u[0].value=l):(u[0].checked=!1,u[0].defaultChecked=!1)):u.val(l)):"checkbox"===u[0].type?(u[0].checked=!1,u[0].defaultChecked=!1,l=e(u).attr("offval")):u[0].type&&"select"===u[0].type.substr(0,6)?u[0].selectedIndex=0:u.val(l),(t[T.p.id].checkOnSubmit===!0||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData[s]=l))}),void e("#id_g",i).val(n);var d=e(r).jqGrid("getInd",n,!0);d&&(e('td[role="gridcell"]',d).each(function(u){if(s=p[u].name,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&p[u].editable===!0){if(s===r.p.ExpandColumn&&r.p.treeGrid===!0)o=e(this).text();else try{o=e.unformat.call(r,e(this),{rowId:n,colModel:p[u]},u)}catch(f){o="textarea"===p[u].edittype?e(this).text():e(this).html()}switch(T.p.autoencode&&(o=e.jgrid.htmlDecode(o)),(t[T.p.id].checkOnSubmit===!0||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData[s]=o),s=e.jgrid.jqID(s),p[u].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),e("#"+s,i).val(o);break;case"select":var l=o.split(",");l=e.map(l,function(t){return e.trim(t)}),e("#"+s+" option",i).each(function(){p[u].editoptions.multiple||e.trim(o)!==e.trim(e(this).text())&&l[0]!==e.trim(e(this).text())&&l[0]!==e.trim(e(this).val())?p[u].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),l)>-1||e.inArray(e.trim(e(this).val()),l)>-1)?this.selected=!0:this.selected=!1:this.selected=!0}),(t[T.p.id].checkOnSubmit===!0||t[T.p.id].checkOnUpdate)&&(o=e("#"+s,i).val(),p[u].editoptions.multiple&&(o=o.join(",")),t[T.p.id]._savedData[s]=o);break;case"checkbox":if(o=String(o),p[u].editoptions&&p[u].editoptions.value){var c=p[u].editoptions.value.split(":");c[0]===o?e("#"+s,i)[T.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):e("#"+s,i)[T.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1})}else o=o.toLowerCase(),o.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==o?(e("#"+s,i)[T.p.useProp?"prop":"attr"]("checked",!0),e("#"+s,i)[T.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+s,i)[T.p.useProp?"prop":"attr"]("checked",!1),e("#"+s,i)[T.p.useProp?"prop":"attr"]("defaultChecked",!1));(t[T.p.id].checkOnSubmit===!0||t[T.p.id].checkOnUpdate)&&(o=e("#"+s,i).is(":checked")?e("#"+s,i).val():e("#"+s,i).attr("offval"),t[T.p.id]._savedData[s]=o);break;case"custom":try{if(!p[u].editoptions||!e.isFunction(p[u].editoptions.custom_value))throw"e1";p[u].editoptions.custom_value.call(T,e("#"+s,i),"set",o)}catch(d){"e1"===d?e.jgrid.info_dialog(F.errcap,"function 'custom_value' "+t[e(this)[0]].p.msg.nodefined,e.rp_ge[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI}):e.jgrid.info_dialog(F.errcap,d.message,e.rp_ge[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI})}}h++}}),h>0&&(e("#id_g",_).val(n),(t[T.p.id].checkOnSubmit===!0||t[T.p.id].checkOnUpdate)&&(t[T.p.id]._savedData[r.p.id+"_id"]=n)))}function l(){e.each(T.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&C.hasOwnProperty(t.name)&&""===C[t.name]&&(C[t.name]="null")})}function p(){var n,i,s,o,c,p,v,m=[!0,"",""],g={},y=T.p.prmNames,w=e(T).triggerHandler("jqGridAddEditBeforeCheckValues",[e(O),L]);w&&"object"==typeof w&&(C=w),e.isFunction(t[T.p.id].beforeCheckValues)&&(w=t[T.p.id].beforeCheckValues.call(T,C,e(O),L),w&&"object"==typeof w&&(C=w));for(o in C)if(C.hasOwnProperty(o)&&(m=e.jgrid.checkValues.call(T,C[o],o),m[0]===!1))break;if(l(),m[0]&&(g=e(T).triggerHandler("jqGridAddEditClickSubmit",[t[T.p.id],C,L]),void 0===g&&e.isFunction(t[T.p.id].onclickSubmit)&&(g=t[T.p.id].onclickSubmit.call(T,t[T.p.id],C,L)||{}),m=e(T).triggerHandler("jqGridAddEditBeforeSubmit",[C,e(O),L]),void 0===m&&(m=[!0,"",""]),m[0]&&e.isFunction(t[T.p.id].beforeSubmit)&&(m=t[T.p.id].beforeSubmit.call(T,C,e(O),L))),m[0]&&!t[T.p.id].processing){if(t[T.p.id].processing=!0,e("#sData",_+"_2").addClass(u.active),v=t[T.p.id].url||e(T).jqGrid("getGridParam","editurl"),s=y.oper,i="clientArray"===v?T.p.keyName:y.id,C[s]="_empty"===e.trim(C[T.p.id+"_id"])?y.addoper:y.editoper,C[s]!==y.addoper?C[i]=C[T.p.id+"_id"]:void 0===C[i]&&(C[i]=C[T.p.id+"_id"]),delete C[T.p.id+"_id"],C=e.extend(C,t[T.p.id].editData,g),T.p.treeGrid===!0){if(C[s]===y.addoper){c=e(T).jqGrid("getGridParam","selrow");var E="adjacency"===T.p.treeGridModel?T.p.treeReader.parent_id_field:"parent_id";C[E]=c}for(p in T.p.treeReader)if(T.p.treeReader.hasOwnProperty(p)){var S=T.p.treeReader[p];if(C.hasOwnProperty(S)){if(C[s]===y.addoper&&"parent_id_field"===p)continue;delete C[S]}}}C[i]=e.jgrid.stripPref(T.p.idPrefix,C[i]);var x=e.extend({url:v,type:t[T.p.id].mtype,data:e.isFunction(t[T.p.id].serializeEditData)?t[T.p.id].serializeEditData.call(T,C):C,complete:function(o,l){var p;if(e("#sData",_+"_2").removeClass(u.active),C[i]=T.p.idPrefix+C[i],o.status>=300&&304!==o.status?(m[0]=!1,m[1]=e(T).triggerHandler("jqGridAddEditErrorTextFormat",[o,L]),e.isFunction(t[T.p.id].errorTextFormat)?m[1]=t[T.p.id].errorTextFormat.call(T,o,L):m[1]=l+" Status: '"+o.statusText+"'. Error code: "+o.status):(m=e(T).triggerHandler("jqGridAddEditAfterSubmit",[o,C,L]),void 0===m&&(m=[!0,"",""]),m[0]&&e.isFunction(t[T.p.id].afterSubmit)&&(m=t[T.p.id].afterSubmit.call(T,o,C,L))),m[0]===!1)e(".FormError",O).html(m[1]),e(".FormError",O).show();else if(T.p.autoencode&&e.each(C,function(t,n){C[t]=e.jgrid.htmlDecode(n)}),C[s]===y.addoper?(m[2]||(m[2]=e.jgrid.randId()),null==C[i]||"_empty"===C[i]?C[i]=m[2]:m[2]=C[i],t[T.p.id].reloadAfterSubmit?e(T).trigger("reloadGrid"):T.p.treeGrid===!0?e(T).jqGrid("addChildNode",m[2],c,C):e(T).jqGrid("addRowData",m[2],C,r.addedrow),t[T.p.id].closeAfterAdd?(T.p.treeGrid!==!0&&e(T).jqGrid("setSelection",m[2]),e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form})):t[T.p.id].clearAfterAdd&&f("_empty",T,O)):(t[T.p.id].reloadAfterSubmit?(e(T).trigger("reloadGrid"),t[T.p.id].closeAfterEdit||setTimeout(function(){e(T).jqGrid("setSelection",C[i])},1e3)):T.p.treeGrid===!0?e(T).jqGrid("setTreeRow",C[i],C):e(T).jqGrid("setRowData",C[i],C),t[T.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form})),e.isFunction(t[T.p.id].afterComplete)&&(n=o,setTimeout(function(){e(T).triggerHandler("jqGridAddEditAfterComplete",[n,C,e(O),L]),t[T.p.id].afterComplete.call(T,n,C,e(O),L),n=null},500)),(t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate)&&(e(O).data("disabled",!1),"_empty"!==t[T.p.id]._savedData[T.p.id+"_id"]))for(p in t[T.p.id]._savedData)t[T.p.id]._savedData.hasOwnProperty(p)&&C[p]&&(t[T.p.id]._savedData[p]=C[p]);t[T.p.id].processing=!1;try{e(":input:visible",O)[0].focus()}catch(v){}}},e.jgrid.ajaxOptions,t[T.p.id].ajaxEditOptions);if(x.url||t[T.p.id].useDataProxy||(e.isFunction(T.p.dataProxy)?t[T.p.id].useDataProxy=!0:(m[0]=!1,m[1]+=" "+F.nourl)),m[0])if(t[T.p.id].useDataProxy){var N=T.p.dataProxy.call(T,x,"set_"+T.p.id);void 0===N&&(N=[!0,""]),N[0]===!1?(m[0]=!1,m[1]=N[1]||"Error deleting the selected row!"):(x.data.oper===y.addoper&&t[T.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),x.data.oper===y.editoper&&t[T.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}))}else"clientArray"===x.url?(t[T.p.id].reloadAfterSubmit=!1,C=x.data,x.complete({status:200,statusText:""},"")):e.ajax(x)}m[0]===!1&&(e(".FormError",O).html(m[1]),e(".FormError",O).show())}function v(e,t){var n,r=!1;for(n in e)if(e.hasOwnProperty(n)&&e[n]!=t[n]){r=!0;break}return r}function m(){var n=!0;return e(".FormError",O).hide(),t[T.p.id].checkOnUpdate&&(C={},i(),k=v(C,t[T.p.id]._savedData),k&&(e(O).data("disabled",!0),e(".confirm","#"+D.themodal).show(),n=!1)),n}function y(){var t;if("_empty"!==n&&void 0!==T.p.savedRow&&T.p.savedRow.length>0&&e.isFunction(e.fn.jqGrid.restoreRow))for(t=0;t<T.p.savedRow.length;t++)if(T.p.savedRow[t].id===n){e(T).jqGrid("restoreRow",n);break}}function w(t,n){var r=n[1].length-1;0===t?e("#pData",N).addClass(u.disabled):void 0!==n[1][t-1]&&e("#"+e.jgrid.jqID(n[1][t-1])).hasClass(u.disabled)?e("#pData",N).addClass(u.disabled):e("#pData",N).removeClass(u.disabled),t===r?e("#nData",N).addClass(u.disabled):void 0!==n[1][t+1]&&e("#"+e.jgrid.jqID(n[1][t+1])).hasClass(u.disabled)?e("#nData",N).addClass(u.disabled):e("#nData",N).removeClass(u.disabled)}function E(){var t=e(T).jqGrid("getDataIDs"),n=e("#id_g",_).val(),r=e.inArray(n,t);return[r,t]}function S(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){return'<span id="'+t+'" ></span>'})),t}function x(){if(t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate){var n=[],r={};n=e.map(t[T.p.id]._savedData,function(e,t){return t}),e(".FormElement",z).each(function(){if(-1===n.indexOf(this.name)){var i=e(this).val(),s=e(this).get(0).type;if("checkbox"===s)e(this).is(":checked")||(i=e(this).attr("offval"));else if("select-multiple"===s)i=i.join(",");else if("radio"===s){if(r.hasOwnProperty(this.name))return!0;r[this.name]=void 0===e(this).attr("offval")?"off":e(this).attr("offval")}t[T.p.id]._savedData[this.name]=i}});for(var i in r)if(r.hasOwnProperty(i)){var s=e('input[name="'+i+'"]:checked',z).val();t[T.p.id]._savedData[i]=void 0!==s?s:r[i]}}}var T=this;if(T.grid&&n){var N,C,k,L,A=T.p.id,O="FrmGrid_"+A,M="TblGrid_"+A,_="#"+e.jgrid.jqID(M),D={themodal:"editmod"+A,modalhead:"edithd"+A,modalcontent:"editcnt"+A,scrollelm:O},P=!0,H=1,B=0,j="string"==typeof t[T.p.id].template&&t[T.p.id].template.length>0,F=e.jgrid.getRegional(this,"errors");t[T.p.id].styleUI=T.p.styleUI||"jQueryUI",e.jgrid.isMobile()&&(t[T.p.id].resize=!1),"new"===n?(n="_empty",L="add",r.caption=t[T.p.id].addCaption):(r.caption=t[T.p.id].editCaption,L="edit"),r.recreateForm||e(T).data("formProp")&&e.extend(t[e(this)[0].p.id],e(T).data("formProp"));var I=!0;r.checkOnUpdate&&r.jqModal&&!r.modal&&(I=!1);var q,R=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",U=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",z=e("<form name='FormPost' id='"+O+"' class='FormGrid' onSubmit='return false;' style='width:"+U+";height:"+R+";'></form>").data("disabled",!1);if(j?(q=S(t[e(this)[0].p.id].template),N=_):(q=e("<table id='"+M+"' class='EditTable ui-common-table'><tbody></tbody></table>"),N=_+"_2"),O="#"+e.jgrid.jqID(O),e(z).append("<div class='FormError "+u.error+"' style='display:none;'></div>"),e(z).append("<div class='tinfo topinfo'>"+t[T.p.id].topinfo+"</div>"),e(T.p.colModel).each(function(){var e=this.formoptions;H=Math.max(H,e?e.colpos||0:0),B=Math.max(B,e?e.rowpos||0:0)}),e(z).append(q),P=e(T).triggerHandler("jqGridAddEditBeforeInitData",[z,L]),void 0===P&&(P=!0),P&&e.isFunction(t[T.p.id].beforeInitData)&&(P=t[T.p.id].beforeInitData.call(T,z,L)),P!==!1){y(),s(n,T,q,H);var W="rtl"===T.p.direction?!0:!1,X=W?"nData":"pData",V=W?"pData":"nData",$="<a id='"+X+"' class='fm-button "+u.button+"'><span class='"+u.icon_base+" "+o.icon_prev+"'></span></a>",J="<a id='"+V+"' class='fm-button "+u.button+"'><span class='"+u.icon_base+" "+o.icon_next+"'></span></a>",K="<a id='sData' class='fm-button "+u.button+"'>"+r.bSubmit+"</a>",Q="<a id='cData' class='fm-button "+u.button+"'>"+r.bCancel+"</a>",G="<table style='height:auto' class='EditTable ui-common-table' id='"+M+"_2'><tbody><tr><td colspan='2'><hr class='"+u.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(W?J+$:$+J)+"</td><td class='EditButton'>"+K+Q+"</td></tr>";if(G+="</tbody></table>",B>0){var Y=[];e.each(e(q)[0].rows,function(e,t){Y[e]=t}),Y.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(Y,function(t,n){e("tbody",q).append(n)})}r.gbox="#gbox_"+e.jgrid.jqID(A);var Z=!1;r.closeOnEscape===!0&&(r.closeOnEscape=!1,Z=!0);var et;if(j?(e(z).find("#pData").replaceWith($),e(z).find("#nData").replaceWith(J),e(z).find("#sData").replaceWith(K),e(z).find("#cData").replaceWith(Q),et=e("<div id="+M+"></div>").append(z)):et=e("<div></div>").append(z).append(G),e(z).append("<div class='binfo topinfo bottominfo'>"+t[T.p.id].bottominfo+"</div>"),e.jgrid.createModal(D,et,t[e(this)[0].p.id],"#gview_"+e.jgrid.jqID(T.p.id),e("#gbox_"+e.jgrid.jqID(T.p.id))[0]),W&&(e("#pData, #nData",_+"_2").css("float","right"),e(".EditButton",_+"_2").css("text-align","left")),t[T.p.id].topinfo&&e(".tinfo",O).show(),t[T.p.id].bottominfo&&e(".binfo",O).show(),et=null,G=null,e("#"+e.jgrid.jqID(D.themodal)).keydown(function(n){var i=n.target;if(e(O).data("disabled")===!0)return!1;if(t[T.p.id].savekey[0]===!0&&n.which===t[T.p.id].savekey[1]&&"TEXTAREA"!==i.tagName)return e("#sData",_+"_2").trigger("click"),!1;if(27===n.which)return m()?(Z&&e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),!1):!1;if(t[T.p.id].navkeys[0]===!0){if("_empty"===e("#id_g",_).val())return!0;if(n.which===t[T.p.id].navkeys[1])return e("#pData",N).trigger("click"),!1;if(n.which===t[T.p.id].navkeys[2])return e("#nData",N).trigger("click"),!1}}),r.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(D.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(D.themodal)).unbind("click").click(function(){return m()?(e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),!1):!1})),r.saveicon=e.extend([!0,"left",o.icon_save],r.saveicon),r.closeicon=e.extend([!0,"left",o.icon_close],r.closeicon),r.saveicon[0]===!0&&e("#sData",N).addClass("right"===r.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+u.icon_base+" "+r.saveicon[2]+"'></span>"),r.closeicon[0]===!0&&e("#cData",N).addClass("right"===r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+u.icon_base+" "+r.closeicon[2]+"'></span>"),t[T.p.id].checkOnSubmit||t[T.p.id].checkOnUpdate){K="<a id='sNew' class='fm-button "+u.button+"' style='z-index:1002'>"+r.bYes+"</a>",J="<a id='nNew' class='fm-button "+u.button+"' style='z-index:1002;margin-left:5px'>"+r.bNo+"</a>",Q="<a id='cNew' class='fm-button "+u.button+"' style='z-index:1002;margin-left:5px;'>"+r.bExit+"</a>";var tt=r.zIndex||999;tt++,e("<div class='"+r.overlayClass+" jqgrid-overlay confirm' style='z-index:"+tt+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+u.content+"' style='z-index:"+(tt+1)+"'>"+r.saveData+"<br/><br/>"+K+J+Q+"</div>").insertAfter(O),e("#sNew","#"+e.jgrid.jqID(D.themodal)).click(function(){return p(),e(O).data("disabled",!1),e(".confirm","#"+e.jgrid.jqID(D.themodal)).hide(),!1}),e("#nNew","#"+e.jgrid.jqID(D.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(D.themodal)).hide(),e(O).data("disabled",!1),setTimeout(function(){e(":input:visible",O)[0].focus()},0),!1}),e("#cNew","#"+e.jgrid.jqID(D.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(D.themodal)).hide(),e(O).data("disabled",!1),e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),!1})}e(T).triggerHandler("jqGridAddEditInitializeForm",[e(O),L]),e.isFunction(t[T.p.id].onInitializeForm)&&t[T.p.id].onInitializeForm.call(T,e(O),L),"_empty"!==n&&t[T.p.id].viewPagerButtons?e("#pData,#nData",N).show():e("#pData,#nData",N).hide(),e(T).triggerHandler("jqGridAddEditBeforeShowForm",[e(O),L]),e.isFunction(t[T.p.id].beforeShowForm)&&t[T.p.id].beforeShowForm.call(T,e(O),L),x(),e("#"+e.jgrid.jqID(D.themodal)).data("onClose",t[T.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(D.themodal),{gbox:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,overlay:r.overlay,modal:r.modal,overlayClass:r.overlayClass,focusField:r.focusField,onHide:function(t){var n=e("#editmod"+A)[0].style.height,r=e("#editmod"+A)[0].style.width;n.indexOf("px")>-1&&(n=parseFloat(n)),r.indexOf("px")>-1&&(r=parseFloat(r)),e(T).data("formProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:r,height:n,dataheight:e(O).height(),datawidth:e(O).width()}),t.w.remove(),t.o&&t.o.remove()}}),I||e("."+e.jgrid.jqID(r.overlayClass)).click(function(){return m()?(e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),!1):!1}),e(".fm-button","#"+e.jgrid.jqID(D.themodal)).hover(function(){e(this).addClass(u.hover)},function(){e(this).removeClass(u.hover)}),e("#sData",N).click(function(){return C={},e(".FormError",O).hide(),i(),"_empty"===C[T.p.id+"_id"]?p():r.checkOnSubmit===!0?(k=v(C,t[T.p.id]._savedData),k?(e(O).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(D.themodal)).show()):p()):p(),!1}),e("#cData",N).click(function(){return m()?(e.jgrid.hideModal("#"+e.jgrid.jqID(D.themodal),{gb:"#gbox_"+e.jgrid.jqID(A),jqm:r.jqModal,onClose:t[T.p.id].onClose,removemodal:t[T.p.id].removemodal,formprop:!t[T.p.id].recreateForm,form:t[T.p.id].form}),!1):!1}),e("#nData",N).click(function(){if(!m())return!1;e(".FormError",O).hide();var t=E();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){e(T).triggerHandler("jqGridAddEditClickPgButtons",["next",e(O),t[1][t[0]]]);var n;if(e.isFunction(r.onclickPgButtons)&&(n=r.onclickPgButtons.call(T,"next",e(O),t[1][t[0]]),void 0!==n&&n===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]+1])).hasClass(u.disabled))return!1;f(t[1][t[0]+1],T,O),e(T).jqGrid("setSelection",t[1][t[0]+1]),e(T).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",e(O),t[1][t[0]]]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(T,"next",e(O),t[1][t[0]+1]),x(),w(t[0]+1,t)}return!1}),e("#pData",N).click(function(){if(!m())return!1;e(".FormError",O).hide();var t=E();if(-1!==t[0]&&t[1][t[0]-1]){e(T).triggerHandler("jqGridAddEditClickPgButtons",["prev",e(O),t[1][t[0]]]);var n;if(e.isFunction(r.onclickPgButtons)&&(n=r.onclickPgButtons.call(T,"prev",e(O),t[1][t[0]]),void 0!==n&&n===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]-1])).hasClass(u.disabled))return!1;f(t[1][t[0]-1],T,O),e(T).jqGrid("setSelection",t[1][t[0]-1]),e(T).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",e(O),t[1][t[0]]]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(T,"prev",e(O),t[1][t[0]-1]),x(),w(t[0]-1,t)}return!1}),e(T).triggerHandler("jqGridAddEditAfterShowForm",[e(O),L]),e.isFunction(t[T.p.id].afterShowForm)&&t[T.p.id].afterShowForm.call(T,e(O),L);var nt=E();w(nt[0],nt)}}})},viewGridRow:function(n,r){var i=e.jgrid.getRegional(this[0],"view"),s=this[0].p.styleUI,o=e.jgrid.styleUI[s].formedit,u=e.jgrid.styleUI[s].common;return r=e.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},i,r||{}),t[e(this)[0].p.id]=r,this.each(function(){function i(){(t[v.p.id].closeOnEscape===!0||t[v.p.id].navkeys[0]===!0)&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(x.modalhead)).attr("tabindex","-1").focus()},0)}function s(t,n,i,s){var o,f,l,c,p,v,m,g,y,b=0,w=[],E=!1,S="<td class='CaptionTD form-view-label "+u.content+"' width='"+r.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+u.content+"'>&#160;</td>",x="",T="<td class='CaptionTD form-view-label "+u.content+"'>&#160;</td><td class='DataTD form-view-data "+u.content+"'>&#160;</td>",N=["integer","number","currency"],C=0,k=0;for(v=1;s>=v;v++)x+=1===v?S:T;if(e(n.p.colModel).each(function(){f=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,f||"right"!==this.align||(this.formatter&&-1!==e.inArray(this.formatter,N)?C=Math.max(C,parseInt(this.width,10)):k=Math.max(k,parseInt(this.width,10)))}),m=0!==C?C:0!==k?k:0,E=e(n).jqGrid("getInd",t),e(n.p.colModel).each(function(t){if(o=this.name,g=!1,f=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,p=f?"style='display:none'":"",y="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&y){c=E===!1?"":o===n.p.ExpandColumn&&n.p.treeGrid===!0?e("td:eq("+t+")",n.rows[E]).text():e("td:eq("+t+")",n.rows[E]).html(),g="right"===this.align&&0!==m?!0:!1;var r=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),u=parseInt(r.rowpos,10)||b+1,h=parseInt(2*(parseInt(r.colpos,10)||1),10);if(r.rowabove){var d=e("<tr><td class='contentinfo' colspan='"+2*s+"'>"+r.rowcontent+"</td></tr>");e(i).append(d),d[0].rp=u}l=e(i).find("tr[rowpos="+u+"]"),0===l.length&&(l=e("<tr "+p+" rowpos='"+u+"'></tr>").addClass("FormData").attr("id","trv_"+o),e(l).append(x),e(i).append(l),l[0].rp=u),e("td:eq("+(h-2)+")",l[0]).html("<b>"+(void 0===r.label?n.p.colNames[t]:r.label)+"</b>"),e("td:eq("+(h-1)+")",l[0]).append("<span>"+c+"</span>").attr("id","v_"+o),g&&e("td:eq("+(h-1)+") span",l[0]).css({"text-align":"right",width:m+"px"}),w[b]=t,b++}}),b>0){var L=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*s-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");L[0].rp=b+99,e(i).append(L)}return w}function f(t,n){var r,i,s,o,u=0;o=e(n).jqGrid("getInd",t,!0),o&&(e("td",o).each(function(t){r=n.p.colModel[t].name,i=n.p.colModel[t].editrules&&n.p.colModel[t].editrules.edithidden===!0?!1:n.p.colModel[t].hidden===!0?!0:!1,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(s=r===n.p.ExpandColumn&&n.p.treeGrid===!0?e(this).text():e(this).html(),r=e.jgrid.jqID("v_"+r),e("#"+r+" span","#"+w).html(s),i&&e("#"+r,"#"+w).parents("tr:first").hide(),u++)}),u>0&&e("#id_g","#"+w).val(t))}function l(t,n){var r=n[1].length-1;0===t?e("#pData","#"+w+"_2").addClass(u.disabled):void 0!==n[1][t-1]&&e("#"+e.jgrid.jqID(n[1][t-1])).hasClass(u.disabled)?e("#pData",w+"_2").addClass(u.disabled):e("#pData","#"+w+"_2").removeClass(u.disabled),t===r?e("#nData","#"+w+"_2").addClass(u.disabled):void 0!==n[1][t+1]&&e("#"+e.jgrid.jqID(n[1][t+1])).hasClass(u.disabled)?e("#nData",w+"_2").addClass(u.disabled):e("#nData","#"+w+"_2").removeClass(u.disabled)}function p(){var t=e(v).jqGrid("getDataIDs"),n=e("#id_g","#"+w).val(),r=e.inArray(n,t);return[r,t]}var v=this;if(v.grid&&n){var m=v.p.id,y="ViewGrid_"+e.jgrid.jqID(m),w="ViewTbl_"+e.jgrid.jqID(m),E="ViewGrid_"+m,S="ViewTbl_"+m,x={themodal:"viewmod"+m,modalhead:"viewhd"+m,modalcontent:"viewcnt"+m,scrollelm:y},T=e.isFunction(t[v.p.id].beforeInitData)?t[v.p.id].beforeInitData:!1,N=!0,C=1,k=0;t[v.p.id].styleUI=v.p.styleUI||"jQueryUI",r.recreateForm||e(v).data("viewProp")&&e.extend(t[e(this)[0].p.id],e(v).data("viewProp"));var L=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",A=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",O=e("<form name='FormPost' id='"+E+"' class='FormGrid' style='width:"+A+";height:"+L+";'></form>"),M=e("<table id='"+S+"' class='EditTable ViewTable'><tbody></tbody></table>");if(e(v.p.colModel).each(function(){var e=this.formoptions;C=Math.max(C,e?e.colpos||0:0),k=Math.max(k,e?e.rowpos||0:0)}),e(O).append(M),T&&(N=T.call(v,O),void 0===N&&(N=!0)),N!==!1){s(n,v,M,C);var _="rtl"===v.p.direction?!0:!1,D=_?"nData":"pData",P=_?"pData":"nData",H="<a id='"+D+"' class='fm-button "+u.button+"'><span class='"+u.icon_base+" "+o.icon_prev+"'></span></a>",B="<a id='"+P+"' class='fm-button "+u.button+"'><span class='"+u.icon_base+" "+o.icon_next+"'></span></a>",j="<a id='cData' class='fm-button "+u.button+"'>"+r.bClose+"</a>";if(k>0){var F=[];e.each(e(M)[0].rows,function(e,t){F[e]=t}),F.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(F,function(t,n){e("tbody",M).append(n)})}r.gbox="#gbox_"+e.jgrid.jqID(m);var I=e("<div></div>").append(O).append("<table border='0' class='EditTable' id='"+w+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+r.labelswidth+"'>"+(_?B+H:H+B)+"</td><td class='EditButton'>"+j+"</td></tr></tbody></table>");e.jgrid.createModal(x,I,t[e(this)[0].p.id],"#gview_"+e.jgrid.jqID(v.p.id),e("#gview_"+e.jgrid.jqID(v.p.id))[0]),_&&(e("#pData, #nData","#"+w+"_2").css("float","right"),e(".EditButton","#"+w+"_2").css("text-align","left")),r.viewPagerButtons||e("#pData, #nData","#"+w+"_2").hide(),I=null,e("#"+x.themodal).keydown(function(n){if(27===n.which)return t[v.p.id].closeOnEscape&&e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:r.onClose,removemodal:t[v.p.id].removemodal,formprop:!t[v.p.id].recreateForm,form:t[v.p.id].form}),!1;if(r.navkeys[0]===!0){if(n.which===r.navkeys[1])return e("#pData","#"+w+"_2").trigger("click"),!1;if(n.which===r.navkeys[2])return e("#nData","#"+w+"_2").trigger("click"),!1}}),r.closeicon=e.extend([!0,"left",o.icon_close],r.closeicon),r.closeicon[0]===!0&&e("#cData","#"+w+"_2").addClass("right"===r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+u.icon_base+" "+r.closeicon[2]+"'></span>"),e.isFunction(r.beforeShowForm)&&r.beforeShowForm.call(v,e("#"+y)),e.jgrid.viewModal("#"+e.jgrid.jqID(x.themodal),{gbox:"#gbox_"+e.jgrid.jqID(m),jqm:r.jqModal,overlay:r.overlay,modal:r.modal,onHide:function(t){e(v).data("viewProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:e(t.w).width(),height:e(t.w).height(),dataheight:e("#"+y).height(),datawidth:e("#"+y).width()}),t.w.remove(),t.o&&t.o.remove()}}),e(".fm-button:not(."+u.disabled+")","#"+w+"_2").hover(function(){e(this).addClass(u.hover)},function(){e(this).removeClass(u.hover)}),i(),e("#cData","#"+w+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:r.jqModal,onClose:r.onClose,removemodal:t[v.p.id].removemodal,formprop:!t[v.p.id].recreateForm,form:t[v.p.id].form}),!1}),e("#nData","#"+w+"_2").click(function(){e("#FormError","#"+w).hide();var t=p();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&(e.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(v,"next",e("#"+y),t[1][t[0]]),f(t[1][t[0]+1],v),e(v).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(v,"next",e("#"+y),t[1][t[0]+1]),l(t[0]+1,t)),i(),!1}),e("#pData","#"+w+"_2").click(function(){e("#FormError","#"+w).hide();var t=p();return-1!==t[0]&&t[1][t[0]-1]&&(e.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(v,"prev",e("#"+y),t[1][t[0]]),f(t[1][t[0]-1],v),e(v).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(v,"prev",e("#"+y),t[1][t[0]-1]),l(t[0]-1,t)),i(),!1});var q=p();l(q[0],q)}}})},delGridRow:function(n,r){var i=e.jgrid.getRegional(this[0],"del"),s=this[0].p.styleUI,o=e.jgrid.styleUI[s].formedit,u=e.jgrid.styleUI[s].common;return r=e.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,r||{}),t[e(this)[0].p.id]=r,this.each(function(){var i=this;if(i.grid&&n){var s,f,l,p,v=e.isFunction(t[i.p.id].beforeShowForm),m=e.isFunction(t[i.p.id].afterShowForm),y=e.isFunction(t[i.p.id].beforeInitData)?t[i.p.id].beforeInitData:!1,w=i.p.id,E={},S=!0,x="DelTbl_"+e.jgrid.jqID(w),T="DelTbl_"+w,N={themodal:"delmod"+w,modalhead:"delhd"+w,modalcontent:"delcnt"+w,scrollelm:x};if(t[i.p.id].styleUI=i.p.styleUI||"jQueryUI",e.isArray(n)&&(n=n.join()),void 0!==e("#"+e.jgrid.jqID(N.themodal))[0]){if(y&&(S=y.call(i,e("#"+x)),void 0===S&&(S=!0)),S===!1)return;e("#DelData>td","#"+x).text(n),e("#DelError","#"+x).hide(),t[i.p.id].processing===!0&&(t[i.p.id].processing=!1,e("#dData","#"+x).removeClass(u.active)),v&&t[i.p.id].beforeShowForm.call(i,e("#"+x)),e.jgrid.viewModal("#"+e.jgrid.jqID(N.themodal),{gbox:"#gbox_"+e.jgrid.jqID(w),jqm:t[i.p.id].jqModal,jqM:!1,overlay:t[i.p.id].overlay,modal:t[i.p.id].modal}),m&&t[i.p.id].afterShowForm.call(i,e("#"+x))}else{var C=isNaN(t[i.p.id].dataheight)?t[i.p.id].dataheight:t[i.p.id].dataheight+"px",k=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",L="<div id='"+T+"' class='formdata' style='width:"+k+";overflow:auto;position:relative;height:"+C+";'>";L+="<table class='DelTable'><tbody>",L+="<tr id='DelError' style='display:none'><td class='"+u.error+"'></td></tr>",L+="<tr id='DelData' style='display:none'><td >"+n+"</td></tr>",L+='<tr><td class="delmsg" style="white-space:pre;">'+t[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",L+="</tbody></table></div>";var A="<a id='dData' class='fm-button "+u.button+"'>"+r.bSubmit+"</a>",O="<a id='eData' class='fm-button "+u.button+"'>"+r.bCancel+"</a>";if(L+="<table class='EditTable ui-common-table' id='"+x+"_2'><tbody><tr><td><hr class='"+u.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+A+"&#160;"+O+"</td></tr></tbody></table>",r.gbox="#gbox_"+e.jgrid.jqID(w),e.jgrid.createModal(N,L,t[i.p.id],"#gview_"+e.jgrid.jqID(i.p.id),e("#gview_"+e.jgrid.jqID(i.p.id))[0]),y&&(S=y.call(i,e(L)),void 0===S&&(S=!0)),S===!1)return;e(".fm-button","#"+x+"_2").hover(function(){e(this).addClass(u.hover)},function(){e(this).removeClass(u.hover)}),r.delicon=e.extend([!0,"left",o.icon_del],t[i.p.id].delicon),r.cancelicon=e.extend([!0,"left",o.icon_cancel],t[i.p.id].cancelicon),r.delicon[0]===!0&&e("#dData","#"+x+"_2").addClass("right"===r.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+u.icon_base+" "+r.delicon[2]+"'></span>"),r.cancelicon[0]===!0&&e("#eData","#"+x+"_2").addClass("right"===r.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+u.icon_base+" "+r.cancelicon[2]+"'></span>"),e("#dData","#"+x+"_2").click(function(){var n,o=[!0,""],c=e("#DelData>td","#"+x).text();if(E={},e.isFunction(t[i.p.id].onclickSubmit)&&(E=t[i.p.id].onclickSubmit.call(i,t[i.p.id],c)||{}),e.isFunction(t[i.p.id].beforeSubmit)&&(o=t[i.p.id].beforeSubmit.call(i,c)),o[0]&&!t[i.p.id].processing){if(t[i.p.id].processing=!0,l=i.p.prmNames,s=e.extend({},t[i.p.id].delData,E),p=l.oper,s[p]=l.deloper,f=l.id,c=String(c).split(","),!c.length)return!1;for(n in c)c.hasOwnProperty(n)&&(c[n]=e.jgrid.stripPref(i.p.idPrefix,c[n]));s[f]=c.join(),e(this).addClass(u.active);var v=e.extend({url:t[i.p.id].url||e(i).jqGrid("getGridParam","editurl"),type:t[i.p.id].mtype,data:e.isFunction(t[i.p.id].serializeDelData)?t[i.p.id].serializeDelData.call(i,s):s,complete:function(n,f){var l;if(e("#dData","#"+x+"_2").removeClass(u.active),n.status>=300&&304!==n.status?(o[0]=!1,e.isFunction(t[i.p.id].errorTextFormat)?o[1]=t[i.p.id].errorTextFormat.call(i,n):o[1]=f+" Status: '"+n.statusText+"'. Error code: "+n.status):e.isFunction(t[i.p.id].afterSubmit)&&(o=t[i.p.id].afterSubmit.call(i,n,s)),o[0]===!1)e("#DelError>td","#"+x).html(o[1]),e("#DelError","#"+x).show();else{if(t[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype)e(i).trigger("reloadGrid");else{if(i.p.treeGrid===!0)try{e(i).jqGrid("delTreeNode",i.p.idPrefix+c[0])}catch(p){}else for(l=0;l<c.length;l++)e(i).jqGrid("delRowData",i.p.idPrefix+c[l]);i.p.selrow=null,i.p.selarrrow=[]}e.isFunction(t[i.p.id].afterComplete)&&setTimeout(function(){t[i.p.id].afterComplete.call(i,n,c)},500)}t[i.p.id].processing=!1,o[0]&&e.jgrid.hideModal("#"+e.jgrid.jqID(N.themodal),{gb:"#gbox_"+e.jgrid.jqID(w),jqm:r.jqModal,onClose:t[i.p.id].onClose})}},e.jgrid.ajaxOptions,t[i.p.id].ajaxDelOptions);if(v.url||t[i.p.id].useDataProxy||(e.isFunction(i.p.dataProxy)?t[i.p.id].useDataProxy=!0:(o[0]=!1,o[1]+=" "+e.jgrid.getRegional(i,"errors.nourl"))),o[0])if(t[i.p.id].useDataProxy){var m=i.p.dataProxy.call(i,v,"del_"+i.p.id);void 0===m&&(m=[!0,""]),m[0]===!1?(o[0]=!1,o[1]=m[1]||"Error deleting the selected row!"):e.jgrid.hideModal("#"+e.jgrid.jqID(N.themodal),{gb:"#gbox_"+e.jgrid.jqID(w),jqm:r.jqModal,onClose:t[i.p.id].onClose})}else"clientArray"===v.url?(s=v.data,v.complete({status:200,statusText:""},"")):e.ajax(v)}return o[0]===!1&&(e("#DelError>td","#"+x).html(o[1]),e("#DelError","#"+x).show()),!1}),e("#eData","#"+x+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(N.themodal),{gb:"#gbox_"+e.jgrid.jqID(w),jqm:t[i.p.id].jqModal,onClose:t[i.p.id].onClose}),!1}),v&&t[i.p.id].beforeShowForm.call(i,e("#"+x)),e.jgrid.viewModal("#"+e.jgrid.jqID(N.themodal),{gbox:"#gbox_"+e.jgrid.jqID(w),jqm:t[i.p.id].jqModal,overlay:t[i.p.id].overlay,modal:t[i.p.id].modal}),m&&t[i.p.id].afterShowForm.call(i,e("#"+x))}t[i.p.id].closeOnEscape===!0&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(N.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(t,n,r,i,s,o,u){var f=e.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,c=e.jgrid.styleUI[l].navigator,h=e.jgrid.styleUI[l].common;return n=e.extend({edit:!0,editicon:c.icon_edit_nav,add:!0,addicon:c.icon_add_nav,del:!0,delicon:c.icon_del_nav,search:!0,searchicon:c.icon_search_nav,refresh:!0,refreshicon:c.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:c.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},f,n||{}),this.each(function(){if(!this.p.navGrid){var c,p,v,m={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},y=this;if(y.grid&&"string"==typeof t){e(y).data("navGrid")||e(y).data("navGrid",n),v=e(y).data("navGrid"),y.p.force_regional&&(v=e.extend(v,f)),void 0===e("#"+m.themodal)[0]&&(v.alerttop||v.alertleft||(void 0!==window.innerWidth?(v.alertleft=window.innerWidth,v.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(v.alertleft=document.documentElement.clientWidth,v.alerttop=document.documentElement.clientHeight):(v.alertleft=1024,v.alerttop=768),v.alertleft=v.alertleft/2-parseInt(v.alertwidth,10)/2,v.alerttop=v.alerttop/2-25),e.jgrid.createModal(m,"<div>"+v.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+e.jgrid.jqID(y.p.id),jqModal:!0,drag:!0,resize:!0,caption:v.alertcap,top:v.alerttop,left:v.alertleft,width:v.alertwidth,height:v.alertheight,closeOnEscape:v.closeOnEscape,zIndex:v.alertzIndex,styleUI:y.p.styleUI},"#gview_"+e.jgrid.jqID(y.p.id),e("#gbox_"+e.jgrid.jqID(y.p.id))[0],!0));var w,E=1,S=function(){e(this).hasClass(h.disabled)||e(this).addClass(h.hover)},x=function(){e(this).removeClass(h.hover)};for(v.cloneToTop&&y.p.toppager&&(E=2),w=0;E>w;w++){var T,N,C,k=e("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),L="<td class='ui-pg-button "+h.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===w?(N=t,C=y.p.id,N===y.p.toppager&&(C+="_top",E=1)):(N=y.p.toppager,C=y.p.id+"_top"),"rtl"===y.p.direction&&e(k).attr("dir","rtl").css("float","right"),i=i||{},v.add&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.addicon+"'></span>"+v.addtext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.addtitle||"",id:i.id||"add_"+C}).click(function(){return e(this).hasClass(h.disabled)||(e.isFunction(v.addfunc)?v.addfunc.call(y):e(y).jqGrid("editGridRow","new",i)),!1}).hover(S,x),T=null),r=r||{},v.edit&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.editicon+"'></span>"+v.edittext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.edittitle||"",id:r.id||"edit_"+C}).click(function(){if(!e(this).hasClass(h.disabled)){var t=y.p.selrow;t?e.isFunction(v.editfunc)?v.editfunc.call(y,t):e(y).jqGrid("editGridRow",t,r):(e.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+e.jgrid.jqID(y.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(S,x),T=null),u=u||{},v.view&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.viewicon+"'></span>"+v.viewtext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.viewtitle||"",id:u.id||"view_"+C}).click(function(){if(!e(this).hasClass(h.disabled)){var t=y.p.selrow;t?e.isFunction(v.viewfunc)?v.viewfunc.call(y,t):e(y).jqGrid("viewGridRow",t,u):(e.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+e.jgrid.jqID(y.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(S,x),T=null),s=s||{},v.del&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.delicon+"'></span>"+v.deltext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.deltitle||"",id:s.id||"del_"+C}).click(function(){if(!e(this).hasClass(h.disabled)){var t;y.p.multiselect?(t=y.p.selarrrow,0===t.length&&(t=null)):t=y.p.selrow,t?e.isFunction(v.delfunc)?v.delfunc.call(y,t):e(y).jqGrid("delGridRow",t,s):(e.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+e.jgrid.jqID(y.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(S,x),T=null),(v.add||v.edit||v.del||v.view)&&e("tr",k).append(L),o=o||{},v.search&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.searchicon+"'></span>"+v.searchtext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.searchtitle||"",id:o.id||"search_"+C}).click(function(){return e(this).hasClass(h.disabled)||(e.isFunction(v.searchfunc)?v.searchfunc.call(y,o):e(y).jqGrid("searchGrid",o)),!1}).hover(S,x),o.showOnLoad&&o.showOnLoad===!0&&e(T,k).click(),T=null),v.refresh&&(T=e("<td class='ui-pg-button "+h.cornerall+"'></td>"),e(T).append("<div class='ui-pg-div'><span class='"+h.icon_base+" "+v.refreshicon+"'></span>"+v.refreshtext+"</div>"),e("tr",k).append(T),e(T,k).attr({title:v.refreshtitle||"",id:"refresh_"+C}).click(function(){if(!e(this).hasClass(h.disabled)){e.isFunction(v.beforeRefresh)&&v.beforeRefresh.call(y),y.p.search=!1,y.p.resetsearch=!0;try{if("currentfilter"!==v.refreshstate){var t=y.p.id;y.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(n){}e.isFunction(y.clearToolbar)&&y.clearToolbar.call(y,!1)}}catch(r){}switch(v.refreshstate){case"firstpage":e(y).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":e(y).trigger("reloadGrid",[{current:!0}])}e.isFunction(v.afterRefresh)&&v.afterRefresh.call(y)}return!1}).hover(S,x),T=null),p=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid "+e.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+p+";visibility:hidden;' ></div>"),c=e(k).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),y.p._nvtd&&(v.dropmenu?(k=null,e(y).jqGrid("_buildNavMenu",N,C,n,r,i,s,o,u)):c>y.p._nvtd[0]?(y.p.responsive?(k=null,e(y).jqGrid("_buildNavMenu",N,C,n,r,i,s,o,u)):e(N+"_"+v.position,N).append(k).width(c),y.p._nvtd[0]=c):e(N+"_"+v.position,N).append(k),y.p._nvtd[1]=c),y.p.navGrid=!0}y.p.storeNavOptions&&(y.p.navOptions=v,y.p.editOptions=r,y.p.addOptions=i,y.p.delOptions=s,y.p.searchOptions=o,y.p.viewOptions=u,y.p.navButtons=[])}}})},navButtonAdd:function(t,n){var r=this[0].p.styleUI,i=e.jgrid.styleUI[r].navigator;return n=e.extend({caption:"newButton",title:"",buttonicon:i.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},n||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var i=e(".navtable",t)[0],s=this,o=e.jgrid.styleUI[r].common.disabled,u=e.jgrid.styleUI[r].common.hover,f=e.jgrid.styleUI[r].common.cornerall,l=e.jgrid.styleUI[r].common.icon_base;if(s.p.storeNavOptions&&!n.internal&&s.p.navButtons.push([t,n]),i){if(n.id&&void 0!==e("#"+e.jgrid.jqID(n.id),i)[0])return;var h=e("<td></td>");"NONE"===n.buttonicon.toString().toUpperCase()?e(h).addClass("ui-pg-button "+f).append("<div class='ui-pg-div'>"+n.caption+"</div>"):e(h).addClass("ui-pg-button "+f).append("<div class='ui-pg-div'><span class='"+l+" "+n.buttonicon+"'></span>"+n.caption+"</div>"),n.id&&e(h).attr("id",n.id),"first"===n.position?0===i.rows[0].cells.length?e("tr",i).append(h):e("tr td:eq(0)",i).before(h):e("tr",i).append(h),e(h,i).attr("title",n.title||"").click(function(t){return e(this).hasClass(o)||e.isFunction(n.onClickButton)&&n.onClickButton.call(s,t),!1}).hover(function(){e(this).hasClass(o)||e(this).addClass(u)},function(){e(this).removeClass(u)})}else if(i=e(".dropdownmenu",t)[0]){var p=e(i).val(),v=n.id||e.jgrid.randId(),m=e('<li class="ui-menu-item" role="presentation"><a class="'+f+' g-menu-item" tabindex="0" role="menuitem" id="'+v+'">'+(n.caption||n.title)+"</a></li>");p&&("first"===n.position?e("#"+p).prepend(m):e("#"+p).append(m),e(m).on("click",function(t){return e(this).hasClass(o)||(e("#"+p).hide(),e.isFunction(n.onClickButton)&&n.onClickButton.call(s,t)),!1}).find("a").hover(function(){e(this).hasClass(o)||e(this).addClass(u)},function(){e(this).removeClass(u)}))}}})},navSeparatorAdd:function(t,n){var r=this[0].p.styleUI,i=e.jgrid.styleUI[r].common;return n=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},n||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var r,s,o=e(".navtable",t)[0];this.p.storeNavOptions&&this.p.navButtons.push([t,n]),o?(r="<td class='ui-pg-button "+i.disabled+"' style='width:4px;'><span class='"+n.sepclass+"'></span>"+n.sepcontent+"</td>","first"===n.position?0===o.rows[0].cells.length?e("tr",o).append(r):e("tr td:eq(0)",o).before(r):e("tr",o).append(r)):(o=e(".dropdownmenu",t)[0],r="<li class='ui-menu-item "+i.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",o&&(s=e(o).val(),s&&("first"===n.position?e("#"+s).prepend(r):e("#"+s).append(r))))}})},_buildNavMenu:function(t,n,r,i,s,o,u,f){return this.each(function(){var l=this,p=e.jgrid.getRegional(l,"nav"),v=l.p.styleUI,m=(e.jgrid.styleUI[v].navigator,e.jgrid.styleUI[v].filter),y=e.jgrid.styleUI[v].common,w="form_menu_"+e.jgrid.randId(),E=r.navButtonText?r.navButtonText:p.selectcaption||"Actions",S="<button class='dropdownmenu "+y.button+"' value='"+w+"'>"+E+"</button>";e(t+"_"+r.position,t).append(S);var x={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},T=function(){var t,p,v=e(".ui-jqgrid-view").css("font-size")||"11px",b=e('<ul id="'+w+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+v+'"></ul>');r.add&&(s=s||{},t=s.id||"add_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.addtext||r.addtitle)+"</a></li>").click(function(){return e(this).hasClass(y.disabled)||(e.isFunction(r.addfunc)?r.addfunc.call(l):e(l).jqGrid("editGridRow","new",s),e(b).hide()),!1}),e(b).append(p)),r.edit&&(i=i||{},t=i.id||"edit_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.edittext||r.edittitle)+"</a></li>").click(function(){if(!e(this).hasClass(y.disabled)){var t=l.p.selrow;t?e.isFunction(r.editfunc)?r.editfunc.call(l,t):e(l).jqGrid("editGridRow",t,i):(e.jgrid.viewModal("#"+x.themodal,{gbox:"#gbox_"+e.jgrid.jqID(l.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(b).hide()}return!1}),e(b).append(p)),r.view&&(f=f||{},t=f.id||"view_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.viewtext||r.viewtitle)+"</a></li>").click(function(){if(!e(this).hasClass(y.disabled)){var t=l.p.selrow;t?e.isFunction(r.editfunc)?r.viewfunc.call(l,t):e(l).jqGrid("viewGridRow",t,f):(e.jgrid.viewModal("#"+x.themodal,{gbox:"#gbox_"+e.jgrid.jqID(l.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(b).hide()}return!1}),e(b).append(p)),r.del&&(o=o||{},t=o.id||"del_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.deltext||r.deltitle)+"</a></li>").click(function(){if(!e(this).hasClass(y.disabled)){var t;l.p.multiselect?(t=l.p.selarrrow,0===t.length&&(t=null)):t=l.p.selrow,t?e.isFunction(r.delfunc)?r.delfunc.call(l,t):e(l).jqGrid("delGridRow",t,o):(e.jgrid.viewModal("#"+x.themodal,{gbox:"#gbox_"+e.jgrid.jqID(l.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(b).hide()}return!1}),e(b).append(p)),(r.add||r.edit||r.del||r.view)&&e(b).append("<li class='ui-menu-item "+y.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),r.search&&(u=u||{},t=u.id||"search_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.searchtext||r.searchtitle)+"</a></li>").click(function(){return e(this).hasClass(y.disabled)||(e.isFunction(r.searchfunc)?r.searchfunc.call(l,u):e(l).jqGrid("searchGrid",u),e(b).hide()),!1}),e(b).append(p),u.showOnLoad&&u.showOnLoad===!0&&e(p).click()),r.refresh&&(t=u.id||"search_"+n,p=e('<li class="ui-menu-item" role="presentation"><a class="'+y.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.refreshtext||r.refreshtitle)+"</a></li>").click(function(){if(!e(this).hasClass(y.disabled)){e.isFunction(r.beforeRefresh)&&r.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==r.refreshstate){var t=l.p.id;l.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(n){}e.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(i){}switch(r.refreshstate){case"firstpage":e(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":e(l).trigger("reloadGrid",[{current:!0}])}e.isFunction(r.afterRefresh)&&r.afterRefresh.call(l),e(b).hide()}return!1}),e(b).append(p)),e(b).hide(),e("body").append(b),e("#"+w).addClass("ui-menu "+m.menu_widget),e("#"+w+" > li > a").hover(function(){e(this).addClass(y.hover)},function(){e(this).removeClass(y.hover)})};T(),e(".dropdownmenu",t+"_"+r.position).on("click",function(t){var n=e(this).offset(),r=n.left,i=parseInt(n.top),s=e(this).val();e("#"+s).show().css({top:i-(e("#"+s).height()+10)+"px",left:r+"px"}),t.stopPropagation()}),e("body").on("click",function(t){e(t.target).hasClass("dropdownmenu")||e("#"+w).hide()})})},GridToForm:function(t,n){return this.each(function(){var r,i=this;if(i.grid){var s=e(i).jqGrid("getRowData",t);if(s)for(r in s)s.hasOwnProperty(r)&&(e("[name="+e.jgrid.jqID(r)+"]",n).is("input:radio")||e("[name="+e.jgrid.jqID(r)+"]",n).is("input:checkbox")?e("[name="+e.jgrid.jqID(r)+"]",n).each(function(){e(this).val()==s[r]?e(this)[i.p.useProp?"prop":"attr"]("checked",!0):e(this)[i.p.useProp?"prop":"attr"]("checked",!1)}):e("[name="+e.jgrid.jqID(r)+"]",n).val(s[r]))}})},FormToGrid:function(t,n,r,i){return this.each(function(){var s=this;if(s.grid){r||(r="set"),i||(i="first");var o=e(n).serializeArray(),u={};e.each(o,function(e,t){u[t.name]=t.value}),"add"===r?e(s).jqGrid("addRowData",t,u,i):"set"===r&&e(s).jqGrid("setRowData",t,u)}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";e.fn.jqFilter=function(t){if("string"==typeof t){var n=e.fn.jqFilter[t];if(!n)throw"jqFilter - No such method: "+t;var r=e.makeArray(arguments).slice(1);return n.apply(this,r)}var i=e.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,uniqueSearchFields:!1,direction:"ltr"},e.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=i,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&e.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var t,n,r=this.p.columns.length,s=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=e.extend(!0,{},this.p.filter),r){for(t=0;r>t;t++)n=this.p.columns[t],n.stype?n.inputtype=n.stype:n.inputtype||(n.inputtype="text"),n.sorttype?n.searchtype=n.sorttype:n.searchtype||(n.searchtype="string"),void 0===n.hidden&&(n.hidden=!1),n.label||(n.label=n.name),n.index&&(n.name=n.index),n.hasOwnProperty("searchoptions")||(n.searchoptions={}),n.hasOwnProperty("searchrules")||(n.searchrules={}),void 0===n.search?n.inlist=!0:n.inlist=n.search;var o=function(){return e("#"+e.jgrid.jqID(i.id))[0]||null},u=o(),f=e.jgrid.styleUI[u.p.styleUI||"jQueryUI"].filter,l=e.jgrid.styleUI[u.p.styleUI||"jQueryUI"].common;this.p.showQuery&&e(this).append("<table class='queryresult "+f.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var c=function(t,n){var r=[!0,""],s=o();if(e.isFunction(n.searchrules))r=n.searchrules.call(s,t,n);else if(e.jgrid&&e.jgrid.checkValues)try{r=e.jgrid.checkValues.call(s,t,-1,n.searchrules,n.label)}catch(u){}r&&r.length&&r[0]===!1&&(i.error=!r[0],i.errmsg=r[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",e.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(i.filter,null);e(this).append(t),e.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,n){var r,s=this,o=e("<table class='group "+f.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),u="left";"rtl"===this.p.direction&&(u="right",o.attr("dir","rtl")),null===n&&o.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+u+"'></th></tr>");var c=e("<tr></tr>");o.append(c);var h=e("<th colspan='5' align='"+u+"'></th>");if(c.append(h),this.p.ruleButtons===!0){var p=e("<select class='opsel "+f.srSelect+"'></select>");h.append(p);var d,v="";for(r=0;r<i.groupOps.length;r++)d=t.groupOp===s.p.groupOps[r].op?" selected='selected'":"",v+="<option value='"+s.p.groupOps[r].op+"'"+d+">"+s.p.groupOps[r].text+"</option>";p.append(v).bind("change",function(){t.groupOp=e(p).val(),s.onchange()})}var m="<span></span>";if(this.p.groupButton&&(m=e("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+l.button+"'/>"),m.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:i.groupOps[0].op,rules:[],groups:[]}),s.reDraw(),s.onchange(),!1})),h.append(m),this.p.ruleButtons===!0){var g,y=e("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+l.button+"'/>");y.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),r=0;r<s.p.columns.length;r++){var n=void 0===s.p.columns[r].search?!0:s.p.columns[r].search,i=s.p.columns[r].hidden===!0,o=s.p.columns[r].searchoptions.searchhidden===!0;if(o&&n||n&&!i){g=s.p.columns[r];break}}if(!g)return!1;var u;return u=g.searchoptions.sopt?g.searchoptions.sopt:s.p.sopt?s.p.sopt:-1!==e.inArray(g.searchtype,s.p.strarr)?s.p.stropts:s.p.numopts,t.rules.push({field:g.name,op:u[0],data:""}),s.reDraw(),!1}),h.append(y)}if(null!==n){var b=e("<input type='button' value='-' title='Delete group' class='delete-group "+l.button+"'/>");h.append(b),b.bind("click",function(){for(r=0;r<n.groups.length;r++)if(n.groups[r]===t){n.groups.splice(r,1);break}return s.reDraw(),s.onchange(),!1})}if(void 0!==t.groups)for(r=0;r<t.groups.length;r++){var w=e("<tr></tr>");o.append(w);var E=e("<td class='first'></td>");w.append(E);var S=e("<td colspan='4'></td>");S.append(this.createTableForGroup(t.groups[r],t)),w.append(S)}void 0===t.groupOp&&(t.groupOp=s.p.groupOps[0].op);var x=s.p.ruleButtons&&s.p.uniqueSearchFields;if(x)for(var T=0;T<s.p.columns.length;T++)s.p.columns[T].inlist&&(s.p.columns[T].search=!0);if(void 0!==t.rules)for(r=0;r<t.rules.length;r++)if(o.append(this.createTableRowForRule(t.rules[r],t)),x)for(var N=t.rules[r].field,T=0;T<s.p.columns.length;T++)if(N===s.p.columns[T].name){s.p.columns[T].search=!1;break}return o},this.createTableRowForRule=function(t,n){var r,u,c,h,p,d=this,v=o(),m=e("<tr></tr>"),y="";m.append("<td class='first'></td>");var b=e("<td class='columns'></td>");m.append(b);var w,E=e("<select class='"+f.srSelect+"'></select>"),S=[];b.append(E),E.bind("change",function(){for(t.field=e(E).val(),c=e(this).parents("tr:first"),e(".data",c).empty(),r=0;r<d.p.columns.length;r++)if(d.p.columns[r].name===t.field){h=d.p.columns[r];break}if(h){h.searchoptions.id=e.jgrid.randId(),h.searchoptions.name=t.field,h.searchoptions.oper="filter",s&&"text"===h.inputtype&&(h.searchoptions.size||(h.searchoptions.size=10));var n=e.jgrid.createEl.call(v,h.inputtype,h.searchoptions,"",!0,d.p.ajaxSelectOptions||{},!0);e(n).addClass("input-elm "+f.srInput),u=h.searchoptions.sopt?h.searchoptions.sopt:d.p.sopt?d.p.sopt:-1!==e.inArray(h.searchtype,d.p.strarr)?d.p.stropts:d.p.numopts;var i="",o=0;for(S=[],e.each(d.p.ops,function(){S.push(this.oper)}),r=0;r<u.length;r++)w=e.inArray(u[r],S),-1!==w&&(0===o&&(t.op=d.p.ops[w].oper),i+="<option value='"+d.p.ops[w].oper+"'>"+d.p.ops[w].text+"</option>",o++);if(e(".selectopts",c).empty().append(i),e(".selectopts",c)[0].selectedIndex=0,e.jgrid.msie&&e.jgrid.msiever()<9){var l=parseInt(e("select.selectopts",c)[0].offsetWidth,10)+1;e(".selectopts",c).width(l),e(".selectopts",c).css("width","auto")}e(".data",c).append(n),e.jgrid.bindEv.call(v,n,h.searchoptions),e(".input-elm",c).bind("change",function(n){var r=n.target;t.data="SPAN"===r.nodeName.toUpperCase()&&h.searchoptions&&e.isFunction(h.searchoptions.custom_value)?h.searchoptions.custom_value.call(v,e(r).children(".customelement:first"),"get"):r.value,d.onchange()}),setTimeout(function(){t.data=e(n).val(),d.onchange()},0)}});var x=0;for(r=0;r<d.p.columns.length;r++){var T=void 0===d.p.columns[r].search?!0:d.p.columns[r].search,N=d.p.columns[r].hidden===!0,C=d.p.columns[r].searchoptions.searchhidden===!0;(C&&T||T&&!N)&&(p="",t.field===d.p.columns[r].name&&(p=" selected='selected'",x=r),y+="<option value='"+d.p.columns[r].name+"'"+p+">"+d.p.columns[r].label+"</option>")}E.append(y);var k=e("<td class='operators'></td>");m.append(k),h=i.columns[x],h.searchoptions.id=e.jgrid.randId(),s&&"text"===h.inputtype&&(h.searchoptions.size||(h.searchoptions.size=10)),h.searchoptions.name=t.field,h.searchoptions.oper="filter";var L=e.jgrid.createEl.call(v,h.inputtype,h.searchoptions,t.data,!0,d.p.ajaxSelectOptions||{},!0);("nu"===t.op||"nn"===t.op)&&(e(L).attr("readonly","true"),e(L).attr("disabled","true"));var A=e("<select class='selectopts "+f.srSelect+"'></select>");for(k.append(A),A.bind("change",function(){t.op=e(A).val(),c=e(this).parents("tr:first");var n=e(".input-elm",c)[0];"nu"===t.op||"nn"===t.op?(t.data="","SELECT"!==n.tagName.toUpperCase()&&(n.value=""),n.setAttribute("readonly","true"),n.setAttribute("disabled","true")):("SELECT"===n.tagName.toUpperCase()&&(t.data=n.value),n.removeAttribute("readonly"),n.removeAttribute("disabled")),d.onchange()}),u=h.searchoptions.sopt?h.searchoptions.sopt:d.p.sopt?d.p.sopt:-1!==e.inArray(h.searchtype,d.p.strarr)?d.p.stropts:d.p.numopts,y="",e.each(d.p.ops,function(){S.push(this.oper)}),r=0;r<u.length;r++)w=e.inArray(u[r],S),-1!==w&&(p=t.op===d.p.ops[w].oper?" selected='selected'":"",y+="<option value='"+d.p.ops[w].oper+"'"+p+">"+d.p.ops[w].text+"</option>");A.append(y);var O=e("<td class='data'></td>");m.append(O),O.append(L),e.jgrid.bindEv.call(v,L,h.searchoptions),e(L).addClass("input-elm "+f.srInput).bind("change",function(){t.data="custom"===h.inputtype?h.searchoptions.custom_value.call(v,e(this).children(".customelement:first"),"get"):e(this).val(),d.onchange()});var M=e("<td></td>");if(m.append(M),this.p.ruleButtons===!0){var _=e("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+l.button+"'/>");M.append(_),_.bind("click",function(){for(r=0;r<n.rules.length;r++)if(n.rules[r]===t){n.rules.splice(r,1);break}return d.reDraw(),d.onchange(),!1})}return m},this.getStringForGroup=function(e){var t,n="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){n.length>1&&(n+=" "+e.groupOp+" ");try{n+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)n.length>1&&(n+=" "+e.groupOp+" "),n+=this.getStringForRule(e.rules[t])}catch(i){alert(i)}return n+=")","()"===n?"":n},this.getStringForRule=function(t){var n,r,s,o,u="",f="",l=["int","integer","float","number","currency"];for(n=0;n<this.p.ops.length;n++)if(this.p.ops[n].oper===t.op){u=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",f=this.p.ops[n].oper;break}for(n=0;n<this.p.columns.length;n++)if(this.p.columns[n].name===t.field){r=this.p.columns[n];break}return void 0===r?"":(o=t.data,("bw"===f||"bn"===f)&&(o+="%"),("ew"===f||"en"===f)&&(o="%"+o),("cn"===f||"nc"===f)&&(o="%"+o+"%"),("in"===f||"ni"===f)&&(o=" ("+o+")"),i.errorcheck&&c(t.data,r),s=-1!==e.inArray(r.searchtype,l)||"nn"===f||"nu"===f?t.field+" "+u+" "+o:t.field+" "+u+' "'+o+'"')},this.resetFilter=function(){this.p.filter=e.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th."+l.error,this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th."+l.error,this).html(this.p.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(i.filter)},this.toString=function(){function e(e){if(n.p.errorcheck){var t,r;for(t=0;t<n.p.columns.length;t++)if(n.p.columns[t].name===e.field){r=n.p.columns[t];break}r&&c(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(n){var r,i="(";if(void 0!==n.groups)for(r=0;r<n.groups.length;r++)i.length>1&&(i+="OR"===n.groupOp?" || ":" && "),i+=t(n.groups[r]);if(void 0!==n.rules)for(r=0;r<n.rules.length;r++)i.length>1&&(i+="OR"===n.groupOp?" || ":" && "),i+=e(n.rules[r]);return i+=")","()"===i?"":i}var n=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=e.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}}),e.jgrid.extend({filterToolbar:function(t){var n=e.jgrid.getRegional(this[0],"search");return t=e.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,onClearSearchValue:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",splitSelect:",",groupOpSelect:"OR",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#",bt:"..."}},n,t||{}),this.each(function(){var r=this;if(!r.p.filterToolbar){e(r).data("filterToolbar")||e(r).data("filterToolbar",t),r.p.force_regional&&(t=e.extend(t,n));var i,s,o,u=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,f=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common,l=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].base,h=function(){var n,i,s,o,u={},f=0,l={},c=!1,h=[],p=!1;e.each(r.p.colModel,function(){var d=e("#gs_"+r.p.idPrefix+e.jgrid.jqID(this.name),this.frozen===!0&&r.p.frozenColumns===!0?r.grid.fhDiv:r.grid.hDiv);if(i=this.index||this.name,o=this.searchoptions||{},s=t.searchOperators&&o.searchOperMenu?d.parent().prev().children("a").attr("soper")||t.defaultSearch:o.sopt?o.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,n="custom"===this.stype&&e.isFunction(o.custom_value)&&d.length>0&&"SPAN"===d[0].nodeName.toUpperCase()?o.custom_value.call(r,d.children(".customelement:first"),"get"):d.val(),"select"===this.stype&&o.multiple&&e.isArray(n)&&n.length&&(c=!0,h.push(i),n=1===n.length?n[0]:n),"bt"===s&&(p=!0),n||"nu"===s||"nn"===s)u[i]=n,l[i]=s,f++;else try{delete r.p.postData[i]}catch(v){}});var d=f>0?!0:!1;if(t.stringResult===!0||"local"===r.p.datatype||t.searchOperators===!0){var v='{"groupOp":"'+t.groupOp+'","rules":[',m=0;e.each(u,function(e,t){m>0&&(v+=","),v+='{"field":"'+e+'",',v+='"op":"'+l[e]+'",',t+="",v+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',m++}),v+="]}";var g,y,w,E,S,x,T;if(c&&(g=e.jgrid.parse(v),g.rules&&g.rules.length))for(y=g.rules,w=0;w<y.length;w++)S=y[w],e.inArray(S.filed,h)&&(x=S.data.split(t.splitSelect),x.length>1&&(void 0===g.groups&&(g.groups=[]),T={groupOp:t.groupOpSelect,groups:[],rules:[]},g.groups.push(T),e.each(x,function(e){E=x[e],E&&T.rules.push({data:x[e],op:S.op,field:S.field})}),y.splice(w,1),w--));if(p&&(e.isPlainObject(g)||(g=e.jgrid.parse(v)),g.rules&&g.rules.length))for(y=g.rules,w=0;w<y.length;w++)S=y[w],"bt"===S.op&&(x=S.data.split("..."),x.length>1&&(void 0===g.groups&&(g.groups=[]),T={groupOp:"AND",groups:[],rules:[]},g.groups.push(T),e.each(x,function(e){var t=0===e?"ge":"le";E=x[e],E&&T.rules.push({data:x[e],op:t,field:S.field})}),y.splice(w,1),w--));(p||c)&&(v=JSON.stringify(g)),e.extend(r.p.postData,{filters:v}),e.each(["searchField","searchString","searchOper"],function(e,t){r.p.postData.hasOwnProperty(t)&&delete r.p.postData[t]})}else e.extend(r.p.postData,u);var N;r.p.searchurl&&(N=r.p.url,e(r).jqGrid("setGridParam",{url:r.p.searchurl}));var C="stop"===e(r).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!C&&e.isFunction(t.beforeSearch)&&(C=t.beforeSearch.call(r)),C||e(r).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),N&&e(r).jqGrid("setGridParam",{url:N}),e(r).triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(t.afterSearch)&&t.afterSearch.call(r)},p=function(n){var i,s={},o=0;n="boolean"!=typeof n?!0:n,e.each(r.p.colModel,function(){var t,n=e("#gs_"+r.p.idPrefix+e.jgrid.jqID(this.name),this.frozen===!0&&r.p.frozenColumns===!0?r.grid.fhDiv:r.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),i=this.index||this.name,this.stype){case"select":if(n.find("option").each(function(n){return 0===n&&(this.selected=!0),e(this).val()===t?(this.selected=!0,!1):void 0}),void 0!==t)s[i]=t,o++;else try{delete r.p.postData[i]}catch(u){}break;case"text":if(n.val(t||""),void 0!==t)s[i]=t,o++;else try{delete r.p.postData[i]}catch(f){}break;case"custom":e.isFunction(this.searchoptions.custom_value)&&n.length>0&&"SPAN"===n[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(r,n.children(".customelement:first"),"set",t||"")}});var u=o>0?!0:!1;if(r.p.resetsearch=!0,t.stringResult===!0||"local"===r.p.datatype){var f='{"groupOp":"'+t.groupOp+'","rules":[',l=0;e.each(s,function(e,t){l>0&&(f+=","),f+='{"field":"'+e+'",',f+='"op":"eq",',t+="",f+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++}),f+="]}",e.extend(r.p.postData,{filters:f}),e.each(["searchField","searchString","searchOper"],function(e,t){r.p.postData.hasOwnProperty(t)&&delete r.p.postData[t]})}else e.extend(r.p.postData,s);var c;r.p.searchurl&&(c=r.p.url,e(r).jqGrid("setGridParam",{url:r.p.searchurl}));var h="stop"===e(r).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!h&&e.isFunction(t.beforeClear)&&(h=t.beforeClear.call(r)),h||n&&e(r).jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[{page:1}]),c&&e(r).jqGrid("setGridParam",{url:c}),e(r).triggerHandler("jqGridToolbarAfterClear"),e.isFunction(t.afterClear)&&t.afterClear()},d=function(){var t=e("tr.ui-search-toolbar",r.grid.hDiv),n=r.p.frozenColumns===!0?e("tr.ui-search-toolbar",r.grid.fhDiv):!1;"none"===t.css("display")?(t.show(),n&&n.show()):(t.hide(),n&&n.hide())},v=function(n,i,s){e("#sopt_menu").remove(),i=parseInt(i,10),s=parseInt(s,10)+18;for(var o,l,c=e(".ui-jqgrid-view").css("font-size")||"11px",p='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+c+";left:"+i+"px;top:"+s+'px;">',d=e(n).attr("soper"),v=[],m=0,g=e(n).attr("colname"),y=r.p.colModel.length;y>m&&r.p.colModel[m].name!==g;)m++;var w=r.p.colModel[m],E=e.extend({},w.searchoptions);for(E.sopt||(E.sopt=[],E.sopt[0]="select"===w.stype?"eq":t.defaultSearch),e.each(t.odata,function(){v.push(this.oper)}),m=0;m<E.sopt.length;m++)l=e.inArray(E.sopt[m],v),-1!==l&&(o=d===t.odata[l].oper?f.highlight:"",p+='<li class="ui-menu-item '+o+'" role="presentation"><a class="'+f.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[l].oper+'" oper="'+t.operands[t.odata[l].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+t.operands[t.odata[l].oper]+"</td><td>"+t.odata[l].text+"</td></tr></table></a></li>");p+="</ul>",e("body").append(p),e("#sopt_menu").addClass("ui-menu "+u.menu_widget),e("#sopt_menu > li > a").hover(function(){e(this).addClass(f.hover)},function(){e(this).removeClass(f.hover)}).click(function(){var i=e(this).attr("value"),s=e(this).attr("oper");if(e(r).triggerHandler("jqGridToolbarSelectOper",[i,s,n]),e("#sopt_menu").hide(),e(n).text(s).attr("soper",i),t.autosearch===!0){var o=e(n).parent().next().children()[0];(e(o).val()||"nu"===i||"nn"===i)&&h()}})},m=e("<tr class='ui-search-toolbar' role='row'></tr>");t.restoreFromFilters&&(o=r.p.postData.filters,o&&("string"==typeof o&&(o=e.jgrid.parse(o)),s=o.rules.length?o.rules:!1)),e.each(r.p.colModel,function(n){var o,f,c,p,d,v,g,y,w=this,E="",S="=",x=e("<th role='columnheader' class='"+l.headerBox+" ui-th-"+r.p.direction+"' id='gsh_"+r.p.id+"_"+w.name+"' ></th>"),T=e("<div></div>"),N=e("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(this.hidden===!0&&e(x).css("display","none"),this.search=this.search===!1?!1:!0,void 0===this.stype&&(this.stype="text"),this.searchoptions=this.searchoptions||{},void 0===this.searchoptions.searchOperMenu&&(this.searchoptions.searchOperMenu=!0),o=e.extend({},this.searchoptions,{name:w.index||w.name,id:"gs_"+r.p.idPrefix+w.name,oper:"search"}),this.search){if(t.restoreFromFilters&&s){y=!1;for(var C=0;C<s.length;C++)if(s[C].field){var L=w.index||w.name;if(L===s[C].field){y=s[C];break}}}if(t.searchOperators){for(f=o.sopt?o.sopt[0]:"select"===w.stype?"eq":t.defaultSearch,t.restoreFromFilters&&y&&(f=y.op),c=0;c<t.odata.length;c++)if(t.odata[c].oper===f){S=t.operands[f]||"";break}p=null!=o.searchtitle?o.searchtitle:t.operandTitle,E=this.searchoptions.searchOperMenu?"<a title='"+p+"' style='padding-right: 0.5em;' soper='"+f+"' class='soptclass' colname='"+this.name+"'>"+S+"</a>":""}switch(e("td:eq(0)",N).attr("colindex",n).append(E),void 0===o.clearSearch&&(o.clearSearch=!0),o.clearSearch?(d=t.resetTitle||"Clear Search Value",e("td:eq(2)",N).append("<a title='"+d+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")):e("td:eq(2)",N).hide(),this.surl&&(o.dataUrl=this.surl),v="",o.defaultValue&&(v=e.isFunction(o.defaultValue)?o.defaultValue.call(r):o.defaultValue),t.restoreFromFilters&&y&&(v=y.data),g=e.jgrid.createEl.call(r,this.stype,o,v,!1,e.extend({},e.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),e(g).addClass(u.srInput),e("td:eq(1)",N).append(g),e(T).append(N),null==o.dataEvents&&(o.dataEvents=[]),this.stype){case"select":t.autosearch===!0&&o.dataEvents.push({type:"change",fn:function(){return h(),!1}});break;case"text":t.autosearch===!0&&(t.searchOnEnter?o.dataEvents.push({type:"keypress",fn:function(e){var t=e.charCode||e.keyCode||0;return 13===t?(h(),!1):this}}):o.dataEvents.push({type:"keydown",fn:function(e){var n=e.which;switch(n){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:i&&clearTimeout(i),i=setTimeout(function(){h()},t.autosearchDelay)}}}))}e.jgrid.bindEv.call(r,g,o)}e(x).append(T),e(m).append(x),t.searchOperators&&""!==E||e("td:eq(0)",N).hide()}),e("table thead",r.grid.hDiv).append(m),t.searchOperators&&(e(".soptclass",m).click(function(t){var n=e(this).offset(),r=n.left,i=n.top;v(this,r,i),t.stopPropagation()}),e("body").on("click",function(t){"soptclass"!==t.target.className&&e("#sopt_menu").remove()})),e(".clearsearchclass",m).click(function(){var n,i=e(this).parents("tr:first"),s=parseInt(e("td.ui-search-oper",i).attr("colindex"),10),o=e.extend({},r.p.colModel[s].searchoptions||{}),u=o.defaultValue?o.defaultValue:"";"select"===r.p.colModel[s].stype?(n=e("td.ui-search-input select",i),u?n.val(u):n[0].selectedIndex=0):(n=e("td.ui-search-input input",i),n.val(u)),e(r).triggerHandler("jqGridToolbarClearVal",[n[0],s,o,u]),e.isFunction(t.onClearSearchValue)&&t.onClearSearchValue.call(r,n[0],s,o,u),t.autosearch===!0&&h()}),this.p.filterToolbar=!0,this.triggerToolbar=h,this.clearToolbar=p,this.toggleToolbar=d}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},refreshFilterToolbar:function(t){return t=e.extend(!0,{filters:"",onClearVal:null,onSetVal:null},t||{}),this.each(function(){function n(s){if(s&&s.rules){for(o=s.rules,h=o.length,r=0;h>r;r++)u=o[r],f=e.inArray(u.field,p),-1!==f&&(i=e("#gs_"+l.p.idPrefix+e.jgrid.jqID(c[f].name)),i.length>0&&("select"===c[f].stype?i.find("option[value='"+e.jgrid.jqID(u.data)+"']").prop("selected",!0):"text"===c[f].stype&&i.val(u.data),e.isFunction(t.onSetVal)&&t.onSetVal.call(l,i,c[f].name)));if(s.groups)for(var v=0;v<s.groups.length;v++)n(s.groups[v])}}var r,i,s,o,u,f,l=this,c=l.p.colModel,h=l.p.colModel.length,p=[];if(l.p.filterToolbar){for(r=0;h>r;r++){switch(p.push(c[r].name),i=e("#gs_"+l.p.idPrefix+e.jgrid.jqID(c[r].name)),c[r].stype){case"select":case"text":i.val("")}e.isFunction(t.onClearVal)&&t.onClearVal.call(l,i,c[r].name)}"string"==typeof t.filters&&t.filters.length&&(s=e.jgrid.parse(t.filters)),e.isPlainObject(s)&&n(s)}})},searchGrid:function(t){var n=e.jgrid.getRegional(this[0],"search");return t=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},n,t||{}),this.each(function(){function n(n){o=e(r).triggerHandler("jqGridFilterBeforeShow",[n]),void 0===o&&(o=!0),o&&e.isFunction(t.beforeShowSearch)&&(o=t.beforeShowSearch.call(r,n)),o&&(e.jgrid.viewModal("#"+e.jgrid.jqID(f.themodal),{gbox:"#gbox_"+e.jgrid.jqID(s),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),e(r).triggerHandler("jqGridFilterAfterShow",[n]),e.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(r,n))}var r=this;if(r.grid){var i,s="fbox_"+r.p.id,o=!0,u=!0,f={themodal:"searchmod"+s,modalhead:"searchhd"+s,modalcontent:"searchcnt"+s,scrollelm:s},l=r.p.postData[t.sFilter],c=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,h=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(t.styleUI=r.p.styleUI,"string"==typeof l&&(l=e.jgrid.parse(l)),t.recreateFilter===!0&&e("#"+e.jgrid.jqID(f.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(f.themodal))[0])n(e("#fbox_"+e.jgrid.jqID(r.p.id)));else{var p=e("<div><div id='"+s+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+e.jgrid.jqID(r.p.id)),d="left",v="";"rtl"===r.p.direction&&(d="right",v=" style='text-align:left'",p.attr("dir","rtl"));var m,g,y=e.extend([],r.p.colModel),w="<a id='"+s+"_search' class='fm-button "+h.button+" fm-button-icon-right ui-search'><span class='"+h.icon_base+" "+c.icon_search+"'></span>"+t.Find+"</a>",E="<a id='"+s+"_reset' class='fm-button "+h.button+" fm-button-icon-left ui-reset'><span class='"+h.icon_base+" "+c.icon_reset+"'></span>"+t.Reset+"</a>",S="",x="",T=!1,N=-1;if(t.showQuery&&(S="<a id='"+s+"_query' class='fm-button "+h.button+" fm-button-icon-left'><span class='"+h.icon_base+" "+c.icon_query+"'></span>Query</a>"),t.columns.length?(y=t.columns,N=0,m=y[0].index||y[0].name):e.each(y,function(e,t){if(t.label||(t.label=r.p.colNames[e]),!T){var n=void 0===t.search?!0:t.search,i=t.hidden===!0,s=t.searchoptions&&t.searchoptions.searchhidden===!0;(s&&n||n&&!i)&&(T=!0,m=t.index||t.name,N=e)}}),!l&&m||t.multipleSearch===!1){var C="eq";N>=0&&y[N].searchoptions&&y[N].searchoptions.sopt?C=y[N].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(C=t.sopt[0]),l={groupOp:"AND",rules:[{field:m,op:C,data:""}]}}T=!1,t.tmplNames&&t.tmplNames.length&&(T=!0,x="<tr><td class='ui-search-label'>"+t.tmplLabel+"</td>",x+="<td><select class='ui-template "+c.srSelect+"'>",x+="<option value='default'>Default</option>",e.each(t.tmplNames,function(e,t){x+="<option value='"+e+"'>"+t+"</option>"}),x+="</select></td></tr>"),g="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+s+"_2'><tbody><tr><td colspan='2'><hr class='"+h.content+"' style='margin:1px'/></td></tr>"+x+"<tr><td class='EditButton' style='text-align:"+d+"'>"+E+"</td><td class='EditButton' "+v+">"+S+w+"</td></tr></tbody></table>",s=e.jgrid.jqID(s),e("#"+s).jqFilter({columns:y,sortStrategy:t.sortStrategy,filter:t.loadDefaults?l:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,uniqueSearchFields:t.uniqueSearchFields,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:r.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),e.isFunction(t.afterChange)&&t.afterChange.call(r,e("#"+s),t)},direction:r.p.direction,id:r.p.id}),p.append(g),T&&t.tmplFilters&&t.tmplFilters.length&&e(".ui-template",p).bind("change",function(){var n=e(this).val();return"default"===n?e("#"+s).jqFilter("addFilter",l):e("#"+s).jqFilter("addFilter",t.tmplFilters[parseInt(n,10)]),!1}),t.multipleGroup===!0&&(t.multipleSearch=!0),e(r).triggerHandler("jqGridFilterInitialize",[e("#"+s)]),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(r,e("#"+s)),t.gbox="#gbox_"+s,t.layer?e.jgrid.createModal(f,p,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0],"#"+e.jgrid.jqID(t.layer),{position:"relative"}):e.jgrid.createModal(f,p,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&e("#"+e.jgrid.jqID(f.themodal)).keydown(function(n){var r=e(n.target);return!t.searchOnEnter||13!==n.which||r.hasClass("add-group")||r.hasClass("add-rule")||r.hasClass("delete-group")||r.hasClass("delete-rule")||r.hasClass("fm-button")&&r.is("[id$=_query]")?t.closeOnEscape&&27===n.which?(e("#"+e.jgrid.jqID(f.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(e("#"+s+"_search").click(),!1)}),S&&e("#"+s+"_query").bind("click",function(){return e(".queryresult",p).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),e("#"+s+"_search").bind("click",function(){var n,o,l={};if(i=e("#"+s),i.find(".input-elm:focus").change(),o=i.jqFilter("filterData"),t.errorcheck&&(i[0].hideError(),t.showQuery||i.jqFilter("toSQLString"),i[0].p.error))return i[0].showError(),!1;if(t.stringResult){try{n=JSON.stringify(o)}catch(c){}"string"==typeof n&&(l[t.sFilter]=n,e.each([t.sField,t.sValue,t.sOper],function(){l[this]=""}))}else t.multipleSearch?(l[t.sFilter]=o,e.each([t.sField,t.sValue,t.sOper],function(){l[this]=""})):(l[t.sField]=o.rules[0].field,l[t.sValue]=o.rules[0].data,l[t.sOper]=o.rules[0].op,l[t.sFilter]="");return r.p.search=!0,e.extend(r.p.postData,l),u=e(r).triggerHandler("jqGridFilterSearch"),void 0===u&&(u=!0),u&&e.isFunction(t.onSearch)&&(u=t.onSearch.call(r,r.p.filters)),u!==!1&&e(r).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:"#gbox_"+e.jgrid.jqID(r.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e("#"+s+"_reset").bind("click",function(){var n={},i=e("#"+s);return r.p.search=!1,r.p.resetsearch=!0,t.multipleSearch===!1?n[t.sField]=n[t.sValue]=n[t.sOper]="":n[t.sFilter]="",i[0].resetFilter(),T&&e(".ui-template",p).val("default"),e.extend(r.p.postData,n),u=e(r).triggerHandler("jqGridFilterReset"),void 0===u&&(u=!0),u&&e.isFunction(t.onReset)&&(u=t.onReset.call(r)),u!==!1&&e(r).trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:"#gbox_"+e.jgrid.jqID(r.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),n(e("#"+s)),e(".fm-button:not(."+h.disabled+")",p).hover(function(){e(this).addClass(h.hover)},function(){e(this).removeClass(h.hover)})}}})},filterInput:function(t,n){return n=e.extend(!0,{defaultSearch:"cn",groupOp:"OR",searchAll:!1,beforeSearch:null,afterSearch:null},n||{}),this.each(function(){var r=this;if(r.grid){var i,s,o,u='{"groupOp":"'+n.groupOp+'","rules":[',f=0;if(t+="","local"!==!r.p.datatype){e.each(r.p.colModel,function(){i=this.index||this.name,s=this.searchoptions||{},o=n.defaultSearch?n.defaultSearch:s.sopt?s.sopt[0]:n.defaultSearch,this.search=this.search===!1?!1:!0,(this.search||n.searchAll)&&(f>0&&(u+=","),u+='{"field":"'+i+'",',u+='"op":"'+o+'",',u+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',f++)}),u+="]}",e.extend(r.p.postData,{filters:u}),e.each(["searchField","searchString","searchOper"],function(e,t){r.p.postData.hasOwnProperty(t)&&delete r.p.postData[t]});var l="stop"===e(r).triggerHandler("jqGridFilterInputBeforeSearch")?!0:!1;!l&&e.isFunction(n.beforeSearch)&&(l=n.beforeSearch.call(r)),l||e(r).jqGrid("setGridParam",{search:!0}).trigger("reloadGrid",[{page:1}]),e(r).triggerHandler("jqGridFilterInputAfterSearch"),e.isFunction(n.afterSearch)&&n.afterSearch.call(r)}}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";e.jgrid.inlineEdit=e.jgrid.inlineEdit||{},e.jgrid.extend({editRow:function(t,n,r,i,s,o,u,f,l){var c={},h=e.makeArray(arguments).slice(1);return"object"===e.type(h[0])?c=h[0]:(void 0!==n&&(c.keys=n),e.isFunction(r)&&(c.oneditfunc=r),e.isFunction(i)&&(c.successfunc=i),void 0!==s&&(c.url=s),void 0!==o&&(c.extraparam=o),e.isFunction(u)&&(c.aftersavefunc=u),e.isFunction(f)&&(c.errorfunc=f),e.isFunction(l)&&(c.afterrestorefunc=l)),c=e.extend(!0,{keys:!1,keyevent:"keydown",oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},e.jgrid.inlineEdit,c),this.each(function(){var n,r,i,s,o,u,f=this,l=0,h=null,p={},d=e(this).jqGrid("getStyleUI",f.p.styleUI+".inlinedit","inputClass",!0);f.grid&&(s=e(f).jqGrid("getInd",t,!0),s!==!1&&(u=e.isFunction(c.beforeEditRow)?c.beforeEditRow.call(f,c,t):void 0,void 0===u&&(u=!0),u&&(i=e(s).attr("editable")||"0","0"!==i||e(s).hasClass("not-editable-row")||(o=f.p.colModel,e('td[role="gridcell"]',s).each(function(i){n=o[i].name;var s=f.p.treeGrid===!0&&n===f.p.ExpandColumn;if(s)r=e("span:first",this).html();else try{r=e.unformat.call(f,this,{rowId:t,colModel:o[i]},i)}catch(u){r=o[i].edittype&&"textarea"===o[i].edittype?e(this).text():e(this).html()}if("cb"!==n&&"subgrid"!==n&&"rn"!==n&&(f.p.autoencode&&(r=e.jgrid.htmlDecode(r)),p[n]=r,o[i].editable===!0)){null===h&&(h=i),s?e("span:first",this).html(""):e(this).html("");var c=e.extend({},o[i].editoptions||{},{id:t+"_"+n,name:n,rowId:t,oper:"edit"});o[i].edittype||(o[i].edittype="text"),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r="");var v=e.jgrid.createEl.call(f,o[i].edittype,c,r,!0,e.extend({},e.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{}));e(v).addClass("editable inline-edit-cell"),e.inArray(o[i].edittype,["text","textarea","password","select"])>-1&&e(v).addClass(d),s?e("span:first",this).append(v):e(this).append(v),e.jgrid.bindEv.call(f,v,c),"select"===o[i].edittype&&void 0!==o[i].editoptions&&o[i].editoptions.multiple===!0&&void 0===o[i].editoptions.dataUrl&&e.jgrid.msie&&e(v).width(e(v).width()),l++}}),l>0&&(p.id=t,f.p.savedRow.push(p),e(s).attr("editable","1"),c.focusField&&("number"==typeof c.focusField&&parseInt(c.focusField,10)<=o.length&&(h=c.focusField),setTimeout(function(){var t=e("td:eq("+h+") :input:visible",s).not(":disabled");t.length>0&&t.focus()},0)),c.keys===!0&&e(s).bind(c.keyevent,function(n){if(27===n.keyCode){if(e(f).jqGrid("restoreRow",t,c.afterrestorefunc),f.p.inlineNav)try{e(f).jqGrid("showAddEditButtons")}catch(r){}return!1}if(13===n.keyCode){var i=n.target;if("TEXTAREA"===i.tagName)return!0;if(e(f).jqGrid("saveRow",t,c)&&f.p.inlineNav)try{e(f).jqGrid("showAddEditButtons")}catch(s){}return!1}}),e(f).triggerHandler("jqGridInlineEditRow",[t,c]),e.isFunction(c.oneditfunc)&&c.oneditfunc.call(f,t))))))})},saveRow:function(t,n,r,i,s,o,u){var f=e.makeArray(arguments).slice(1),l={},c=this[0];"object"===e.type(f[0])?l=f[0]:(e.isFunction(n)&&(l.successfunc=n),void 0!==r&&(l.url=r),void 0!==i&&(l.extraparam=i),e.isFunction(s)&&(l.aftersavefunc=s),e.isFunction(o)&&(l.errorfunc=o),e.isFunction(u)&&(l.afterrestorefunc=u)),l=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:e.jgrid.getRegional(c,"defaults.savetext")},e.jgrid.inlineEdit,l);var h,p,d,v,m,g=!1,y={},b={},w={},E=!1,S=e.trim(e(c).jqGrid("getStyleUI",c.p.styleUI+".common","error",!0));if(!c.grid)return g;if(m=e(c).jqGrid("getInd",t,!0),m===!1)return g;var x=e.jgrid.getRegional(this,"errors"),T=e.jgrid.getRegional(this,"edit"),N=e.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(c,l,t):void 0;if(void 0===N&&(N=!0),N){if(p=e(m).attr("editable"),l.url=l.url||c.p.editurl,"1"===p){var C;if(e('td[role="gridcell"]',m).each(function(t){if(C=c.p.colModel[t],h=C.name,"cb"!==h&&"subgrid"!==h&&C.editable===!0&&"rn"!==h&&!e(this).hasClass("not-editable-cell")){switch(C.edittype){case"checkbox":var n=["Yes","No"];C.editoptions&&(n=C.editoptions.value.split(":")),y[h]=e("input",this).is(":checked")?n[0]:n[1];break;case"text":case"password":case"textarea":case"button":y[h]=e("input, textarea",this).val();break;case"select":if(C.editoptions.multiple){var r=e("select",this),i=[];y[h]=e(r).val(),y[h]?y[h]=y[h].join(","):y[h]="",e("select option:selected",this).each(function(t,n){i[t]=e(n).text()}),b[h]=i.join(",")}else y[h]=e("select option:selected",this).val(),b[h]=e("select option:selected",this).text();C.formatter&&"select"===C.formatter&&(b={});break;case"custom":try{if(!C.editoptions||!e.isFunction(C.editoptions.custom_value))throw"e1";if(y[h]=C.editoptions.custom_value.call(c,e(".customelement",this),"get"),void 0===y[h])throw"e2"}catch(s){"e1"===s?e.jgrid.info_dialog(x.errcap,"function 'custom_value' "+T.msg.nodefined,T.bClose,{styleUI:c.p.styleUI}):e.jgrid.info_dialog(x.errcap,s.message,T.bClose,{styleUI:c.p.styleUI})}}if(v=e.jgrid.checkValues.call(c,y[h],t),v[0]===!1)return!1;c.p.autoencode&&(y[h]=e.jgrid.htmlEncode(y[h])),"clientArray"!==l.url&&C.editoptions&&C.editoptions.NullIfEmpty===!0&&""===y[h]&&(w[h]="null",E=!0)}}),v[0]===!1){try{var k=e(c).jqGrid("getGridRowById",t),L=e.jgrid.findPos(k);e.jgrid.info_dialog(x.errcap,v[1],T.bClose,{left:L[0],top:L[1]+e(k).outerHeight(),styleUI:c.p.styleUI})}catch(A){alert(v[1])}return g}var O,M=c.p.prmNames,_=t;if(O=c.p.keyName===!1?M.id:c.p.keyName,y){if(y[M.oper]=M.editoper,void 0===y[O]||""===y[O])y[O]=t;else if(m.id!==c.p.idPrefix+y[O]){var D=e.jgrid.stripPref(c.p.idPrefix,t);if(void 0!==c.p._index[D]&&(c.p._index[y[O]]=c.p._index[D],delete c.p._index[D]),t=c.p.idPrefix+y[O],e(m).attr("id",t),c.p.selrow===_&&(c.p.selrow=t),e.isArray(c.p.selarrrow)){var P=e.inArray(_,c.p.selarrrow);P>=0&&(c.p.selarrrow[P]=t)}if(c.p.multiselect){var H="jqg_"+c.p.id+"_"+t;e("input.cbox",m).attr("id",H).attr("name",H)}}void 0===c.p.inlineData&&(c.p.inlineData={}),y=e.extend({},y,c.p.inlineData,l.extraparam)}if("clientArray"===l.url){y=e.extend({},y,b),c.p.autoencode&&e.each(y,function(t,n){y[t]=e.jgrid.htmlDecode(n)});var B,j=e(c).jqGrid("setRowData",t,y);for(e(m).attr("editable","0"),B=0;B<c.p.savedRow.length;B++)if(String(c.p.savedRow[B].id)===String(_)){d=B;break}d>=0&&c.p.savedRow.splice(d,1),e(c).triggerHandler("jqGridInlineAfterSaveRow",[t,j,y,l]),e.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,j,y,l),g=!0,e(m).removeClass("jqgrid-new-row").unbind("keydown")}else e(c).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),w=e.extend({},y,w),w[O]=e.jgrid.stripPref(c.p.idPrefix,w[O]),e.ajax(e.extend({url:l.url,data:e.isFunction(c.p.serializeRowData)?c.p.serializeRowData.call(c,w):w,type:l.mtype,async:!1,complete:function(n,r){if(e(c).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===r){var i,s,o=!0;if(i=e(c).triggerHandler("jqGridInlineSuccessSaveRow",[n,t,l]),e.isArray(i)||(i=[!0,w]),i[0]&&e.isFunction(l.successfunc)&&(i=l.successfunc.call(c,n)),e.isArray(i)?(o=i[0],y=i[1]||y):o=i,o===!0){for(c.p.autoencode&&e.each(y,function(t,n){y[t]=e.jgrid.htmlDecode(n)}),E&&e.each(y,function(e){"null"===y[e]&&(y[e]="")}),y=e.extend({},y,b),e(c).jqGrid("setRowData",t,y),e(m).attr("editable","0"),s=0;s<c.p.savedRow.length;s++)if(String(c.p.savedRow[s].id)===String(t)){d=s;break}d>=0&&c.p.savedRow.splice(d,1),e(c).triggerHandler("jqGridInlineAfterSaveRow",[t,n,y,l]),e.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,n,y,l),g=!0,e(m).removeClass("jqgrid-new-row").unbind("keydown")}else e(c).triggerHandler("jqGridInlineErrorSaveRow",[t,n,r,null,l]),e.isFunction(l.errorfunc)&&l.errorfunc.call(c,t,n,r,null),l.restoreAfterError===!0&&e(c).jqGrid("restoreRow",t,l.afterrestorefunc)}},error:function(n,r,i){if(e("#lui_"+e.jgrid.jqID(c.p.id)).hide(),e(c).triggerHandler("jqGridInlineErrorSaveRow",[t,n,r,i,l]),e.isFunction(l.errorfunc))l.errorfunc.call(c,t,n,r,i);else{var s=n.responseText||n.statusText;try{e.jgrid.info_dialog(x.errcap,'<div class="'+S+'">'+s+"</div>",T.bClose,{buttonalign:"right",styleUI:c.p.styleUI})}catch(o){alert(s)}}l.restoreAfterError===!0&&e(c).jqGrid("restoreRow",t,l.afterrestorefunc)}},e.jgrid.ajaxOptions,c.p.ajaxRowOptions||{}))}return g}},restoreRow:function(t,n){var r=e.makeArray(arguments).slice(1),i={};return"object"===e.type(r[0])?i=r[0]:e.isFunction(n)&&(i.afterrestorefunc=n),i=e.extend(!0,{},e.jgrid.inlineEdit,i),this.each(function(){var n,r,s=this,o=-1,u={};if(s.grid&&(n=e(s).jqGrid("getInd",t,!0),n!==!1)){var f=e.isFunction(i.beforeCancelRow)?i.beforeCancelRow.call(s,i,t):void 0;if(void 0===f&&(f=!0),f){for(r=0;r<s.p.savedRow.length;r++)if(String(s.p.savedRow[r].id)===String(t)){o=r;break}if(o>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+e.jgrid.jqID(n.id)).datepicker("hide")}catch(l){}e.each(s.p.colModel,function(){this.editable===!0&&s.p.savedRow[o].hasOwnProperty(this.name)&&(u[this.name]=s.p.savedRow[o][this.name])}),e(s).jqGrid("setRowData",t,u),e(n).attr("editable","0").unbind("keydown"),s.p.savedRow.splice(o,1),e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(s.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){e(s).jqGrid("delRowData",t),e(s).jqGrid("showAddEditButtons")},0)}e(s).triggerHandler("jqGridInlineAfterRestoreRow",[t]),e.isFunction(i.afterrestorefunc)&&i.afterrestorefunc.call(s,t)}}})},addRow:function(t){return t=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var n=this,r=e.isFunction(t.beforeAddRow)?t.beforeAddRow.call(n,t.addRowParams):void 0;if(void 0===r&&(r=!0),r)if(t.rowID=e.isFunction(t.rowID)?t.rowID.call(n,t):null!=t.rowID?t.rowID:e.jgrid.randId(),t.useDefValues===!0&&e(n.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,i=e.isFunction(r)?r.call(n):r;t.initdata[this.name]=i}}),e(n).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=n.p.idPrefix+t.rowID,e("#"+e.jgrid.jqID(t.rowID),"#"+e.jgrid.jqID(n.p.id)).addClass("jqgrid-new-row"),t.useFormatter)e("#"+e.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+e.jgrid.jqID(n.p.id)).click();else{var i=n.p.prmNames,s=i.oper;t.addRowParams.extraparam[s]=i.addoper,e(n).jqGrid("editRow",t.rowID,t.addRowParams),e(n).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,n){var r=this[0],i=e.jgrid.getRegional(r,"nav"),s=e.jgrid.styleUI[r.p.styleUI].inlinedit;return n=e.extend(!0,{edit:!0,editicon:s.icon_edit_nav,add:!0,addicon:s.icon_add_nav,save:!0,saveicon:s.icon_save_nav,cancel:!0,cancelicon:s.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},i,n||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var s=e.jgrid.jqID(r.p.id),o=e.trim(e(r).jqGrid("getStyleUI",r.p.styleUI+".common","disabled",!0));if(r.p.navGrid||e(r).jqGrid("navGrid",t,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),e(r).data("inlineNav")||e(r).data("inlineNav",n),r.p.force_regional&&(n=e.extend(n,i)),r.p.inlineNav=!0,n.addParams.useFormatter===!0){var u,f=r.p.colModel;for(u=0;u<f.length;u++)if(f[u].formatter&&"actions"===f[u].formatter){if(f[u].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},h=e.extend(l,f[u].formatoptions);n.addParams.addRowParams={keys:h.keys,oneditfunc:h.onEdit,successfunc:h.onSuccess,url:h.url,extraparam:h.extraparam,aftersavefunc:h.afterSave,errorfunc:h.onError,afterrestorefunc:h.afterRestore}}break}}n.add&&e(r).jqGrid("navButtonAdd",t,{caption:n.addtext,title:n.addtitle,buttonicon:n.addicon,id:r.p.id+"_iladd",internal:!0,onClickButton:function(){e(r).jqGrid("addRow",n.addParams),n.addParams.useFormatter||(e("#"+s+"_ilsave").removeClass(o),e("#"+s+"_ilcancel").removeClass(o),e("#"+s+"_iladd").addClass(o),e("#"+s+"_iledit").addClass(o))}}),n.edit&&e(r).jqGrid("navButtonAdd",t,{caption:n.edittext,title:n.edittitle,buttonicon:n.editicon,id:r.p.id+"_iledit",internal:!0,onClickButton:function(){var t=e(r).jqGrid("getGridParam","selrow");t?(e(r).jqGrid("editRow",t,n.editParams),e("#"+s+"_ilsave").removeClass(o),e("#"+s+"_ilcancel").removeClass(o),e("#"+s+"_iladd").addClass(o),e("#"+s+"_iledit").addClass(o)):(e.jgrid.viewModal("#alertmod_"+s,{gbox:"#gbox_"+s,jqm:!0}),e("#jqg_alrt").focus())}}),n.save&&(e(r).jqGrid("navButtonAdd",t,{caption:n.savetext||"",title:n.savetitle||"Save row",buttonicon:n.saveicon,id:r.p.id+"_ilsave",internal:!0,onClickButton:function(){var t=r.p.savedRow[0].id;if(t){var i=r.p.prmNames,o=i.oper,u=n.editParams;e("#"+e.jgrid.jqID(t),"#"+s).hasClass("jqgrid-new-row")?(n.addParams.addRowParams.extraparam[o]=i.addoper,u=n.addParams.addRowParams):(n.editParams.extraparam||(n.editParams.extraparam={}),n.editParams.extraparam[o]=i.editoper),e(r).jqGrid("saveRow",t,u)&&e(r).jqGrid("showAddEditButtons")}else e.jgrid.viewModal("#alertmod_"+s,{gbox:"#gbox_"+s,jqm:!0}),e("#jqg_alrt").focus()}}),e("#"+s+"_ilsave").addClass(o)),n.cancel&&(e(r).jqGrid("navButtonAdd",t,{caption:n.canceltext||"",title:n.canceltitle||"Cancel row editing",buttonicon:n.cancelicon,id:r.p.id+"_ilcancel",internal:!0,onClickButton:function(){var t=r.p.savedRow[0].id,i=n.editParams;t?(e("#"+e.jgrid.jqID(t),"#"+s).hasClass("jqgrid-new-row")&&(i=n.addParams.addRowParams),e(r).jqGrid("restoreRow",t,i),e(r).jqGrid("showAddEditButtons")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+s,jqm:!0}),e("#jqg_alrt").focus())}}),e("#"+s+"_ilcancel").addClass(o)),n.restoreAfterSelect===!0&&e(r).bind("jqGridBeforeSelectRow.inlineNav",function(t,i){r.p.savedRow.length>0&&r.p.inlineNav===!0&&i!==r.p.selrow&&null!==r.p.selrow&&(r.p.selrow===n.addParams.rowID?e(r).jqGrid("delRowData",r.p.selrow):e(r).jqGrid("restoreRow",r.p.selrow,n.editParams),e(r).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=e.jgrid.jqID(this.p.id),n=e.trim(e(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));e("#"+t+"_ilsave").addClass(n),e("#"+t+"_ilcancel").addClass(n),e("#"+t+"_iladd").removeClass(n),e("#"+t+"_iledit").removeClass(n)}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({editCell:function(t,n,r){return this.each(function(){var i,s,o,u,f=this,l=e(this).jqGrid("getStyleUI",f.p.styleUI+".common","highlight",!0),h=e(this).jqGrid("getStyleUI",f.p.styleUI+".common","hover",!0),p=e(this).jqGrid("getStyleUI",f.p.styleUI+".celledit","inputClass",!0);if(f.grid&&f.p.cellEdit===!0){if(n=parseInt(n,10),f.p.selrow=f.rows[t].id,f.p.knv||e(f).jqGrid("GridNav"),f.p.savedRow.length>0){if(r===!0&&t==f.p.iRow&&n==f.p.iCol)return;e(f).jqGrid("saveCell",f.p.savedRow[0].id,f.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+e.jgrid.jqID(f.p.knv)).attr("tabindex","-1").focus()},1);if(u=f.p.colModel[n],i=u.name,"subgrid"!==i&&"cb"!==i&&"rn"!==i){if(o=e("td:eq("+n+")",f.rows[t]),u.editable!==!0||r!==!0||o.hasClass("not-editable-cell")||e.isFunction(f.p.isCellEditable)&&!f.p.isCellEditable.call(f,i,t,n))parseInt(f.p.iCol,10)>=0&&parseInt(f.p.iRow,10)>=0&&e(f.rows[f.p.iRow]).removeClass("selected-row "+h).find("td:eq("+f.p.iCol+")").removeClass("edit-cell "+l),o.addClass("edit-cell "+l),e(f.rows[t]).addClass("selected-row "+h),s=o.html().replace(/\&#160\;/gi,""),e(f).triggerHandler("jqGridSelectCell",[f.rows[t].id,i,s,t,n]),e.isFunction(f.p.onSelectCell)&&f.p.onSelectCell.call(f,f.rows[t].id,i,s,t,n);else{parseInt(f.p.iCol,10)>=0&&parseInt(f.p.iRow,10)>=0&&e(f.rows[f.p.iRow]).removeClass("selected-row "+h).find("td:eq("+f.p.iCol+")").removeClass("edit-cell "+l),e(o).addClass("edit-cell "+l),e(f.rows[t]).addClass("selected-row "+h);try{s=e.unformat.call(f,o,{rowId:f.rows[t].id,colModel:u},n)}catch(v){s=u.edittype&&"textarea"===u.edittype?e(o).text():e(o).html()}if(f.p.autoencode&&(s=e.jgrid.htmlDecode(s)),u.edittype||(u.edittype="text"),f.p.savedRow.push({id:t,ic:n,name:i,v:s}),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),e.isFunction(f.p.formatCell)){var m=f.p.formatCell.call(f,f.rows[t].id,i,s,t,n);void 0!==m&&(s=m)}e(f).triggerHandler("jqGridBeforeEditCell",[f.rows[t].id,i,s,t,n]),e.isFunction(f.p.beforeEditCell)&&f.p.beforeEditCell.call(f,f.rows[t].id,i,s,t,n);var g=e.extend({},u.editoptions||{},{id:t+"_"+i,name:i,rowId:f.rows[t].id,oper:"edit"}),y=e.jgrid.createEl.call(f,u.edittype,g,s,!0,e.extend({},e.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{}));e.inArray(u.edittype,["text","textarea","password","select"])>-1&&e(y).addClass(p),e(o).html("").append(y).attr("tabindex","0"),e.jgrid.bindEv.call(f,y,g),window.setTimeout(function(){e(y).focus()},1),e("input, select, textarea",o).bind("keydown",function(r){if(27===r.keyCode&&(e("input.hasDatepicker",o).length>0?e(".ui-datepicker").is(":hidden")?e(f).jqGrid("restoreCell",t,n):e("input.hasDatepicker",o).datepicker("hide"):e(f).jqGrid("restoreCell",t,n)),13===r.keyCode&&!r.shiftKey)return e(f).jqGrid("saveCell",t,n),!1;if(9===r.keyCode){if(f.grid.hDiv.loading)return!1;r.shiftKey?e(f).jqGrid("prevCell",t,n):e(f).jqGrid("nextCell",t,n)}r.stopPropagation()}),e(f).triggerHandler("jqGridAfterEditCell",[f.rows[t].id,i,s,t,n]),e.isFunction(f.p.afterEditCell)&&f.p.afterEditCell.call(f,f.rows[t].id,i,s,t,n)}f.p.iCol=n,f.p.iRow=t}}})},saveCell:function(t,n){return this.each(function(){var r,i=this,s=e.jgrid.getRegional(this,"errors"),o=e.jgrid.getRegional(this,"edit");if(i.grid&&i.p.cellEdit===!0){if(r=i.p.savedRow.length>=1?0:null,null!==r){var u,f,l=e("td:eq("+n+")",i.rows[t]),h=i.p.colModel[n],p=h.name,d=e.jgrid.jqID(p),v=e(l).offset();switch(h.edittype){case"select":if(h.editoptions.multiple){var m=e("#"+t+"_"+d,i.rows[t]),g=[];u=e(m).val(),u?u.join(","):u="",e("option:selected",m).each(function(t,n){g[t]=e(n).text()}),f=g.join(",")}else u=e("#"+t+"_"+d+" option:selected",i.rows[t]).val(),f=e("#"+t+"_"+d+" option:selected",i.rows[t]).text();h.formatter&&(f=u);break;case"checkbox":var y=["Yes","No"];h.editoptions&&(y=h.editoptions.value.split(":")),u=e("#"+t+"_"+d,i.rows[t]).is(":checked")?y[0]:y[1],f=u;break;case"password":case"text":case"textarea":case"button":u=e("#"+t+"_"+d,i.rows[t]).val(),f=u;break;case"custom":try{if(!h.editoptions||!e.isFunction(h.editoptions.custom_value))throw"e1";if(u=h.editoptions.custom_value.call(i,e(".customelement",l),"get"),void 0===u)throw"e2";f=u}catch(w){"e1"===w?e.jgrid.info_dialog(s.errcap,"function 'custom_value' "+o.msg.nodefined,o.bClose,{styleUI:i.p.styleUI}):"e2"===w?e.jgrid.info_dialog(s.errcap,"function 'custom_value' "+o.msg.novalue,o.bClose,{styleUI:i.p.styleUI}):e.jgrid.info_dialog(s.errcap,w.message,o.bClose,{styleUI:i.p.styleUI})}}if(f!==i.p.savedRow[r].v){var E=e(i).triggerHandler("jqGridBeforeSaveCell",[i.rows[t].id,p,u,t,n]);if(E&&(u=E,f=E),e.isFunction(i.p.beforeSaveCell)){var S=i.p.beforeSaveCell.call(i,i.rows[t].id,p,u,t,n);S&&(u=S,f=S)}var x=e.jgrid.checkValues.call(i,u,n),T=!1;if(x[0]===!0){var N=e(i).triggerHandler("jqGridBeforeSubmitCell",[i.rows[t].id,p,u,t,n])||{};if(e.isFunction(i.p.beforeSubmitCell)&&(N=i.p.beforeSubmitCell.call(i,i.rows[t].id,p,u,t,n),N||(N={})),e("input.hasDatepicker",l).length>0&&e("input.hasDatepicker",l).datepicker("hide"),"remote"===i.p.cellsubmit)if(i.p.cellurl){var C={};i.p.autoencode&&(u=e.jgrid.htmlEncode(u)),h.editoptions&&h.editoptions.NullIfEmpty&&""===u&&(u="null",T=!0),C[p]=u;var k,L,A;A=i.p.prmNames,k=A.id,L=A.oper,C[k]=e.jgrid.stripPref(i.p.idPrefix,i.rows[t].id),C[L]=A.editoper,C=e.extend(N,C),e(i).jqGrid("progressBar",{method:"show",loadtype:i.p.loadui,htmlcontent:e.jgrid.getRegional(i,"defaults.savetext")}),i.grid.hDiv.loading=!0,e.ajax(e.extend({url:i.p.cellurl,data:e.isFunction(i.p.serializeCellData)?i.p.serializeCellData.call(i,C,p):C,type:"POST",complete:function(r,h){if(e(i).jqGrid("progressBar",{method:"hide",loadtype:i.p.loadui}),i.grid.hDiv.loading=!1,"success"===h){var d=e(i).triggerHandler("jqGridAfterSubmitCell",[i,r,C.id,p,u,t,n])||[!0,""];d[0]===!0&&e.isFunction(i.p.afterSubmitCell)&&(d=i.p.afterSubmitCell.call(i,r,C.id,p,u,t,n)),d[0]===!0?(T&&(u=""),e(l).empty(),e(i).jqGrid("setCell",i.rows[t].id,n,f,!1,!1,!0),e(l).addClass("dirty-cell"),e(i.rows[t]).addClass("edited"),e(i).triggerHandler("jqGridAfterSaveCell",[i.rows[t].id,p,u,t,n]),e.isFunction(i.p.afterSaveCell)&&i.p.afterSaveCell.call(i,i.rows[t].id,p,u,t,n),i.p.savedRow.splice(0,1)):(e.jgrid.info_dialog(s.errcap,d[1],o.bClose,{styleUI:i.p.styleUI}),i.p.restoreCellonFail&&e(i).jqGrid("restoreCell",t,n))}},error:function(r,u,f){e("#lui_"+e.jgrid.jqID(i.p.id)).hide(),i.grid.hDiv.loading=!1,e(i).triggerHandler("jqGridErrorCell",[r,u,f]),e.isFunction(i.p.errorCell)?i.p.errorCell.call(i,r,u,f):e.jgrid.info_dialog(s.errcap,r.status+" : "+r.statusText+"<br/>"+u,o.bClose,{styleUI:i.p.styleUI}),i.p.restoreCellonFail&&e(i).jqGrid("restoreCell",t,n)}},e.jgrid.ajaxOptions,i.p.ajaxCellOptions||{}))}else try{e.jgrid.info_dialog(s.errcap,s.nourl,o.bClose,{styleUI:i.p.styleUI}),i.p.restoreCellonFail&&e(i).jqGrid("restoreCell",t,n)}catch(w){}"clientArray"===i.p.cellsubmit&&(e(l).empty(),e(i).jqGrid("setCell",i.rows[t].id,n,f,!1,!1,!0),e(l).addClass("dirty-cell"),e(i.rows[t]).addClass("edited"),e(i).triggerHandler("jqGridAfterSaveCell",[i.rows[t].id,p,u,t,n]),e.isFunction(i.p.afterSaveCell)&&i.p.afterSaveCell.call(i,i.rows[t].id,p,u,t,n),i.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){e.jgrid.info_dialog(s.errcap,u+" "+x[1],o.bClose,{styleUI:i.p.styleUI,top:v.top+40,left:v.left})},100),e(i).jqGrid("restoreCell",t,n)}catch(w){}}else e(i).jqGrid("restoreCell",t,n)}window.setTimeout(function(){e("#"+e.jgrid.jqID(i.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,n){return this.each(function(){var r,i=this;if(i.grid&&i.p.cellEdit===!0){if(r=i.p.savedRow.length>=1?0:null,null!==r){var s=e("td:eq("+n+")",i.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",s).datepicker("hide")}catch(o){}e(s).empty().attr("tabindex","-1"),e(i).jqGrid("setCell",i.rows[t].id,n,i.p.savedRow[r].v,!1,!1,!0),e(i).triggerHandler("jqGridAfterRestoreCell",[i.rows[t].id,i.p.savedRow[r].v,t,n]),e.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.rows[t].id,i.p.savedRow[r].v,t,n),i.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+i.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,n){return this.each(function(){var r,i=this,s=!1;if(i.grid&&i.p.cellEdit===!0){for(r=n+1;r<i.p.colModel.length;r++)if(i.p.colModel[r].editable===!0&&(!e.isFunction(i.p.isCellEditable)||i.p.isCellEditable.call(i,i.p.colModel[r].name,t,r))){s=r;break}s!==!1?e(i).jqGrid("editCell",t,s,!0):i.p.savedRow.length>0&&e(i).jqGrid("saveCell",t,n)}})},prevCell:function(t,n){return this.each(function(){var r,i=this,s=!1;if(i.grid&&i.p.cellEdit===!0){for(r=n-1;r>=0;r--)if(i.p.colModel[r].editable===!0&&(!e.isFunction(i.p.isCellEditable)||i.p.isCellEditable.call(i,i.p.colModel[r].name,t,r))){s=r;break}s!==!1?e(i).jqGrid("editCell",t,s,!0):i.p.savedRow.length>0&&e(i).jqGrid("saveCell",t,n)}})},GridNav:function(){return this.each(function(){function t(t,n,i){if("v"===i.substr(0,1)){var s=e(r.grid.bDiv)[0].clientHeight,o=e(r.grid.bDiv)[0].scrollTop,u=r.rows[t].offsetTop+r.rows[t].clientHeight,f=r.rows[t].offsetTop;"vd"===i&&u>=s&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop+r.rows[t].clientHeight),"vu"===i&&o>f&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop-r.rows[t].clientHeight)}if("h"===i){var l=e(r.grid.bDiv)[0].clientWidth,c=e(r.grid.bDiv)[0].scrollLeft,h=r.rows[t].cells[n].offsetLeft+r.rows[t].cells[n].clientWidth,p=r.rows[t].cells[n].offsetLeft;h>=l+parseInt(c,10)?e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft+r.rows[t].cells[n].clientWidth:c>p&&(e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft-r.rows[t].cells[n].clientWidth)}}function n(e,t){var n,i;if("lft"===t)for(n=e+1,i=e;i>=0;i--)if(r.p.colModel[i].hidden!==!0){n=i;break}if("rgt"===t)for(n=e-1,i=e;i<r.p.colModel.length;i++)if(r.p.colModel[i].hidden!==!0){n=i;break}return n}var r=this;if(r.grid&&r.p.cellEdit===!0){r.p.knv=r.p.id+"_kn";var i,s,o=e("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+r.p.knv+"'></div></div>");e(o).insertBefore(r.grid.cDiv),e("#"+r.p.knv).focus().keydown(function(o){switch(s=o.keyCode,"rtl"===r.p.direction&&(37===s?s=39:39===s&&(s=37)),s){case 38:r.p.iRow-1>0&&(t(r.p.iRow-1,r.p.iCol,"vu"),e(r).jqGrid("editCell",r.p.iRow-1,r.p.iCol,!1));break;case 40:r.p.iRow+1<=r.rows.length-1&&(t(r.p.iRow+1,r.p.iCol,"vd"),e(r).jqGrid("editCell",r.p.iRow+1,r.p.iCol,!1));break;case 37:r.p.iCol-1>=0&&(i=n(r.p.iCol-1,"lft"),t(r.p.iRow,i,"h"),e(r).jqGrid("editCell",r.p.iRow,i,!1));break;case 39:r.p.iCol+1<=r.p.colModel.length-1&&(i=n(r.p.iCol+1,"rgt"),t(r.p.iRow,i,"h"),e(r).jqGrid("editCell",r.p.iRow,i,!1));break;case 13:parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&e(r).jqGrid("editCell",r.p.iRow,r.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var n=[];return t||(t="all"),this.each(function(){var r,i=this;i.grid&&i.p.cellEdit===!0&&e(i.rows).each(function(s){var o={};e(this).hasClass("edited")&&(e("td",this).each(function(n){if(r=i.p.colModel[n].name,"cb"!==r&&"subgrid"!==r)if("dirty"===t){if(e(this).hasClass("dirty-cell"))try{o[r]=e.unformat.call(i,this,{rowId:i.rows[s].id,colModel:i.p.colModel[n]},n)}catch(u){o[r]=e.jgrid.htmlDecode(e(this).html())}}else try{o[r]=e.unformat.call(i,this,{rowId:i.rows[s].id,colModel:i.p.colModel[n]},n)}catch(u){o[r]=e.jgrid.htmlDecode(e(this).html())}}),o.id=this.id,n.push(o))})}),n}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";e.fn.jqm=function(r){var s={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:i,ajaxText:"",target:i,modal:i,toTop:i,onShow:i,onHide:i,onLoad:i};return this.each(function(){return this._jqm?n[this._jqm].c=e.extend({},n[this._jqm].c,r):(t++,this._jqm=t,n[t]={c:e.extend(s,e.jqm.params,r),a:i,w:e(this).addClass("jqmID"+t),s:t},void (s.trigger&&e(this).jqmAddTrigger(s.trigger)))})},e.fn.jqmAddClose=function(e){return f(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return f(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,o){var a=n[t],f=a.c,l="."+f.closeClass,p=parseInt(a.w.css("z-index"));p=p>0?p:3e3;var v=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":p-1,opacity:f.overlay/100});if(a.a)return i;if(a.t=o,a.a=!0,a.w.css("z-index",p),f.modal?(r[0]||setTimeout(function(){new u("bind")},1),r.push(t)):f.overlay>0?f.closeoverlay&&a.w.jqmAddClose(v):v=i,a.o=v?v.addClass(f.overlayClass).prependTo("body"):i,f.ajax){var m=f.target||a.w,g=f.ajax;m="string"==typeof m?e(m,a.w):e(m),g="@"===g.substr(0,1)?e(o).attr(g.substring(1)):g,m.html(f.ajaxText).load(g,function(){f.onLoad&&f.onLoad.call(this,a),l&&a.w.jqmAddClose(e(l,a.w)),s(a)})}else l&&a.w.jqmAddClose(e(l,a.w));return f.toTop&&a.o&&a.w.before('<span id="jqmP'+a.w[0]._jqm+'"></span>').insertAfter(a.o),f.onShow?f.onShow(a):a.w.show(),s(a),i},close:function(t){var s=n[t];return s.a?(s.a=i,r[0]&&(r.pop(),r[0]||new u("unbind")),s.c.toTop&&s.o&&e("#jqmP"+s.w[0]._jqm).after(s.w).remove(),s.c.onHide?s.c.onHide(s):(s.w.hide(),s.o&&s.o.remove()),i):i},params:{}};var t=0,n=e.jqm.hash,r=[],i=!1,s=function(e){void 0===e.c.focusField&&(e.c.focusField=0),e.c.focusField>=0&&o(e)},o=function(t){try{e(":input:visible",t.w)[parseInt(t.c.focusField,10)].focus()}catch(n){}},u=function(t){e(document)[t]("keypress",a)[t]("keydown",a)[t]("mousedown",a)},a=function(t){var i=n[r[r.length-1]],s=!e(t.target).parents(".jqmID"+i.s)[0];return s&&(e(".jqmID"+i.s).each(function(){var n=e(this),r=n.offset();return r.top<=t.pageY&&t.pageY<=r.top+n.height()&&r.left<=t.pageX&&t.pageX<=r.left+n.width()?(s=!1,!1):void 0}),o(i)),!s},f=function(t,r,s){return t.each(function(){var t=this._jqm;e(r).each(function(){this[s]||(this[s]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])n[this[e][t]]&&n[this[e][t]].w[e](this);return i})),this[s].push(t)})})}});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";e.fn.jqDrag=function(e){return o(this,e,"d")},e.fn.jqResize=function(e,t){return o(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==i.k?s.css({left:i.X+e.pageX-i.pX,top:i.Y+e.pageY-i.pY}):(s.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)}),n&&t.css({width:Math.max(e.pageX-n.pX+n.W,0),height:Math.max(e.pageY-n.pY+n.H,0)})),!1},stop:function(){e(document).unbind("mousemove",r.drag).unbind("mouseup",r.stop)}};var t,n,r=e.jqDnR,i=r.dnr,s=r.e,o=function(r,o,l,p){return r.each(function(){o=o?e(o,r):r,o.bind("mousedown",{e:r,k:l},function(r){var o=r.data,l={};if(s=o.e,t=p?e(p):!1,"relative"!=s.css("position"))try{s.position(l)}catch(d){}if(i={X:l.left||u("left")||0,Y:l.top||u("top")||0,W:u("width")||s[0].scrollWidth||0,H:u("height")||s[0].scrollHeight||0,pX:r.pageX,pY:r.pageY,k:o.k},n=t&&"d"!=o.k?{X:l.left||a("left")||0,Y:l.top||a("top")||0,W:t[0].offsetWidth||a("width")||0,H:t[0].offsetHeight||a("height")||0,pX:r.pageX,pY:r.pageY,k:o.k}:!1,e("input.hasDatepicker",s[0])[0])try{e("input.hasDatepicker",s[0]).datepicker("hide")}catch(v){}return e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},u=function(e){return parseInt(s.css(e),10)||!1},a=function(e){return parseInt(t.css(e),10)||!1};e.fn.tinyDraggable=function(t){var n=e.extend({handle:0,exclude:0},t);return this.each(function(){var t,r,i=e(this),s=n.handle?e(n.handle,i):i;s.on({mousedown:function(s){if(!n.exclude||!~e.inArray(s.target,e(n.exclude,i))){s.preventDefault();var o=i.offset();t=s.pageX-o.left,r=s.pageY-o.top,e(document).on("mousemove.drag",function(e){i.offset({top:e.pageY-r,left:e.pageX-t})})}},mouseup:function(t){e(document).off("mousemove.drag")}})})}});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,n,r=this,i=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].subgrid,s={plusicon:i.icon_plus,minusicon:i.icon_minus,openicon:i.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(r.p.subGridOptions=e.extend(s,r.p.subGridOptions||{}),r.p.colNames.unshift(""),r.p.colModel.unshift({name:"subgrid",width:e.jgrid.cell_width?r.p.subGridWidth+r.p.cellLayout:r.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=r.p.subGridModel,t[0])for(t[0].align=e.extend([],t[0].align||[]),n=0;n<t[0].name.length;n++)t[0].align[n]=t[0].align[n]||"left"})},addSubGridCell:function(t,n){var r,i,s,o="";return this.each(function(){o=this.formatCol(t,n),i=this.p.id,r=this.p.subGridOptions.plusicon,s=e.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+i+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+o+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+s.icon_base+" "+r+"'></span></a></td>"},addSubGrid:function(t,n){return this.each(function(){var r=this;if(r.grid){var i,s,o,u,f,l=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].base,h=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common,p=function(t,n,i){var s=e("<td align='"+r.p.subGridModel[0].align[i]+"'></td>").html(n);e(t).append(s)},d=function(t,n){var i,s,o,u=e("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),f=e("<tr></tr>");for(s=0;s<r.p.subGridModel[0].name.length;s++)i=e("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(i).html(r.p.subGridModel[0].name[s]),e(i).width(r.p.subGridModel[0].width[s]),e(f).append(i);e(u).append(f),t&&(o=r.p.xmlReader.subgrid,e(o.root+" "+o.row,t).each(function(){if(f=e("<tr class='"+h.content+" ui-subtblcell'></tr>"),o.repeatitems===!0)e(o.cell,this).each(function(t){p(f,e(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(s=0;s<t.length;s++)p(f,e(t[s],this).text()||"&#160;",s)}e(u).append(f)}));var c=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(c+n)).append(u),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},v=function(t,n){var i,s,o,u,f,c,d=e("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),v=e("<tr></tr>");for(o=0;o<r.p.subGridModel[0].name.length;o++)i=e("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(i).html(r.p.subGridModel[0].name[o]),e(i).width(r.p.subGridModel[0].width[o]),e(v).append(i);if(e(d).append(v),t&&(f=r.p.jsonReader.subgrid,s=e.jgrid.getAccessor(t,f.root),void 0!==s))for(o=0;o<s.length;o++){if(u=s[o],v=e("<tr class='"+h.content+" ui-subtblcell'></tr>"),f.repeatitems===!0)for(f.cell&&(u=u[f.cell]),c=0;c<u.length;c++)p(v,u[c]||"&#160;",c);else{var m=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(m.length)for(c=0;c<m.length;c++)p(v,u[m[c]]||"&#160;",c)}e(d).append(v)}var g=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(g+n)).append(d),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},m=function(t){var n,i,s,o;if(n=e(t).attr("id"),i={nd_:(new Date).getTime()},i[r.p.prmNames.subgridid]=n,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(o=0;o<r.p.subGridModel[0].params.length;o++)for(s=0;s<r.p.colModel.length;s++)r.p.colModel[s].name===r.p.subGridModel[0].params[o]&&(i[r.p.colModel[s].name]=e("td:eq("+s+")",t).text().replace(/\&#160\;/gi,""));if(!r.grid.hDiv.loading)switch(r.grid.hDiv.loading=!0,e("#load_"+e.jgrid.jqID(r.p.id)).show(),r.p.subgridtype||(r.p.subgridtype=r.p.datatype),e.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,i):r.p.subgridtype=r.p.subgridtype.toLowerCase(),r.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:r.p.mtype,url:e.isFunction(r.p.subGridUrl)?r.p.subGridUrl.call(r,i):r.p.subGridUrl,dataType:r.p.subgridtype,data:e.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,i):i,complete:function(t){"xml"===r.p.subgridtype?d(t.responseXML,n):v(e.jgrid.parse(t.responseText),n),t=null}},e.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}return!1},g=0;e.each(r.p.colModel,function(){(this.hidden===!0||"rn"===this.name||"cb"===this.name)&&g++});var y,w=r.rows.length,E=1,S=e.isFunction(r.p.isHasSubGrid);for(void 0!==n&&n>0&&(E=n,w=n+1);w>E;){if(e(r.rows[E]).hasClass("jqgrow")){if(r.p.scroll&&e(r.rows[E].cells[t]).unbind("click"),y=null,S)var y=r.p.isHasSubGrid.call(r,r.rows[E].id);y===!1?r.rows[E].cells[t].innerHTML="":e(r.rows[E].cells[t]).bind("click",function(){var n=e(this).parent("tr")[0];if(s=r.p.id,i=n.id,f=e("#"+s+"_"+i+"_expandedContent"),e(this).hasClass("sgcollapsed")){if(u=e(r).triggerHandler("jqGridSubGridBeforeExpand",[s+"_"+i,i]),u=u===!1||"stop"===u?!1:!0,u&&e.isFunction(r.p.subGridBeforeExpand)&&(u=r.p.subGridBeforeExpand.call(r,s+"_"+i,i)),u===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0||r.p.subGridOptions.reloadOnExpand===!1&&!f.hasClass("ui-subgrid")?(o=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",e(n).after("<tr role='row' id='"+s+"_"+i+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+o+"<td class='"+h.content+" subgrid-cell'><span class='"+h.icon_base+" "+r.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(r.p.colNames.length-1-g,10)+"' class='"+h.content+" subgrid-data'><div id="+s+"_"+i+" class='tablediv'></div></td></tr>"),e(r).triggerHandler("jqGridSubGridRowExpanded",[s+"_"+i,i]),e.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,s+"_"+i,i):m(n)):f.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),e(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+h.icon_base+" "+r.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),r.p.subGridOptions.selectOnExpand&&e(r).jqGrid("setSelection",i)}else if(e(this).hasClass("sgexpanded")){if(u=e(r).triggerHandler("jqGridSubGridRowColapsed",[s+"_"+i,i]),u=u===!1||"stop"===u?!1:!0,u&&e.isFunction(r.p.subGridRowColapsed)&&(u=r.p.subGridRowColapsed.call(r,s+"_"+i,i)),u===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?f.remove(".ui-subgrid"):f.hasClass("ui-subgrid")&&f.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),e(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+h.icon_base+" "+r.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),r.p.subGridOptions.selectOnCollapse&&e(r).jqGrid("setSelection",i)}return!1})}E++}r.p.subGridOptions.expandOnLoad===!0&&e(r.rows).filter(".jqgrow").each(function(t,n){e(n.cells[0]).click()}),r.subGridXml=function(e,t){d(e,t)},r.subGridJson=function(e,t){v(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var n=this;if((n.grid||t)&&n.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var i=e("td.sgcollapsed",r)[0];i&&e(i).trigger("click")}}})},collapseSubGridRow:function(t){return this.each(function(){var n=this;if((n.grid||t)&&n.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var i=e("td.sgexpanded",r)[0];i&&e(i).trigger("click")}}})},toggleSubGridRow:function(t){return this.each(function(){var n=this;if((n.grid||t)&&n.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var i=e("td.sgcollapsed",r)[0];i?e(i).trigger("click"):(i=e("td.sgexpanded",r)[0],i&&e(i).trigger("click"))}}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,n,r,i=this,s=i.p.colModel,o=i.p.groupingView,u=e.jgrid.styleUI[i.p.styleUI||"jQueryUI"].grouping;if(null===o||"object"!=typeof o&&!e.isFunction(o))i.p.grouping=!1;else if(o.plusicon||(o.plusicon=u.icon_plus),o.minusicon||(o.minusicon=u.icon_minus),o.groupField.length){for(void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),o.lastvalues=[],o._locgr||(o.groups=[]),o.counters=[],t=0;t<o.groupField.length;t++)o.groupOrder[t]||(o.groupOrder[t]="asc"),o.groupText[t]||(o.groupText[t]="{0}"),"boolean"!=typeof o.groupColumnShow[t]&&(o.groupColumnShow[t]=!0),"boolean"!=typeof o.groupSummary[t]&&(o.groupSummary[t]=!1),o.groupSummaryPos[t]||(o.groupSummaryPos[t]="footer"),o.groupColumnShow[t]===!0?(o.visibiltyOnNextGrouping[t]=!0,e(i).jqGrid("showCol",o.groupField[t])):(o.visibiltyOnNextGrouping[t]=e("#"+e.jgrid.jqID(i.p.id+"_"+o.groupField[t])).is(":visible"),e(i).jqGrid("hideCol",o.groupField[t]));for(o.summary=[],o.hideFirstGroupCol&&e.isArray(o.formatDisplayField)&&!e.isFunction(o.formatDisplayField[0])&&(o.formatDisplayField[0]=function(e){return e}),n=0,r=s.length;r>n;n++)o.hideFirstGroupCol&&(s[n].hidden||o.groupField[0]!==s[n].name||(s[n].formatter=function(){return""})),s[n].summaryType&&(s[n].summaryDivider?o.summary.push({nm:s[n].name,st:s[n].summaryType,v:"",sd:s[n].summaryDivider,vd:"",sr:s[n].summaryRound,srt:s[n].summaryRoundType||"round"}):o.summary.push({nm:s[n].name,st:s[n].summaryType,v:"",sr:s[n].summaryRound,srt:s[n].summaryRoundType||"round"}))}else i.p.grouping=!1})},groupingPrepare:function(t,n){return this.each(function(){var r,i,s,o,u,f=this.p.groupingView,l=this,h=function(){e.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,t):(this.v=e(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))},p=f.groupField.length,d=0;for(r=0;p>r;r++)i=f.groupField[r],o=f.displayField[r],s=t[i],u=null==o?null:t[o],null==u&&(u=s),void 0!==s&&(0===n?(f.groups.push({idx:r,dataIndex:i,value:s,displayValue:u,startRow:n,cnt:1,summary:[]}),f.lastvalues[r]=s,f.counters[r]={cnt:1,pos:f.groups.length-1,summary:e.extend(!0,[],f.summary)},e.each(f.counters[r].summary,h),f.groups[f.counters[r].pos].summary=f.counters[r].summary):"object"==typeof s||(e.isArray(f.isInTheSameGroup)&&e.isFunction(f.isInTheSameGroup[r])?f.isInTheSameGroup[r].call(l,f.lastvalues[r],s,r,f):f.lastvalues[r]===s)?1===d?(f.groups.push({idx:r,dataIndex:i,value:s,displayValue:u,startRow:n,cnt:1,summary:[]}),f.lastvalues[r]=s,f.counters[r]={cnt:1,pos:f.groups.length-1,summary:e.extend(!0,[],f.summary)},e.each(f.counters[r].summary,h),f.groups[f.counters[r].pos].summary=f.counters[r].summary):(f.counters[r].cnt+=1,f.groups[f.counters[r].pos].cnt=f.counters[r].cnt,e.each(f.counters[r].summary,h),f.groups[f.counters[r].pos].summary=f.counters[r].summary):(f.groups.push({idx:r,dataIndex:i,value:s,displayValue:u,startRow:n,cnt:1,summary:[]}),f.lastvalues[r]=s,d=1,f.counters[r]={cnt:1,pos:f.groups.length-1,summary:e.extend(!0,[],f.summary)},e.each(f.counters[r].summary,h),f.groups[f.counters[r].pos].summary=f.counters[r].summary))}),this},groupingToggle:function(t){return this.each(function(){var n=this,r=n.p.groupingView,i=t.split("_"),s=parseInt(i[i.length-2],10);i.splice(i.length-2,2);var o,u,f=i.join("_"),l=r.minusicon,c=r.plusicon,h=e("#"+e.jgrid.jqID(t)),p=h.length?h[0].nextSibling:null,d=e("#"+e.jgrid.jqID(t)+" span.tree-wrap-"+n.p.direction),v=function(t){var n=e.map(t.split(" "),function(e){return e.substring(0,f.length+1)===f+"_"?parseInt(e.substring(f.length+1),10):void 0});return n.length>0?n[0]:void 0},m=!1,g=!1,y=n.p.frozenColumns?n.p.id+"_frozen":!1,w=y?e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(y)):!1,E=w&&w.length?w[0].nextSibling:null;if(d.hasClass(l)){if(r.showSummaryOnHide){if(p)for(;p&&(o=v(p.className),!(void 0!==o&&s>=o));)e(p).hide(),p=p.nextSibling,y&&(e(E).hide(),E=E.nextSibling)}else if(p)for(;p&&(o=v(p.className),!(void 0!==o&&s>=o));)e(p).hide(),p=p.nextSibling,y&&(e(E).hide(),E=E.nextSibling);d.removeClass(l).addClass(c),m=!0}else{if(p)for(u=void 0;p;){if(o=v(p.className),void 0===u&&(u=void 0===o),g=e(p).hasClass("ui-subgrid")&&e(p).hasClass("ui-sg-collapsed"),void 0!==o){if(s>=o)break;o===s+1&&(g||(e(p).show().find(">td>span.tree-wrap-"+n.p.direction).removeClass(l).addClass(c),y&&e(E).show().find(">td>span.tree-wrap-"+n.p.direction).removeClass(l).addClass(c)))}else u&&(g||(e(p).show(),y&&e(E).show()));p=p.nextSibling,y&&(E=E.nextSibling)}d.removeClass(c).addClass(l)}e(n).triggerHandler("jqGridGroupingClickGroup",[t,m]),e.isFunction(n.p.onClickGroup)&&n.p.onClickGroup.call(n,t,m)}),!1},groupingRender:function(t,n,r,i){return this.each(function(){function s(e,t,n){var r,i=!1;if(0===t)i=n[e];else{var s=n[e].idx;if(0===s)i=n[e];else for(r=e;r>=0;r--)if(n[r].idx===s-t){i=n[r];break}}return i}function o(t,r,i,o){var u,f,l=s(t,r,i),p=h.p.colModel,d=l.cnt,v="";for(f=o;n>f;f++){var m="<td "+h.formatCol(f,1,"")+">&#160;</td>",g="{0}";e.each(l.summary,function(){if(this.nm===p[f].name){p[f].summaryTpl&&(g=p[f].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&d>0&&(this.v=this.v/d));try{this.groupCount=l.cnt,this.groupIndex=l.dataIndex,this.groupValue=l.value,u=h.formatter("",this.v,f,this)}catch(t){u=this.v}return m="<td "+h.formatCol(f,1,"")+">"+e.jgrid.template(g,u)+"</td>",!1}}),v+=m}return v}var u,f,l,h=this,p=h.p.groupingView,v="",m="",g=p.groupCollapse?p.plusicon:p.minusicon,y=[],w=p.groupField.length,E=e.jgrid.styleUI[h.p.styleUI||"jQueryUI"].common;g=g+" tree-wrap-"+h.p.direction,e.each(h.p.colModel,function(e,t){var n;for(n=0;w>n;n++)if(p.groupField[n]===t.name){y[n]=e;break}});var S,x=0,T=e.makeArray(p.groupSummary);T.reverse(),S=h.p.multiselect?' colspan="2"':"",e.each(p.groups,function(s,N){if(p._locgr&&!(N.startRow+N.cnt>(r-1)*i&&N.startRow<r*i))return!0;x++,f=h.p.id+"ghead_"+N.idx,u=f+"_"+s,m="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+E.icon_base+" "+g+"' onclick=\"jQuery('#"+e.jgrid.jqID(h.p.id)+"').jqGrid('groupingToggle','"+u+"');return false;\"></span>";try{e.isArray(p.formatDisplayField)&&e.isFunction(p.formatDisplayField[N.idx])?(N.displayValue=p.formatDisplayField[N.idx].call(h,N.displayValue,N.value,h.p.colModel[y[N.idx]],N.idx,p),l=N.displayValue):l=h.formatter(u,N.displayValue,y[N.idx],N.value)}catch(C){l=N.displayValue}var L="";L=e.isFunction(p.groupText[N.idx])?p.groupText[N.idx].call(h,l,N.cnt,N.summary):e.jgrid.template(p.groupText[N.idx],l,N.cnt,N.summary),"string"!=typeof L&&"number"!=typeof L&&(L=l),"header"===p.groupSummaryPos[N.idx]?(v+='<tr id="'+u+'"'+(p.groupCollapse&&N.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+E.content+" jqgroup ui-row-"+h.p.direction+" "+f+'"><td style="padding-left:'+12*N.idx+'px;"'+S+">"+m+L+"</td>",v+=o(s,0,p.groups,p.groupColumnShow[N.idx]===!1?""===S?2:3:""===S?1:2),v+="</tr>"):v+='<tr id="'+u+'"'+(p.groupCollapse&&N.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+E.content+" jqgroup ui-row-"+h.p.direction+" "+f+'"><td style="padding-left:'+12*N.idx+'px;" colspan="'+(p.groupColumnShow[N.idx]===!1?n-1:n)+'">'+m+L+"</td></tr>";var A=w-1===N.idx;if(A){var O,M,_=p.groups[s+1],D=0,P=N.startRow,H=void 0!==_?_.startRow:p.groups[s].startRow+p.groups[s].cnt;for(p._locgr&&(D=(r-1)*i,D>N.startRow&&(P=D)),O=P;H>O&&t[O-D];O++)v+=t[O-D].join("");if("header"!==p.groupSummaryPos[N.idx]){var B;if(void 0!==_){for(B=0;B<p.groupField.length&&_.dataIndex!==p.groupField[B];B++);x=p.groupField.length-B}for(M=0;x>M;M++)if(T[M]){var F="";p.groupCollapse&&!p.showSummaryOnHide&&(F=' style="display:none;"'),v+="<tr"+F+' jqfootlevel="'+(N.idx-M)+'" role="row" class="'+E.content+" jqfoot ui-row-"+h.p.direction+'">',v+=o(s,M,p.groups,0),v+="</tr>"}x=B}}}),e("#"+e.jgrid.jqID(h.p.id)+" tbody:first").append(v),v=null})},groupingGroupBy:function(t,n){return this.each(function(){var r=this;"string"==typeof t&&(t=[t]);var i=r.p.groupingView;r.p.grouping=!0,i._locgr=!1,void 0===i.visibiltyOnNextGrouping&&(i.visibiltyOnNextGrouping=[]);var s;for(s=0;s<i.groupField.length;s++)!i.groupColumnShow[s]&&i.visibiltyOnNextGrouping[s]&&e(r).jqGrid("showCol",i.groupField[s]);for(s=0;s<t.length;s++)i.visibiltyOnNextGrouping[s]=e("#"+e.jgrid.jqID(r.p.id)+"_"+e.jgrid.jqID(t[s])).is(":visible");r.p.groupingView=e.extend(r.p.groupingView,n||{}),i.groupField=t,e(r).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var n=this;if(void 0===t&&(t=!0),n.p.grouping=!1,t===!0){var r,i=n.p.groupingView;for(r=0;r<i.groupField.length;r++)!i.groupColumnShow[r]&&i.visibiltyOnNextGrouping[r]&&e(n).jqGrid("showCol",i.groupField);e("tr.jqgroup, tr.jqfoot","#"+e.jgrid.jqID(n.p.id)+" tbody:first").remove(),e("tr.jqgrow:hidden","#"+e.jgrid.jqID(n.p.id)+" tbody:first").show()}else e(n).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,n,r,i,s){var o={sum:function(){return parseFloat(t||0)+parseFloat(s[n]||0)},min:function(){return""===t?parseFloat(s[n]||0):Math.min(parseFloat(t),parseFloat(s[n]||0))},max:function(){return""===t?parseFloat(s[n]||0):Math.max(parseFloat(t),parseFloat(s[n]||0))},count:function(){return""===t&&(t=0),s.hasOwnProperty(n)?t+1:0},avg:function(){return o.sum()}};if(!o[e])throw"jqGrid Grouping No such method: "+e;var u=o[e]();if(null!=r)if("fixed"===i)u=u.toFixed(r);else{var a=Math.pow(10,r);u=Math.round(u*a)/a}return u}},setGroupHeaders:function(t){return t=e.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){var n,r,i,s,o,u,f,l,c,h,p,d,v,m,g=this,y=0,w=g.p.colModel,E=w.length,S=g.grid.headers,x=e("table.ui-jqgrid-htable",g.grid.hDiv),T=x.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),N=x.children("thead"),C=x.find(".jqg-first-row-header"),k=e.jgrid.styleUI[g.p.styleUI||"jQueryUI"].base;g.p.groupHeader||(g.p.groupHeader=[]),g.p.groupHeader.push(t),void 0===C[0]?C=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):C.empty();var L,A=function(e,t){var n,r=t.length;for(n=0;r>n;n++)if(t[n].startColumnName===e)return n;return-1};for(e(g).prepend(N),i=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),n=0;E>n;n++)if(o=S[n].el,u=e(o),r=w[n],f={height:"0px",width:S[n].width+"px",display:r.hidden?"none":""},e("<th>",{role:"gridcell"}).css(f).addClass("ui-first-th-"+g.p.direction).appendTo(C),o.style.width="",l=A(r.name,t.groupHeaders),l>=0){for(c=t.groupHeaders[l],h=c.numberOfColumns,p=c.titleText,v=c.className||"",d=0,l=0;h>l&&E>n+l;l++)w[n+l].hidden||d++;s=e("<th>").attr({role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction+" "+v).html(p),d>0&&s.attr("colspan",String(d)),g.p.headertitles&&s.attr("title",s.text()),0===d&&s.hide(),u.before(s),i.append(o),y=h-1}else 0===y?t.useColSpanStyle?u.attr("rowspan","2"):(e("<th>",{role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction).css({display:r.hidden?"none":""}).insertBefore(u),i.append(o)):(i.append(o),y--);m=e(g).children("thead"),m.prepend(C),i.insertAfter(T),x.append(m),t.useColSpanStyle&&(x.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),x.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),n=t.parent();n.is(":visible")&&n.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(n.height()-t.outerHeight())/2-4+"px")})),L=m.find("tr.jqg-first-row-header"),e(g).bind("jqGridResizeStop.setGroupHeaders",function(e,t,n){L.find("th").eq(n)[0].style.width=t+"px"})})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var n,r,i,s,o,u,f,l=this,c=l.grid,h=e("table.ui-jqgrid-htable thead",c.hDiv),p=l.p.colModel;if(c){for(e(this).unbind(".setGroupHeaders"),n=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),s=c.headers,r=0,i=s.length;i>r;r++){f=p[r].hidden?"none":"",o=e(s[r].el).width(s[r].width).css("display",f);try{o.removeAttr("rowSpan")}catch(d){o.attr("rowSpan",1)}n.append(o),u=o.children("span.ui-jqgrid-resize"),u.length>0&&(u[0].style.height=""),o.children("div")[0].style.top=""}e(h).children("tr.ui-jqgrid-labels").remove(),e(h).prepend(n),t===!0&&e(l).jqGrid("setGridParam",{groupHeader:null})}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({setTreeNode:function(t,n){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)for(var i,s,o,u,f,l,h,p,d=r.p.expColInd,v=r.p.treeReader.expanded_field,m=r.p.treeReader.leaf_field,g=r.p.treeReader.level_field,y=r.p.treeReader.icon_field,w=r.p.treeReader.loaded,E=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;n>t;){var S,x=e.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),T=r.p._index[x];h=r.p.data[T],"nested"===r.p.treeGridModel&&(h[m]||(i=parseInt(h[r.p.treeReader.left_field],10),s=parseInt(h[r.p.treeReader.right_field],10),h[m]=s===i+1?"true":"false",r.rows[t].cells[r.p._treeleafpos].innerHTML=h[m])),o=parseInt(h[g],10),0===r.p.tree_root_level?(u=o+1,f=o):(u=o,f=o-1),l="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*u+"px;'>",l+="<div style='"+("rtl"===r.p.direction?"right:":"left:")+18*f+"px;' class='"+E.icon_base+" ",void 0!==h[w]&&("true"===h[w]||h[w]===!0?h[w]=!0:h[w]=!1),"true"===h[m]||h[m]===!0?(l+=(void 0!==h[y]&&""!==h[y]?h[y]:r.p.treeIcons.leaf)+" tree-leaf treeclick",h[m]=!0,p="leaf"):(h[m]=!1,p=""),h[v]=("true"===h[v]||h[v]===!0?!0:!1)&&(h[w]||void 0===h[w]),l+=h[v]===!1?h[m]===!0?"'":r.p.treeIcons.plus+" tree-plus treeclick'":h[m]===!0?"'":r.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",e(r.rows[t].cells[d]).wrapInner("<span class='cell-wrapper"+p+"'></span>").prepend(l),o!==parseInt(r.p.tree_root_level,10)&&(S=e(r).jqGrid("isVisibleNode",h),S||e(r.rows[t]).css("display","none")),e(r.rows[t].cells[d]).find("div.treeclick").bind("click",function(t){var n=t.target||t.srcElement,i=e.jgrid.stripPref(r.p.idPrefix,e(n,r.rows).closest("tr.jqgrow")[0].id),s=r.p._index[i];return r.p.data[s][m]||(r.p.data[s][v]?(e(r).jqGrid("collapseRow",r.p.data[s]),e(r).jqGrid("collapseNode",r.p.data[s])):(e(r).jqGrid("expandRow",r.p.data[s]),e(r).jqGrid("expandNode",r.p.data[s]))),!1}),r.p.ExpandColClick===!0&&e(r.rows[t].cells[d]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var n=t.target||t.srcElement,i=e.jgrid.stripPref(r.p.idPrefix,e(n,r.rows).closest("tr.jqgrow")[0].id),s=r.p._index[i];return r.p.data[s][m]||(r.p.data[s][v]?(e(r).jqGrid("collapseRow",r.p.data[s]),e(r).jqGrid("collapseNode",r.p.data[s])):(e(r).jqGrid("expandRow",r.p.data[s]),e(r).jqGrid("expandNode",r.p.data[s]))),e(r).jqGrid("setSelection",i),!1}),t++}})},setTreeGrid:function(){return this.each(function(){var t,n,r,i,s=this,o=0,u=!1,f=[],l=e.jgrid.styleUI[s.p.styleUI||"jQueryUI"].treegrid;if(s.p.treeGrid){s.p.treedatatype||e.extend(s.p,{treedatatype:s.p.datatype}),s.p.loadonce&&(s.p.treedatatype="local"),s.p.subGrid=!1,s.p.altRows=!1,s.p.pgbuttons=!1,s.p.pginput=!1,s.p.gridview=!0,null===s.p.rowTotal&&(s.p.rowNum=1e4),s.p.multiselect=!1,s.p.rowList=[],s.p.expColInd=0,t=l.icon_plus,"jQueryUI"===s.p.styleUI&&(t+="rtl"===s.p.direction?"w":"e"),s.p.treeIcons=e.extend({plus:t,minus:l.icon_minus,leaf:l.icon_leaf},s.p.treeIcons||{}),"nested"===s.p.treeGridModel?s.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},s.p.treeReader):"adjacency"===s.p.treeGridModel&&(s.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},s.p.treeReader));for(r in s.p.colModel)if(s.p.colModel.hasOwnProperty(r)){n=s.p.colModel[r].name,n!==s.p.ExpandColumn||u||(u=!0,s.p.expColInd=o),o++;for(i in s.p.treeReader)s.p.treeReader.hasOwnProperty(i)&&s.p.treeReader[i]===n&&f.push(n)}e.each(s.p.treeReader,function(t,n){n&&-1===e.inArray(n,f)&&("leaf_field"===t&&(s.p._treeleafpos=o),o++,s.p.colNames.push(n),s.p.colModel.push({name:n,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var n=this;if(n.grid&&n.p.treeGrid){var r=e(n).jqGrid("getNodeChildren",t),i=n.p.treeReader.expanded_field,s=t[n.p.localReader.id],o=e.isFunction(n.p.beforeExpandTreeGridRow)?n.p.beforeExpandTreeGridRow.call(n,s,t,r):!0;o!==!1&&(e(r).each(function(){var t=n.p.idPrefix+e.jgrid.getAccessor(this,n.p.localReader.id);e(e(n).jqGrid("getGridRowById",t)).css("display",""),this[i]&&e(n).jqGrid("expandRow",this)}),e.isFunction(n.p.afterExpandTreeGridRow)&&n.p.afterExpandTreeGridRow.call(n,s,t,r))}})},collapseRow:function(t){this.each(function(){var n=this;if(n.grid&&n.p.treeGrid){var r=e(n).jqGrid("getNodeChildren",t),i=n.p.treeReader.expanded_field,s=t[n.p.localReader.id],o=e.isFunction(n.p.beforeCollapseTreeGridRow)?n.p.beforeCollapseTreeGridRow.call(n,s,t,r):!0;o!==!1&&(e(r).each(function(){var t=n.p.idPrefix+e.jgrid.getAccessor(this,n.p.localReader.id);e(e(n).jqGrid("getGridRowById",t)).css("display","none"),this[i]&&e(n).jqGrid("collapseRow",this)}),e.isFunction(n.p.afterCollapseTreeGridRow)&&n.p.afterCollapseTreeGridRow.call(n,s,t,r))}})},getRootNodes:function(t){var n=[];return this.each(function(){var r,i,s,o=this;if(o.grid&&o.p.treeGrid)switch("boolean"!=typeof t&&(t=!1),s=t?e(o).jqGrid("getRowData",null,!0):o.p.data,o.p.treeGridModel){case"nested":r=o.p.treeReader.level_field,e(s).each(function(){parseInt(this[r],10)===parseInt(o.p.tree_root_level,10)&&(t?n.push(o.p.data[o.p._index[this[o.p.keyName]]]):n.push(this))});break;case"adjacency":i=o.p.treeReader.parent_id_field,e(s).each(function(){(null===this[i]||"null"===String(this[i]).toLowerCase())&&(t?n.push(o.p.data[o.p._index[this[o.p.keyName]]]):n.push(this))})}}),n},getNodeDepth:function(t){var n=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this;switch(r.p.treeGridModel){case"nested":var i=r.p.treeReader.level_field;n=parseInt(t[i],10)-parseInt(r.p.tree_root_level,10);break;case"adjacency":n=e(r).jqGrid("getNodeAncestors",t).length}}}),n},getNodeParent:function(t){var n=null;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var i=r.p.treeReader.left_field,s=r.p.treeReader.right_field,o=r.p.treeReader.level_field,u=parseInt(t[i],10),f=parseInt(t[s],10),l=parseInt(t[o],10);e(this.p.data).each(function(){return parseInt(this[o],10)===l-1&&parseInt(this[i],10)<u&&parseInt(this[s],10)>f?(n=this,!1):void 0});break;case"adjacency":for(var h=r.p.treeReader.parent_id_field,p=r.p.localReader.id,d=t[p],v=r.p._index[d];v--;)if(r.p.data[v][p]===e.jgrid.stripPref(r.p.idPrefix,t[h])){n=r.p.data[v];break}}}),n},getNodeChildren:function(t,n){var r=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s,o,u=n?this.rows.length:this.p.data.length;switch(i.p.treeGridModel){case"nested":var f=i.p.treeReader.left_field,l=i.p.treeReader.right_field,h=i.p.treeReader.level_field,p=parseInt(t[f],10),v=parseInt(t[l],10),m=parseInt(t[h],10);for(s=0;u>s;s++)o=n?i.p.data[i.p._index[this.rows[s].id]]:i.p.data[s],o&&parseInt(o[h],10)===m+1&&parseInt(o[f],10)>p&&parseInt(o[l],10)<v&&r.push(o);break;case"adjacency":var g=i.p.treeReader.parent_id_field,y=i.p.localReader.id;for(s=0;u>s;s++)o=n?i.p.data[i.p._index[this.rows[s].id]]:i.p.data[s],o&&String(o[g])===e.jgrid.stripPref(i.p.idPrefix,t[y])&&r.push(o)}}}),r},getFullTreeNode:function(t,n){var r=[];return this.each(function(){var i,s=this,o=s.p.treeReader.expanded_field;if(s.grid&&s.p.treeGrid)switch((null==n||"boolean"!=typeof n)&&(n=!1),s.p.treeGridModel){case"nested":var u=s.p.treeReader.left_field,f=s.p.treeReader.right_field,l=s.p.treeReader.level_field,h=parseInt(t[u],10),p=parseInt(t[f],10),v=parseInt(t[l],10);e(this.p.data).each(function(){parseInt(this[l],10)>=v&&parseInt(this[u],10)>=h&&parseInt(this[u],10)<=p&&(n&&(this[o]=!0),r.push(this))});break;case"adjacency":if(t){r.push(t);var m=s.p.treeReader.parent_id_field,g=s.p.localReader.id;e(this.p.data).each(function(t){for(i=r.length,t=0;i>t;t++)if(e.jgrid.stripPref(s.p.idPrefix,r[t][g])===this[m]){n&&(this[o]=!0),r.push(this);break}})}}}),r},getNodeAncestors:function(t,n,r){var i=[];return void 0===n&&(n=!1),this.each(function(){if(this.grid&&this.p.treeGrid){r=void 0===r?!1:this.p.treeReader.expanded_field;for(var s=e(this).jqGrid("getNodeParent",t);s;){if(r)try{s[r]=!0}catch(o){}n?i.unshift(s):i.push(s),s=e(this).jqGrid("getNodeParent",s)}}}),i},isVisibleNode:function(t){var n=!0;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var i=e(r).jqGrid("getNodeAncestors",t),s=r.p.treeReader.expanded_field;e(i).each(function(){return n=n&&this[s],n?void 0:!1})}}),n},isNodeLoaded:function(t){var n;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var i=r.p.treeReader.leaf_field,s=r.p.treeReader.loaded;n=void 0!==t?void 0!==t[s]?t[s]:t[i]||e(r).jqGrid("getNodeChildren",t).length>0?!0:!1:!1}}),n},reloadNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var n=this.p.localReader.id,r=this.p.selrow;e(this).jqGrid("delChildren",t[n]);var i=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,o=this.p.treeReader.loaded,u=this.p.treeReader.level_field,f=this.p.treeReader.left_field,l=this.p.treeReader.right_field,c=e.jgrid.getAccessor(t,this.p.localReader.id),h=e("#"+c,this.grid.bDiv)[0];t[i]=!0,e("div.treeclick",h).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=h.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:c,n_left:t[f],n_right:t[l],n_level:t[u]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:c,parentid:t[s],n_level:t[u]}}),e(this).trigger("reloadGrid"),t[o]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var n=this.p.treeReader.expanded_field,r=this.p.treeReader.parent_id_field,i=this.p.treeReader.loaded,s=this.p.treeReader.level_field,o=this.p.treeReader.left_field,u=this.p.treeReader.right_field;if(!t[n]){var f=e.jgrid.getAccessor(t,this.p.localReader.id),l=e("#"+this.p.idPrefix+e.jgrid.jqID(f),this.grid.bDiv)[0],c=this.p._index[f],h=e.isFunction(this.p.beforeExpandTreeGridNode)?this.p.beforeExpandTreeGridNode.call(this,f,t):!0;if(h===!1)return;e(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[n]=!0,e("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[n]=!0,e("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=l.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:f,n_left:t[o],n_right:t[u],n_level:t[s]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:f,parentid:t[r],n_level:t[s]}}),e(this).trigger("reloadGrid"),t[i]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),e.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,f,t)}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var n=this.p.treeReader.expanded_field;if(t[n]){var r=e.jgrid.getAccessor(t,this.p.localReader.id),i=e.isFunction(this.p.beforeCollapseTreeGridNode)?this.p.beforeCollapseTreeGridNode.call(this,r,t):!0,s=e("#"+this.p.idPrefix+e.jgrid.jqID(r),this.grid.bDiv)[0];if(t[n]=!1,i===!1)return;e("div.treeclick",s).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),e.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,r,t)}}})},SortTree:function(t,n,r,i){return this.each(function(){if(this.grid&&this.p.treeGrid){var s,o,u,f,l,h=[],p=this,v=e(this).jqGrid("getRootNodes",p.p.search);for(f=e.jgrid.from.call(this,v),f.orderBy(t,n,r,i),l=f.select(),s=0,o=l.length;o>s;s++)u=l[s],h.push(u),e(this).jqGrid("collectChildrenSortTree",h,u,t,n,r,i);e.each(h,function(t){var n=e.jgrid.getAccessor(this,p.p.localReader.id);e("#"+e.jgrid.jqID(p.p.id)+" tbody tr:eq("+t+")").after(e("tr#"+e.jgrid.jqID(n),p.grid.bDiv))}),f=null,l=null,h=null}})},searchTree:function(t){var n,r,i,s,o,u,f=t.length||0,l=[],c=[],h=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&f)for(n=this.p.localReader.id;f--;)if(l=e(this).jqGrid("getNodeAncestors",t[f],!0,!0),l.push(t[f]),r=l[0][n],-1===e.inArray(r,c))c.push(r),h=h.concat(l);else for(o=0,i=l.length;i>o;o++){var p=!1;for(u=0,s=h.length;s>u;u++)if(l[o][n]===h[u][n]){p=!0;break}p||h.push(l[o])}}),h},collectChildrenSortTree:function(t,n,r,i,s,o){return this.each(function(){if(this.grid&&this.p.treeGrid){var u,l,h,p,v,m;for(p=e(this).jqGrid("getNodeChildren",n,this.p.search),v=e.jgrid.from.call(this,p),v.orderBy(r,i,s,o),m=v.select(),u=0,l=m.length;l>u;u++)h=m[u],t.push(h),e(this).jqGrid("collectChildrenSortTree",t,h,r,i,s,o)}})},setTreeRow:function(t,n){var r=!1;return this.each(function(){var i=this;i.grid&&i.p.treeGrid&&(r=e(i).jqGrid("setRowData",t,n))}),r},delTreeNode:function(t){return this.each(function(){var n,r,i,s,o,u=this,f=u.p.localReader.id,l=u.p.treeReader.left_field,c=u.p.treeReader.right_field;if(u.grid&&u.p.treeGrid){var h=u.p._index[t];if(void 0!==h){r=parseInt(u.p.data[h][c],10),i=r-parseInt(u.p.data[h][l],10)+1;var p=e(u).jqGrid("getFullTreeNode",u.p.data[h]);if(p.length>0)for(n=0;n<p.length;n++)e(u).jqGrid("delRowData",p[n][f]);if("nested"===u.p.treeGridModel){if(s=e.jgrid.from.call(u,u.p.data).greater(l,r,{stype:"integer"}).select(),s.length)for(o in s)s.hasOwnProperty(o)&&(s[o][l]=parseInt(s[o][l],10)-i);if(s=e.jgrid.from.call(u,u.p.data).greater(c,r,{stype:"integer"}).select(),s.length)for(o in s)s.hasOwnProperty(o)&&(s[o][c]=parseInt(s[o][c],10)-i)}}}})},delChildren:function(t){return this.each(function(){var n,r,i,s,o=this,u=o.p.localReader.id,f=o.p.treeReader.left_field,l=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var c=o.p._index[t];if(void 0!==c){n=parseInt(o.p.data[c][l],10),r=n-parseInt(o.p.data[c][f],10)+1;var h=e(o).jqGrid("getFullTreeNode",o.p.data[c]);if(h.length>0)for(var p=0;p<h.length;p++)h[p][u]!==t&&e(o).jqGrid("delRowData",h[p][u]);if("nested"===o.p.treeGridModel){if(i=e.jgrid.from(o.p.data).greater(f,n,{stype:"integer"}).select(),i.length)for(s in i)i.hasOwnProperty(s)&&(i[s][f]=parseInt(i[s][f],10)-r);if(i=e.jgrid.from(o.p.data).greater(l,n,{stype:"integer"}).select(),i.length)for(s in i)i.hasOwnProperty(s)&&(i[s][l]=parseInt(i[s][l],10)-r)}}}})},addChildNode:function(t,n,r,i){var s=this[0];if(r){var o,u,f,l,c,h,p,d,v=s.p.treeReader.expanded_field,m=s.p.treeReader.leaf_field,g=s.p.treeReader.level_field,y=s.p.treeReader.parent_id_field,b=s.p.treeReader.left_field,w=s.p.treeReader.right_field,E=s.p.treeReader.loaded,S=0,x=n;if(void 0===i&&(i=!1),null==t){if(c=s.p.data.length-1,c>=0)for(;c>=0;)S=Math.max(S,parseInt(s.p.data[c][s.p.localReader.id],10)),c--;t=S+1}var T=e(s).jqGrid("getInd",n);if(p=!1,void 0===n||null===n||""===n)n=null,x=null,o="last",l=s.p.tree_root_level,c=s.p.data.length+1;else{o="after",u=s.p._index[n],f=s.p.data[u],n=f[s.p.localReader.id],l=parseInt(f[g],10)+1;var N=e(s).jqGrid("getFullTreeNode",f);N.length?(c=N[N.length-1][s.p.localReader.id],x=c,c=e(s).jqGrid("getInd",x)+1):c=e(s).jqGrid("getInd",n)+1,f[m]&&(p=!0,f[v]=!0,e(s.rows[T]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(s.p.treeIcons.leaf+" tree-leaf").addClass(s.p.treeIcons.minus+" tree-minus"),s.p.data[u][m]=!1,f[E]=!0)}if(h=c+1,void 0===r[v]&&(r[v]=!1),void 0===r[E]&&(r[E]=!1),r[g]=l,void 0===r[m]&&(r[m]=!0),"adjacency"===s.p.treeGridModel&&(r[y]=n),"nested"===s.p.treeGridModel){var C,k,L;if(null!==n){if(d=parseInt(f[w],10),C=e.jgrid.from.call(s,s.p.data),C=C.greaterOrEquals(w,d,{stype:"integer"}),k=C.select(),k.length)for(L in k)k.hasOwnProperty(L)&&(k[L][b]=k[L][b]>d?parseInt(k[L][b],10)+2:k[L][b],k[L][w]=k[L][w]>=d?parseInt(k[L][w],10)+2:k[L][w]);r[b]=d,r[w]=d+1}else{if(d=parseInt(e(s).jqGrid("getCol",w,!1,"max"),10),k=e.jgrid.from.call(s,s.p.data).greater(b,d,{stype:"integer"}).select(),k.length)for(L in k)k.hasOwnProperty(L)&&(k[L][b]=parseInt(k[L][b],10)+2);if(k=e.jgrid.from.call(s,s.p.data).greater(w,d,{stype:"integer"}).select(),k.length)for(L in k)k.hasOwnProperty(L)&&(k[L][w]=parseInt(k[L][w],10)+2);r[b]=d+1,r[w]=d+2}}(null===n||e(s).jqGrid("isNodeLoaded",f)||p)&&(e(s).jqGrid("addRowData",t,r,o,x),e(s).jqGrid("setTreeNode",c,h)),f&&!f[v]&&i&&e(s.rows[T]).find("div.treeclick").click()}}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.grouping"],e):e(jQuery)}(function(e){"use strict";function t(e,t){var n,r,i,s=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(i=this.length,n=0;i>n;n++)if(this.hasOwnProperty(n)&&(r=this[n],e.call(t,r,n,this))){s.push(r);break}return s}e.assocArraySize=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},e.jgrid.extend({pivotSetup:function(n,r){var i=[],s=[],o=[],u=[],f=[],l={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},c=[],h=e.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},r||{});return this.each(function(){function r(e,n,r){var i;return i=t.call(e,n,r),i.length>0?i[0]:null}function p(e,t){var n,r=0,i=!0;for(n in e)if(e.hasOwnProperty(n)){if(e[n]!=this[r]){i=!1;break}if(r++,r>=this.length)break}return i&&(w=t),i}function d(e,t,n,r,i){var s;switch(e){case"sum":s=parseFloat(t||0)+parseFloat(r[n]||0);break;case"count":(""===t||null==t)&&(t=0),s=r.hasOwnProperty(n)?t+1:0;break;case"min":s=""===t||null==t?parseFloat(r[n]||0):Math.min(parseFloat(t),parseFloat(r[n]||0));break;case"max":s=""===t||null==t?parseFloat(r[n]||0):Math.max(parseFloat(t),parseFloat(r[n]||0));break;case"avg":s=(parseFloat(t||0)*(i-1)+parseFloat(r[n]||0))/i}return s}function v(t,n,r,i){var s,o,l,c,h=n.length,p="",v=[];for(e.isArray(r)?(c=r.length,v=r):(c=1,v[0]=r),u=[],f=[],u.root=0,i._count?i._count++:i._count=1,l=0;c>l;l++){var m,g=[];for(s=0;h>s;s++){if(null==r)o=e.trim(n[s].member)+"_"+n[s].aggregator,m=o,v[0]=n[s].label||n[s].aggregator+" "+e.trim(n[s].member);else{m=r[l].replace(/\s+/g,"");try{o=1===h?p+m:p+m+"_"+n[s].aggregator+"_"+String(s)}catch(y){}v[l]=r[l]}o=isNaN(parseInt(o,10))?o:o+" ",i[o]=g[o]=d(n[s].aggregator,i[o],n[s].member,t,i._count)}p+=r[l].replace(/\s+/g,""),u[o]=g,f[o]=v[l]}return i}function m(e){var t,n,r,s,o;for(r in e)if(e.hasOwnProperty(r)){if("object"!=typeof e[r]){if("level"===r){if(void 0===U[e.level]&&(U[e.level]="",e.level>0&&-1===e.text.indexOf("_r_Totals")&&(c[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),U[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&e.level>0){c[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var u=c[e.level-1].groupHeaders.length-1,a=0===u?W:z;if(e.level-1===(h.rowTotals?1:0)&&u>0){for(var f=0,l=0;u>l;l++)f+=c[e.level-1].groupHeaders[l].numberOfColumns;f&&(a=f+S)}i[a]&&(c[e.level-1].groupHeaders[u].startColumnName=i[a].name,c[e.level-1].groupHeaders[u].numberOfColumns=i.length-a),z=i.length}U[e.level]=e.text}if(e.level===x&&"level"===r&&x>0)if(T>1){var p=1;for(t in e.fields)e.fields.hasOwnProperty(t)&&(1===p&&c[x-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),p++);c[x-1].groupHeaders[c[x-1].groupHeaders.length-1].numberOfColumns=p-1}else c.splice(x-1,1)}if(null!=e[r]&&"object"==typeof e[r]&&m(e[r]),"level"===r&&e.level>0&&(e.level===(0===x?e.level:x)||-1!==U[e.level].indexOf("_r_Totals"))){n=0;for(t in e.fields)if(e.fields.hasOwnProperty(t)){o={};for(s in h.aggregates[n])if(h.aggregates[n].hasOwnProperty(s))switch(s){case"member":case"label":case"aggregator":break;default:o[s]=h.aggregates[n][s]}T>1?(o.name=t,o.label=h.aggregates[n].label||e.label):(o.name=e.text,o.label="_r_Totals"===e.text?h.rowTotalsText:e.label),i.push(o),n++}}}}var y,w,E,S,x,T,N,C,L=n.length,A=0;if(h.rowTotals&&h.yDimension.length>0){var O=h.yDimension[0].dataName;h.yDimension.splice(0,0,{dataName:O}),h.yDimension[0].converter=function(){return"_r_Totals"}}if(S=e.isArray(h.xDimension)?h.xDimension.length:0,x=h.yDimension.length,T=e.isArray(h.aggregates)?h.aggregates.length:0,0===S||0===T)throw"xDimension or aggregates optiona are not set!";var M;for(E=0;S>E;E++)M={name:h.xDimension[E].dataName,frozen:h.frozenStaticCols},null==h.xDimension[E].isGroupField&&(h.xDimension[E].isGroupField=!0),M=e.extend(!0,M,h.xDimension[E]),i.push(M);for(var _=S-1,D={};L>A;){y=n[A];var P=[],H=[];N={},E=0;do P[E]=e.trim(y[h.xDimension[E].dataName]),N[h.xDimension[E].dataName]=P[E],E++;while(S>E);var B=0;if(w=-1,C=r(s,p,P)){if(w>=0){if(B=0,x>=1){for(B=0;x>B;B++)H[B]=e.trim(y[h.yDimension[B].dataName]),h.yDimension[B].converter&&e.isFunction(h.yDimension[B].converter)&&(H[B]=h.yDimension[B].converter.call(this,H[B],P,H));C=v(y,h.aggregates,H,C)}else 0===x&&(C=v(y,h.aggregates,null,C));s[w]=C}}else{if(B=0,x>=1){for(B=0;x>B;B++)H[B]=e.trim(y[h.yDimension[B].dataName]),h.yDimension[B].converter&&e.isFunction(h.yDimension[B].converter)&&(H[B]=h.yDimension[B].converter.call(this,H[B],P,H));N=v(y,h.aggregates,H,N)}else 0===x&&(N=v(y,h.aggregates,null,N));s.push(N)}var F,I=0,q=null,R=null;for(F in u)if(u.hasOwnProperty(F)){if(0===I)D.children&&void 0!==D.children||(D={text:F,level:0,children:[],label:F}),q=D.children;else{for(R=null,E=0;E<q.length;E++)if(q[E].text===F){R=q[E];break}R?q=R.children:(q.push({children:[],text:F,level:I,fields:u[F],label:f[F]}),q=q[q.length-1].children)}I++}A++}var U=[],z=i.length,W=z;x>0&&(c[x-1]={useColSpanStyle:!1,groupHeaders:[]}),m(D);var X;if(h.colTotals)for(var V=s.length;V--;)for(E=S;E<i.length;E++)X=i[E].name,o[X]?o[X]+=parseFloat(s[V][X]||0):o[X]=parseFloat(s[V][X]||0);if(_>0)for(E=0;_>E;E++)i[E].isGroupField&&(l.groupingView.groupField.push(i[E].name),l.groupingView.groupSummary.push(h.groupSummary),l.groupingView.groupSummaryPos.push(h.groupSummaryPos));else l.grouping=!1;l.sortname=i[_].name,l.groupingView.hideFirstGroupCol=!0}),{colModel:i,rows:s,groupOptions:l,groupHeaders:c,summary:o}},jqPivot:function(t,n,r,i){return this.each(function(){function s(t){var i,s,u,f,l=jQuery(o).jqGrid("pivotSetup",t,n),h=e.assocArraySize(l.summary)>0?!0:!1,p=e.jgrid.from.call(o,l.rows);for(n.ignoreCase&&(p=p.ignoreCase()),i=0;i<l.groupOptions.groupingView.groupField.length;i++)s=n.xDimension[i].sortorder?n.xDimension[i].sortorder:"asc",u=n.xDimension[i].sorttype?n.xDimension[i].sorttype:"text",p.orderBy(l.groupOptions.groupingView.groupField[i],s,u,"",u);f=n.xDimension.length,l.groupOptions.sortname&&f&&(s=n.xDimension[f-1].sortorder?n.xDimension[f-1].sortorder:"asc",u=n.xDimension[f-1].sorttype?n.xDimension[f-1].sorttype:"text",p.orderBy(l.groupOptions.sortname,s,u,"",u)),jQuery(o).jqGrid(e.extend(!0,{datastr:e.extend(p.select(),h?{userdata:l.summary}:{}),datatype:"jsonstring",footerrow:h,userDataOnFooter:h,colModel:l.colModel,viewrecords:!0,sortname:n.xDimension[0].dataName},l.groupOptions,r||{}));var v=l.groupHeaders;if(v.length)for(i=0;i<v.length;i++)v[i]&&v[i].groupHeaders.length&&jQuery(o).jqGrid("setGroupHeaders",v[i]);n.frozenStaticCols&&jQuery(o).jqGrid("setFrozenColumns")}var o=this;"string"==typeof t?e.ajax(e.extend({url:t,dataType:"json",success:function(t){s(e.jgrid.getAccessor(t,i&&i.reader?i.reader:"rows"))}},i||{})):s(t)})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.utils","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid=e.jgrid||{},e.extend(e.jgrid,{saveState:function(t,n){if(n=e.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16"},n||{}),t){var r,i,s="",o="",u=e("#"+t)[0];if(u.grid){if(i=e(u).data("inlineNav"),i&&u.p.inlineNav&&e(u).jqGrid("setGridParam",{_iN:i}),i=e(u).data("filterToolbar"),i&&u.p.filterToolbar&&e(u).jqGrid("setGridParam",{_fT:i}),s=e(u).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""}),e(u.grid.bDiv).find(".ui-jqgrid-btable tr:gt(0)").each(function(e,t){o+=t.outerHTML}),e.isFunction(n.beforeSetItem)&&(r=n.beforeSetItem.call(u,s),null!=r&&(s=r)),n.compression&&n.compressionModule)try{r=window[n.compressionModule][n.compressionMethod](s),null!=r&&(s=r,o=window[n.compressionModule][n.compressionMethod](o))}catch(f){}if(n.useStorage&&e.jgrid.isLocalStorage())try{window[n.storageType].setItem("jqGrid"+u.p.id,s),window[n.storageType].setItem("jqGrid"+u.p.id+"_data",o)}catch(f){22===f.code&&alert("Local storage limit is over!")}return s}}},loadState:function(t,n,r){if(r=e.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},r||{}),t){var i,s,o,u,f,l=e("#"+t)[0];if(r.useStorage)try{n=window[r.storageType].getItem("jqGrid"+l.id),o=window[r.storageType].getItem("jqGrid"+l.id+"_data")}catch(c){}if(n){if(r.decompression&&r.decompressionModule)try{i=window[r.decompressionModule][r.decompressionMethod](n),null!=i&&(n=i,o=window[r.decompressionModule][r.decompressionMethod](o))}catch(c){}if(i=jqGridUtils.parse(n),i&&"object"===e.type(i)){l.grid&&e.jgrid.gridUnload(t),e.isFunction(r.beforeSetGrid)&&(s=r.beforeSetGrid(i),s&&"object"===e.type(s)&&(i=s));var h=function(e){var t;return t=e},p={reccount:i.reccount,records:i.records,lastpage:i.lastpage,shrinkToFit:h(i.shrinkToFit),data:h(i.data),datatype:h(i.datatype),grouping:h(i.grouping)};i.shrinkToFit=!1,i.data=[],i.datatype="local",i.grouping=!1,i.inlineNav&&(u=h(i._iN),i._iN=null,delete i._iN),i.filterToolbar&&(f=h(i._fT),i._fT=null,delete i._fT);var d=e("#"+t).jqGrid(i);if(d.append(o),d.jqGrid("setGridParam",p),i.storeNavOptions&&i.navGrid&&(d[0].p.navGrid=!1,d.jqGrid("navGrid",i.pager,i.navOptions,i.editOptions,i.addOptions,i.delOptions,i.searchOptions,i.viewOptions),i.navButtons&&i.navButtons.length))for(var v=0;v<i.navButtons.length;v++)"sepclass"in i.navButtons[v][1]?d.jqGrid("navSeparatorAdd",i.navButtons[v][0],i.navButtons[v][1]):d.jqGrid("navButtonAdd",i.navButtons[v][0],i.navButtons[v][1]);i.inlineNav&&u&&(d.jqGrid("setGridParam",{inlineNav:!1}),d.jqGrid("inlineNav",i.pager,u)),i.filterToolbar&&f&&(d.jqGrid("setGridParam",{filterToolbar:!1}),f.restoreFromFilters=!0,d.jqGrid("filterToolbar",f)),i.frozenColumns&&d.jqGrid("setFrozenColumns"),d[0].updatepager(!0,!0),e.isFunction(r.afterSetGrid)&&r.afterSetGrid(d),r.clearAfterLoad&&(window[r.storageType].removeItem("jqGrid"+l.id),window[r.storageType].removeItem("jqGrid"+l.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(t,n){var r={storageType:"localStorage"};r=e.extend(r,n||{});var i,s,o;try{s=window[r.storageType].getItem("jqGrid"+t),o=window[r.storageType].getItem("jqGrid"+t+"_data"),i=null!=s&&null!=o&&"string"==typeof s&&"string"==typeof o}catch(u){i=!1}return i},setRegional:function(t,n){var r={storageType:"sessionStorage"};if(r=e.extend(r,n||{}),r.regional){e.jgrid.saveState(t,r),r.beforeSetGrid=function(e){return e.regional=r.regional,e.force_regional=!0,e},e.jgrid.loadState(t,null,r);var i=e("#"+t)[0],s=e(i).jqGrid("getGridParam","colModel"),o=-1,u=e.jgrid.getRegional(i,"nav");e.each(s,function(e){return this.formatter&&"actions"===this.formatter?(o=e,!1):void 0}),-1!==o&&u&&e("#"+t+" tbody tr").each(function(){var t=this.cells[o];e(t).find(".ui-inline-edit").attr("title",u.edittitle),e(t).find(".ui-inline-del").attr("title",u.deltitle),e(t).find(".ui-inline-save").attr("title",u.savetitle),e(t).find(".ui-inline-cancel").attr("title",u.canceltitle)});try{window[r.storageType].removeItem("jqGrid"+i.id),window[r.storageType].removeItem("jqGrid"+i.id+"_data")}catch(f){}}},jqGridImport:function(t,n){n=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},n||{});var r=(0===t.indexOf("#")?"":"#")+e.jgrid.jqID(t),i=function(t,n){var i,s,o,u=e(n.xmlGrid.config,t)[0],f=e(n.xmlGrid.data,t)[0];if(jqGridUtils.xmlToJSON){i=jqGridUtils.xmlToJSON(u);for(o in i)i.hasOwnProperty(o)&&(s=i[o]);if(f){var l=i.grid.datatype;i.grid.datatype="xmlstring",i.grid.datastr=t,e(r).jqGrid(s).jqGrid("setGridParam",{datatype:l})}else setTimeout(function(){e(r).jqGrid(s)},0)}else alert("xml2json or parse are not present")},s=function(t,n){if(t&&"string"==typeof t){var i=jqGridUtils.parse(t),s=i[n.jsonGrid.config],o=i[n.jsonGrid.data];if(o){var u=s.datatype;s.datatype="jsonstring",s.datastr=o,e(r).jqGrid(s).jqGrid("setGridParam",{datatype:u})}else e(r).jqGrid(s)}};switch(n.imptype){case"xml":e.ajax(e.extend({url:n.impurl,type:n.mtype,data:n.impData,dataType:"xml",complete:function(t,s){"success"===s&&(i(t.responseXML,n),e(r).triggerHandler("jqGridImportComplete",[t,n]),e.isFunction(n.importComplete)&&n.importComplete(t)),t=null}},n.ajaxOptions));break;case"xmlstring":if(n.impstring&&"string"==typeof n.impstring){var o=e.parseXML(n.impstring);o&&(i(o,n),e(r).triggerHandler("jqGridImportComplete",[o,n]),e.isFunction(n.importComplete)&&n.importComplete(o))}break;case"json":e.ajax(e.extend({url:n.impurl,type:n.mtype,data:n.impData,dataType:"json",complete:function(t){try{s(t.responseText,n),e(r).triggerHandler("jqGridImportComplete",[t,n]),e.isFunction(n.importComplete)&&n.importComplete(t)}catch(i){}t=null}},n.ajaxOptions));break;case"jsonstring":n.impstring&&"string"==typeof n.impstring&&(s(n.impstring,n),e(r).triggerHandler("jqGridImportComplete",[n.impstring,n]),e.isFunction(n.importComplete)&&n.importComplete(n.impstring))}}}),e.jgrid.extend({jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"	",addOptions:{}},t||{});var n=null;return this.each(function(){if(this.grid){var r,i=e.extend(!0,{},e(this).jqGrid("getGridParam"),t.addOptions);if(i.rownumbers&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.multiselect&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.subGrid&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.knv=null,i.treeGrid)for(r in i.treeReader)i.treeReader.hasOwnProperty(r)&&(i.colNames.splice(i.colNames.length-1),i.colModel.splice(i.colModel.length-1));switch(t.exptype){case"xmlstring":n="<"+t.root+">"+jqGridUtils.jsonToXML(i,{xmlDecl:""})+"</"+t.root+">";break;case"jsonstring":n=jqGridUtils.stringify(i),t.root&&(n="{"+t.root+":"+n+"}")}}}),n},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",beforeExport:null,exporthidden:!1,exportgrouping:!1,exportOptions:{}},t||{}),this.each(function(){if(this.grid){var n;if("remote"===t.exptype){var r,i=e.extend({},this.p.postData);if(i[t.oper]=t.tag,e.isFunction(t.beforeExport)){var s=t.beforeExport.call(this,i);e.isPlainObject(s)&&(i=s)}if(t.exporthidden){var o,u=this.p.colModel,f=u.length,l=[];for(o=0;f>o;o++)void 0===u[o].hidden&&(u[o].hidden=!1),l.push({name:u[o].name,hidden:u[o].hidden});var c=JSON.stringify(l);"string"==typeof c&&(i.colModel=c)}t.exportgrouping&&(r=JSON.stringify(this.p.groupingView),"string"==typeof r&&(i.groupingView=r));var h=jQuery.param(i);n=-1!==t.url.indexOf("?")?t.url+"&"+h:t.url+"?"+h,window.location=n}}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){"use strict";return window.jqGridUtils={stringify:function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t})},parse:function(str){return JSON.parse(str,function(key,value){return"string"==typeof value&&-1!==value.indexOf("function")?eval("("+value+")"):value})},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var n=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),r=this,i=function(e,t){return"#text"===e?n.encode?r.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(n.encode?r.encode(t):t)+"</"+e+">\n"},s=function(e,t){for(var n=[],r=0;r<t.length;r++){var u=t[r];"undefined"==typeof u||null==u?n[n.length]="<"+e+" />":"object"==typeof u&&u.constructor==Array?n[n.length]=s(e,u):"object"==typeof u?n[n.length]=o(e,u):n[n.length]=i(e,u)}return n.length||(n[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),n.join("")},o=function(e,t){var u=[],a=[];for(var l in t)if(t.hasOwnProperty(l)){var h=t[l];l.charAt(0)!==n.attr_prefix?null==h?u[u.length]="<"+l+" />":"object"==typeof h&&h.constructor===Array?u[u.length]=s(l,h):"object"==typeof h?u[u.length]=o(l,h):u[u.length]=i(l,h):a[a.length]=" "+l.substring(1)+'="'+(n.encode?r.encode(h):h)+'"'}var p=a.join(""),v=u.join("");return null==e||(v=u.length>0?v.match(/\n/)?"<"+e+p+">\n"+v+"</"+e+">\n":"<"+e+p+">"+v+"</"+e+">\n":"<"+e+p+" />\n"),v},u=o(null,e);return n.xmlDecl+u},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var n,r,i,s,u={};if(e.attributes&&e.attributes.length)for(n={},r=0;r<e.attributes.length;r++)i=e.attributes[r].nodeName,"string"==typeof i&&(s=e.attributes[r].nodeValue,s&&(i=o.attr_prefix+i,"undefined"==typeof u[i]&&(u[i]=0),u[i]++,addNode(n,i,u[i],s)));if(e.childNodes&&e.childNodes.length){var a=!0;for(n&&(a=!1),r=0;r<e.childNodes.length&&a;r++){var f=e.childNodes[r].nodeType;3!==f&&4!==f&&(a=!1)}if(a)for(n||(n=""),r=0;r<e.childNodes.length;r++)n+=e.childNodes[r].nodeValue;else for(n||(n={}),r=0;r<e.childNodes.length;r++)i=e.childNodes[r].nodeName,"string"==typeof i&&(s=parseElement(e.childNodes[r]),s&&("undefined"==typeof u[i]&&(u[i]=0),u[i]++,addNode(n,i,u[i],s)))}return n}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}},window.jqGridUtils});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","jquery-ui/dialog","jquery-ui/draggable","jquery-ui/droppable","jquery-ui/resizable","jquery-ui/sortable","./addons/ui.multiselect"],e):e(jQuery)}(function($){"use strict";if($.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var n=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return n}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){n.p.disableClick=!0}var n=this,r=$.jgrid.jqID(n.p.id),i={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),i=$(">th",r),s=n.p.colModel,o={},u=n.p.id+"_";$.each(s,function(e){o[this.name]=e});var a=[];i.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(u,"");o.hasOwnProperty(e)&&a.push(o[e])}),$(n).jqGrid("remapColumns",a,!0,!0),$.isFunction(n.p.sortable.update)&&n.p.sortable.update(a),setTimeout(function(){n.p.disableClick=!1},50)}};if(n.p.sortable.options?$.extend(i,n.p.sortable.options):$.isFunction(n.p.sortable)&&(n.p.sortable={update:n.p.sortable}),i.start){var s=i.start;i.start=function(e,n){t(),s.call(this,e,n)}}else i.start=t;n.p.sortable.exclude&&(i.items+=":not("+n.p.sortable.exclude+")");var o=e.sortable(i),u=o.data("sortable")||o.data("uiSortable");null!=u&&(u.data("sortable").floating=!0)})},columnChooser:function(e){function t(e,t,n){var r,i;return t>=0?(r=e.slice(),i=r.splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=n,r.concat(i)):e}function n(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,i,s,o,u,a,f,l=this,c={},h=[],p=l.jqGrid("getGridParam","colModel"),d=l.jqGrid("getGridParam","colNames"),v=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(l[0].p.id)).length){if(r=$('<div id="colchooser_'+l[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&l.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=v(i),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var n=[];$("option",i).each(function(){$(this).is(":selected")?l.jqGrid("showCol",p[this.value].name):l.jqGrid("hideCol",p[this.value].name)}),$("option[selected]",i).each(function(){n.push(parseInt(this.value,10))}),$.each(n,function(){delete c[p[parseInt(this,10)].name]}),$.each(c,function(){var e=parseInt(this,10);n=t(n,e,e)}),e.done&&e.done.call(l,n),l.jqGrid("setGridWidth",l[0].p.width,l[0].p.shrinkToFit)},cleanup:function(t){n(e.dlog,r,"destroy"),n(e.msel,i,"destroy"),r.remove(),t&&e.done&&e.done.call(l)},msel_opts:{}},m,e||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),i.css("height",e.height-10)),i.empty(),$.each(p,function(e){return c[this.name]=e,this.hidedlg?void (this.hidden||h.push(e)):void i.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(d[e])+"</option>")}),s=$.isFunction(e.dlog_opts)?e.dlog_opts.call(l,e):e.dlog_opts,n(e.dlog,r,s),o=$.isFunction(e.msel_opts)?e.msel_opts.call(l,e):e.msel_opts,n(e.msel,i,o),u=$("#colchooser_"+$.jgrid.jqID(l[0].p.id)),u.css({margin:"auto"}),u.find(">div").css({width:"100%",height:"100%",margin:"auto"}),a=v(i),a.container.css({width:"100%",height:"100%",margin:"auto"}),a.selectedContainer.css({width:100*a.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),a.availableContainer.css({width:100-100*a.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),a.selectedList.css("height","auto"),a.availableList.css("height","auto"),f=Math.max(a.selectedList.height(),a.availableList.height()),f=Math.min(f,$(window).height()),a.selectedList.css("height",f),a.availableList.css("height",f)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(n,r){if($(r.item).css("border-width","0"),$("td",r.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var i=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",i)}catch(s){}}e._start_&&e._start_.apply(this,[n,r])},e.update=function(n,r){$(r.item).css("border-width",""),t.p.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[n,r])},$("tbody:first",t).sortable(e),$("tbody:first > .jqgrow",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(i,"dnd");$("tr.jqgrow:not(.ui-draggable)",i).draggable($.isFunction(e.drag)?e.drag.call($(i),e):e.drag)}var n,r,i=this;if(i.grid&&!i.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var s="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(s),"string"==typeof e&&"updateDnD"===e&&i.p.jqgdnd===!0)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,n){var r,s;if(i.p.subGrid){s=$(n.helper).attr("id");try{$(i).jqGrid("collapseSubGridRow",s)}catch(o){}}for(r=0;r<$.data(i,"dnd").connectWith.length;r++)0===$($.data(i,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(i,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});n.helper.addClass("ui-state-highlight"),$("td",n.helper).each(function(e){this.style.width=i.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(i),t,n)},stop:function(t,n){var r,s;for(n.helper.dropped&&!e.dragcopy&&(s=$(n.helper).attr("id"),void 0===s&&(s=$(this).attr("id")),$(i).jqGrid("delRowData",s)),r=0;r<$.data(i,"dnd").connectWith.length;r++)$($.data(i,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(i),t,n)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var n=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),n)?!0:!1}return!1},drop:function(t,n){if($(n.draggable).hasClass("jqgrow")){var r=$(n.draggable).attr("id"),s=n.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var o,u,f=0,l={},c=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(u in s)s.hasOwnProperty(u)&&(o=c[f].name,"cb"!==o&&"rn"!==o&&"subgrid"!==o&&s.hasOwnProperty(u)&&c[f]&&(l[o]=s[u]),f++);s=l}catch(h){}}if(n.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var p=e.beforedrop.call(this,t,n,s,$("#"+$.jgrid.jqID(i.p.id)),$(this));void 0!==p&&null!==p&&"object"==typeof p&&(s=p)}if(n.helper.dropped){var d;e.autoid&&($.isFunction(e.autoid)?d=e.autoid.call(this,s):(d=Math.ceil(1e3*Math.random()),d=e.autoidprefix+d)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",d,s,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,n,s)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(i,"dnd",e),0===i.p.reccount||i.p.jqgdnd||t(),i.p.jqgdnd=!0,n=0;n<e.connectWith.length;n++)r=e.connectWith[n],$(r).droppable($.isFunction(e.drop)?e.drop.call($(i),e):e.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}})});!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t,n=e();e.fn.html5sortable=function(r){var i=String(r);return r=e.extend({connectWith:!1},r),this.each(function(){if(/^enable|disable|destroy$/.test(i)){var s=e(this).children(e(this).data("items")).attr("draggable","enable"===i);return void ("destroy"===i&&s.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"))}var o,u,s=e(this).children(r.items),f=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":/^tbody$/i.test(this.tagName)?"tr":"div")+' class="sortable-placeholder '+r.placeholderClass+'">').html("&nbsp;");s.find(r.handle).mousedown(function(){o=!0}).mouseup(function(){o=!1}),e(this).data("items",r.items),n=n.add(f),r.connectWith&&e(r.connectWith).add(this).data("connectWith",r.connectWith),s.attr("draggable","true").on("dragstart.h5s",function(n){if(r.handle&&!o)return!1;o=!1;var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),u=(t=e(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){t&&(t.removeClass("sortable-dragging").show(),n.detach(),u!==t.index()&&t.parent().trigger("sortupdate",{item:t,startindex:u,endindex:t.index()}),t=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,f]).on("dragover.h5s dragenter.h5s drop.h5s",function(i){return s.is(t)||r.connectWith===e(t).parent().data("connectWith")?"drop"===i.type?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):(i.preventDefault(),i.originalEvent.dataTransfer.dropEffect="move",s.is(this)?(r.forcePlaceholderSize&&f.height(t.outerHeight()),t.hide(),e(this)[f.index()<e(this).index()?"after":"before"](f),n.not(f).detach()):n.is(this)||e(this).children(r.items).length||(n.detach(),e(this).append(f)),!1):!0})})}});(function(e,t){"use strict";if(typeof module!=="undefined"&&module.exports){module.exports=t(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],function(e){return t(e)})}else{t(e.jQuery)}})(this,function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.select=this.options.select||this.select;this.autoSelect=typeof this.options.autoSelect=="boolean"?this.options.autoSelect:true;this.highlighter=this.options.highlighter||this.highlighter;this.render=this.options.render||this.render;this.updater=this.options.updater||this.updater;this.displayText=this.options.displayText||this.displayText;this.source=this.options.source;this.delay=this.options.delay;this.$menu=e(this.options.menu);this.$appendTo=this.options.appendTo?e(this.options.appendTo):null;this.shown=false;this.listen();this.showHintOnFocus=typeof this.options.showHintOnFocus=="boolean"?this.options.showHintOnFocus:false;this.afterSelect=this.options.afterSelect;this.addItem=false};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");this.$element.data("active",e);if(this.autoSelect||e){var t=this.updater(e);if(!t){t=""}this.$element.val(this.displayText(t)||t).change();this.afterSelect(t)}return this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),n;n=typeof this.options.scrollHeight=="function"?this.options.scrollHeight.call():this.options.scrollHeight;var r;if(this.shown){r=this.$menu}else if(this.$appendTo){r=this.$menu.appendTo(this.$appendTo)}else{r=this.$menu.insertAfter(this.$element)}r.css({top:t.top+t.height+n,left:t.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(t){var n;if(typeof t!="undefined"&&t!==null){this.query=t}else{this.query=this.$element.val()||""}if(this.query.length<this.options.minLength&&!this.options.showHintOnFocus){return this.shown?this.hide():this}var r=e.proxy(function(){if(e.isFunction(this.source))this.source(this.query,e.proxy(this.process,this));else if(this.source){this.process(this.source)}},this);clearTimeout(this.lookupWorker);this.lookupWorker=setTimeout(r,this.delay)},process:function(t){var n=this;t=e.grep(t,function(e){return n.matcher(e)});t=this.sorter(t);if(!t.length&&!this.options.addItem){return this.shown?this.hide():this}if(t.length>0){this.$element.data("active",t[0])}else{this.$element.data("active",null)}if(this.options.addItem){t.push(this.options.addItem)}if(this.options.items=="all"){return this.render(t).show()}else{return this.render(t.slice(0,this.options.items)).show()}},matcher:function(e){var t=this.displayText(e);return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift()){var s=this.displayText(i);if(!s.toLowerCase().indexOf(this.query.toLowerCase()))t.push(i);else if(~s.indexOf(this.query))n.push(i);else r.push(i)}return t.concat(n,r)},highlighter:function(t){var n=e("<div></div>");var r=this.query;var i=t.toLowerCase().indexOf(r.toLowerCase());var s,o,u,a,f;s=r.length;if(s===0){return n.text(t).html()}while(i>-1){o=t.substr(0,i);u=t.substr(i,s);a=t.substr(i+s);f=e("<strong></strong>").text(u);n.append(document.createTextNode(o)).append(f);t=a;i=t.toLowerCase().indexOf(r.toLowerCase())}return n.append(document.createTextNode(t)).html()},render:function(t){var n=this;var r=this;var i=false;var s=[];var o=n.options.separator;e.each(t,function(e,n){if(e>0&&n[o]!==t[e-1][o]){s.push({__type:"divider"})}if(n[o]&&(e===0||n[o]!==t[e-1][o])){s.push({__type:"category",name:n[o]})}s.push(n)});t=e(s).map(function(t,s){if((s.__type||false)=="category"){return e(n.options.headerHtml).text(s.name)[0]}if((s.__type||false)=="divider"){return e(n.options.headerDivider)[0]}var o=r.displayText(s);t=e(n.options.item).data("value",s);t.find("a").html(n.highlighter(o,s));if(o==r.$element.val()){t.addClass("active");r.$element.data("active",s);i=true}return t[0]});if(this.autoSelect&&!i){t.filter(":not(.dropdown-header)").first().addClass("active");this.$element.data("active",t.first().data("value"))}this.$menu.html(t);return this},displayText:function(e){return typeof e!=="undefined"&&typeof e.name!="undefined"&&e.name||e},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();if(!r.length){r=e(this.$menu.find("li")[0])}r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();if(!n.length){n=this.$menu.find("li").last()}n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("input",e.proxy(this.input,this)).on("keyup",e.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",e.proxy(this.keydown,this))}this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null);this.$element.data("active",null);this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup");if(this.eventSupported("keydown")){this.$element.off("keydown")}this.$menu.remove()},eventSupported:function(e){var t=e in this.$element;if(!t){this.$element.setAttribute(e,"return;");t=typeof this.$element[e]==="function"}return t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.shiftKey)return;e.preventDefault();this.prev();break;case 40:if(e.shiftKey)return;e.preventDefault();this.next();break}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]);if(!this.shown&&t.keyCode==40){this.lookup()}else{this.move(t)}},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},input:function(e){this.lookup();e.preventDefault()},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break}e.preventDefault()},focus:function(e){if(!this.focused){this.focused=true;if(this.options.showHintOnFocus){this.lookup("")}}},blur:function(e){this.focused=false;if(!this.mousedover&&this.shown)this.hide()},click:function(e){e.preventDefault();this.select();this.$element.focus();this.hide()},mouseenter:function(t){this.mousedover=true;this.$menu.find(".active").removeClass("active");e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=false;if(!this.focused&&this.shown)this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){var r=arguments;if(typeof n=="string"&&n=="getActive"){return this.data("active")}return this.each(function(){var i=e(this),s=i.data("typeahead"),o=typeof n=="object"&&n;if(!s)i.data("typeahead",s=new t(this,o));if(typeof n=="string"&&s[n]){if(r.length>1){s[n].apply(s,Array.prototype.slice.call(r,1))}else{s[n]()}}})};e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:true,afterSelect:e.noop,addItem:false,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'};e.fn.typeahead.Constructor=t;e.fn.typeahead.noConflict=function(){e.fn.typeahead=n;return this};e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})});(function(){var e;window.AmCharts?e=window.AmCharts:(e={},window.AmCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=30,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[]);e.Class=function(t){var n=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(n.prototype=new t.inherits(e.inheriting),n.base=t.inherits.prototype,delete t.inherits):(n.prototype.createEvents=function(){for(var e=0,t=arguments.length;e<t;e++)this.events[arguments[e]]=[]},n.prototype.listenTo=function(e,t,n){this.removeListener(e,t,n);e.events[t].push({handler:n,scope:this})},n.prototype.addListener=function(e,t,n){this.removeListener(this,e,t);this.events[e].push({handler:t,scope:n})},n.prototype.removeListener=function(e,t,n){if(e&&e.events)for(e=e.events[t],t=e.length-1;0<=t;t--)e[t].handler===n&&e.splice(t,1)},n.prototype.fire=function(e,t){for(var n=this.events[e],r=0,i=n.length;r<i;r++){var s=n[r];s.handler.call(s.scope,t)}});for(var r in t)n.prototype[r]=t[r];return n};e.addChart=function(t){e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1e3/e.updateRate)));e.charts.push(t)};e.removeChart=function(t){for(var n=e.charts,r=n.length-1;0<=r;r--)n[r]==t&&n.splice(r,1);0===n.length&&e.updateInt&&(clearInterval(e.updateInt),e.updateInt=NaN)};e.isModern=!0;e.getIEVersion=function(){var e=0,t,n;"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,n=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==n.exec(t)&&(e=parseFloat(RegExp.$1)));return e};e.applyLang=function(t,n){var r=e.translations;n.dayNames=e.extend({},e.dayNames);n.shortDayNames=e.extend({},e.shortDayNames);n.monthNames=e.extend({},e.monthNames);n.shortMonthNames=e.extend({},e.shortMonthNames);r&&(r=r[t])&&(e.lang=r,r.monthNames&&(n.dayNames=e.extend({},r.dayNames),n.shortDayNames=e.extend({},r.shortDayNames),n.monthNames=e.extend({},r.monthNames),n.shortMonthNames=e.extend({},r.shortMonthNames)))};e.IEversion=e.getIEVersion();9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0);e.dx=0;e.dy=0;if(document.addEventListener||window.opera)e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5;document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0));window.chrome&&(e.chrome=!0);e.handleMouseUp=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleReleaseOutside&&i.handleReleaseOutside(t)}};e.handleMouseMove=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleMouseMove&&i.handleMouseMove(t)}};e.handleWheel=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];if(i&&i.mouseIsOver){i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled?i.handleWheel&&i.handleWheel(t):t.stopPropagation&&t.stopPropagation();break}}};e.resetMouseOver=function(){for(var t=e.charts,n=0;n<t.length;n++){var r=t[n];r&&(r.mouseIsOver=!1)}};e.ready=function(t){e.onReadyArray.push(t)};e.handleLoad=function(){e.isReady=!0;for(var t=e.onReadyArray,n=0;n<t.length;n++){var r=t[n];isNaN(e.processDelay)?r():setTimeout(r,e.processDelay*n)}};e.addInitHandler=function(t,n){e.initHandlers.push({method:t,types:n})};e.callInitHandler=function(t){var n=e.initHandlers;if(e.initHandlers)for(var r=0;r<n.length;r++){var i=n[r];i.types?e.isInArray(i.types,t.type)&&i.method(t):i.method(t)}};e.getUniqueId=function(){e.uid++;return"AmChartsEl-"+e.uid};e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove,!0),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,!0),window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0));e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad));e.clear=function(){var t=e.charts;if(t)for(var n=t.length-1;0<=n;n--)t[n].clear();e.updateInt&&clearInterval(e.updateInt);e.charts=[];e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0));e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))};e.makeChart=function(t,n,r){var i=n.type,s=n.theme;e.isString(s)&&(s=e.themes[s],n.theme=s);var o;switch(i){case"serial":o=new e.AmSerialChart(s);break;case"xy":o=new e.AmXYChart(s);break;case"pie":o=new e.AmPieChart(s);break;case"radar":o=new e.AmRadarChart(s);break;case"gauge":o=new e.AmAngularGauge(s);break;case"funnel":o=new e.AmFunnelChart(s);break;case"map":o=new e.AmMap(s);break;case"stock":o=new e.AmStockChart(s);break;case"gantt":o=new e.AmGanttChart(s)}e.extend(o,n);e.isReady?isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r):e.ready(function(){isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r)});return o};e.realWrite=function(e,t){e.write(t)};e.updateCount=0;e.validateAt=Math.round(e.updateRate/5);e.update=function(){var t=e.charts;e.updateCount++;var n=!1;e.updateCount==e.validateAt&&(n=!0,e.updateCount=0);if(t)for(var r=0;r<t.length;r++)t[r].update&&t[r].update(),n&&t[r].autoResize&&t[r].validateSize&&t[r].validateSize()};e.bezierX=3;e.bezierY=6})();(function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}};e.removeFromArray=function(e,t){var n;if(void 0!==t&&void 0!==e)for(n=e.length-1;0<=n;n--)e[n]==t&&e.splice(n,1)};e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var n=e[t].src;if(-1!==n.search(/\/(amcharts|ammap)\.js/))return n.replace(/\/(amcharts|ammap)\.js.*/,"/")}};e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e};e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)};e.isInArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1};e.getDecimals=function(e){var t=0;isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length));return t};e.wordwrap=function(t,n,r,i){var s,o,u,a;t+="";if(1>n)return t;s=-1;for(t=(a=t.split(/\r\n|\n|\r/)).length;++s<t;a[s]+=u){u=a[s];for(a[s]="";u.length>n;a[s]+=e.trim(u.slice(0,o))+((u=u.slice(o)).length?r:""))o=2==i||(o=u.slice(0,n+1).match(/\S*(\s)?$/))[1]?n:o.input.length-o[0].length||1==i&&n||o.input.length+(o=u.slice(n).match(/^\S*/))[0].length;u=e.trim(u)}return a.join(r)};e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};e.wrappedText=function(t,n,r,i,s,o,u,a){var f=e.text(t,n,r,i,s,o,u);if(f){var l=f.getBBox();if(l.width>a){var c="\n";e.isModern||(c="<br>");a=Math.floor(a/(l.width/n.length));2<a&&(a-=2);n=e.wordwrap(n,a,c,!0);f.remove();f=e.text(t,n,r,i,s,o,u)}}return f};e.getStyle=function(e,t){var n="";document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]);return n};e.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))};e.getURL=function(t,n){if(t)if("_self"!=n&&n)if("_top"==n&&window.top)window.top.location.href=t;else if("_parent"==n&&window.parent)window.parent.location.href=t;else if("_blank"==n)window.open(t);else{var r=document.getElementsByName(n)[0];r?r.src=t:(r=e.windows[n])?r.opener&&!r.opener.closed?r.location.href=t:e.windows[n]=window.open(t):e.windows[n]=window.open(t)}else window.location.href=t};e.ifArray=function(e){return e&&"object"==typeof e&&0<e.length?!0:!1};e.callMethod=function(e,t){var n;for(n=0;n<t.length;n++){var r=t[n];if(r){if(r[e])r[e]();var i=r.length;if(0<i){var s;for(s=0;s<i;s++){var o=r[s];if(o&&o[e])o[e]()}}}}};e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))};e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var n=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+n}}else e=e.substring(e.length-6,e.length),e="#"+e;return e};e.toCoordinate=function(e,t,n){var r;void 0!==e&&(e=String(e),n&&n<t&&(t=n),r=Number(e),-1!=e.indexOf("!")&&(r=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(r=t*Number(e.substr(0,e.length-1))/100));return r};e.fitToBounds=function(e,t,n){e<t&&(e=t);e>n&&(e=n);return e};e.isDefined=function(e){return void 0===e?!1:!0};e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")};e.roundTo=function(e,t){if(0>t)return e;var n=Math.pow(10,t);return Math.round(e*n)/n};e.toFixed=function(e,t){var n=String(Math.round(e*Math.pow(10,t)));if(0<t){var r=n.length;if(r<t){var i;for(i=0;i<t-r;i++)n="0"+n}r=n.substring(0,n.length-t);""===r&&(r=0);return r+"."+n.substring(n.length-t,n.length)}return String(n)};e.formatDuration=function(t,n,r,i,s,o){var u=e.intervals,a=o.decimalSeparator;if(t>=u[n].contains){var f=t-Math.floor(t/u[n].contains)*u[n].contains;"ss"==n?(f=e.formatNumber(f,o),1==f.split(a)[0].length&&(f="0"+f)):f=e.roundTo(f,o.precision);("mm"==n||"hh"==n)&&10>f&&(f="0"+f);r=f+""+i[n]+""+r;t=Math.floor(t/u[n].contains);n=u[n].nextInterval;return e.formatDuration(t,n,r,i,s,o)}"ss"==n&&(t=e.formatNumber(t,o),1==t.split(a)[0].length&&(t="0"+t));("mm"==n||"hh"==n)&&10>t&&(t="0"+t);r=t+""+i[n]+""+r;if(u[s].count>u[n].count)for(t=u[n].count;t<u[s].count;t++)n=u[n].nextInterval,"ss"==n||"mm"==n||"hh"==n?r="00"+i[n]+""+r:"DD"==n&&(r="0"+i[n]+""+r);":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1));return r};e.formatNumber=function(t,n,r,i,s){t=e.roundTo(t,n.precision);isNaN(r)&&(r=n.precision);var o=n.decimalSeparator;n=n.thousandsSeparator;var u;u=0>t?"-":"";t=Math.abs(t);var a=String(t),f=!1;-1!=a.indexOf("e")&&(f=!0);0<=r&&!f&&(a=e.toFixed(t,r));var l="";if(f)l=a;else{var a=a.split("."),f=String(a[0]),c;for(c=f.length;0<=c;c-=3)l=c!=f.length?0!==c?f.substring(c-3,c)+n+l:f.substring(c-3,c)+l:f.substring(c-3,c);void 0!==a[1]&&(l=l+o+a[1]);void 0!==r&&0<r&&"0"!=l&&(l=e.addZeroes(l,o,r))}l=u+l;""===u&&!0===i&&0!==t&&(l="+"+l);!0===s&&(l+="%");return l};e.addZeroes=function(t,n,r){t=t.split(n);void 0===t[1]&&0<r&&(t[1]="0");return t[1].length<r?(t[1]+="0",e.addZeroes(t[0]+n+t[1],n,r)):void 0!==t[1]?t[0]+n+t[1]:t[0]};e.scientificToNormal=function(e){var t;e=String(e).split("e");var n;if("-"==e[1].substr(0,1)){t="0.";for(n=0;n<Math.abs(Number(e[1]))-1;n++)t+="0";t+=e[0].split(".").join("")}else{var r=0;t=e[0].split(".");t[1]&&(r=t[1].length);t=e[0].split(".").join("");for(n=0;n<Math.abs(Number(e[1]))-r;n++)t+="0"}return t};e.toScientific=function(e,t){if(0===e)return"0";var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r=String(r).split(".").join(t);return String(r)+"e"+n};e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};e.hitTest=function(t,n,r){var i=!1,s=t.x,o=t.x+t.width,u=t.y,a=t.y+t.height,f=e.isInRectangle;i||(i=f(s,u,n));i||(i=f(s,a,n));i||(i=f(o,u,n));i||(i=f(o,a,n));i||!0===r||(i=e.hitTest(n,t,!0));return i};e.isInRectangle=function(e,t,n){return e>=n.x-5&&e<=n.x+n.width+5&&t>=n.y-5&&t<=n.y+n.height+5?!0:!1};e.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0};e.findPosX=function(e){var t=e,n=e.offsetLeft;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetLeft;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollLeft||0}return n};e.findPosY=function(e){var t=e,n=e.offsetTop;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetTop;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollTop||0}return n};e.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==e.getStyle(t,"position"))return!0;return!1};e.findIfAuto=function(t){return t.style&&"auto"==e.getStyle(t,"overflow")?!0:t.parentNode?e.findIfAuto(t.parentNode):!1};e.findScrollLeft=function(t,n){t.scrollLeft&&(n+=t.scrollLeft);return t.parentNode?e.findScrollLeft(t.parentNode,n):n};e.findScrollTop=function(t,n){t.scrollTop&&(n+=t.scrollTop);return t.parentNode?e.findScrollTop(t.parentNode,n):n};e.formatValue=function(t,n,r,i,s,o,u,a){if(n){void 0===s&&(s="");var f;for(f=0;f<r.length;f++){var l=r[f],c=n[l];void 0!==c&&(c=o?e.addPrefix(c,a,u,i):e.formatNumber(c,i),t=t.replace(new RegExp("\\[\\["+s+""+l+"\\]\\]","g"),c))}}return t};e.formatDataContextValue=function(e,t){if(e){var n=e.match(/\[\[.*?\]\]/g),r;for(r=0;r<n.length;r++){var i=n[r],i=i.substr(2,i.length-4);void 0!==t[i]&&(e=e.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]))}}return e};e.massReplace=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];void 0===r&&(r="");e=e.replace(n,r)}return e};e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")};e.addPrefix=function(t,n,r,i,s){var o=e.formatNumber(t,i),u="",a,f,l;if(0===t)return"0";0>t&&(u="-");t=Math.abs(t);if(1<t)for(a=n.length-1;-1<a;a--){if(t>=n[a].number&&(f=t/n[a].number,l=Number(i.precision),1>l&&(l=1),r=e.roundTo(f,l),l=e.formatNumber(r,{precision:-1,decimalSeparator:i.decimalSeparator,thousandsSeparator:i.thousandsSeparator}),!s||f==r)){o=u+""+l+""+n[a].prefix;break}}else for(a=0;a<r.length;a++)if(t<=r[a].number){f=t/r[a].number;l=Math.abs(Math.floor(Math.log(f)*Math.LOG10E));f=e.roundTo(f,l);o=u+""+f+""+r[a].prefix;break}return o};e.remove=function(e){e&&e.remove()};e.getEffect=function(e){">"==e&&(e="easeOutSine");"<"==e&&(e="easeInSine");"elastic"==e&&(e="easeOutElastic");return e};e.getObjById=function(e,t){var n,r;for(r=0;r<e.length;r++){var i=e[r];i.id==t&&(n=i)}return n};e.applyTheme=function(t,n,r){n||(n=e.theme);n&&n[r]&&e.extend(t,n[r])};e.isString=function(e){return"string"==typeof e?!0:!1};e.extend=function(e,t,n){var r;e||(e={});for(r in t)n?e.hasOwnProperty(r)||(e[r]=t[r]):e[r]=t[r];return e};e.copyProperties=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"events"!=n&&void 0!==e[n]&&"function"!=typeof e[n]&&"cname"!=n&&(t[n]=e[n])};e.processObject=function(t,n,r,i){if(!1===t instanceof n&&(t=i?e.extend(new n(r),t):e.extend(t,new n(r),!0),t.listeners))for(var s in t.listeners)n=t.listeners[s],t.addListener(n.event,n.method);return t};e.fixNewLines=function(e){var t=RegExp("\\n","g");e&&(e=e.replace(t,"<br />"));return e};e.fixBrakes=function(t){if(e.isModern){var n=RegExp("<br>","g");t&&(t=t.replace(n,"\n"))}else t=e.fixNewLines(t);return t};e.deleteObject=function(t,n){if(t){if(void 0===n||null===n)n=20;if(0!==n)if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.deleteObject(t[r],n-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t)t[r]&&("object"==typeof t[r]&&e.deleteObject(t[r],n-1),"function"!=typeof t[r]&&(t[r]=null))}catch(i){}}};e.bounce=function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n};e.easeInOutQuad=function(e,t,n,r,i){t/=i/2;if(1>t)return r/2*t*t+n;t--;return-r/2*(t*(t-2)-1)+n};e.easeInSine=function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n};e.easeOutSine=function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n};e.easeOutElastic=function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(0===t)return n;if(1==(t/=i))return n+r;s||(s=.3*i);o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/s)+r+n};e.fixStepE=function(t){t=t.toExponential(0).split("e");var n=Number(t[1]);9==Number(t[0])&&n++;return e.generateNumber(1,n)};e.generateNumber=function(e,t){var n="",r;r=0>t?Math.abs(t)-1:Math.abs(t);var i;for(i=0;i<r;i++)n+="0";return 0>t?Number("0."+n+String(e)):Number(String(e)+n)};e.setCN=function(e,t,n,r){if(e.addClassNames&&t&&(t=t.node)&&n){var i=t.getAttribute("class");e=e.classNamePrefix+"-";r&&(e="");i?t.setAttribute("class",i+" "+e+n):t.setAttribute("class",e+n)}};e.parseDefs=function(t,n){for(var r in t){var i=typeof t[r];if(0<t[r].length&&"object"==i)for(var s=0;s<t[r].length;s++)i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r][s],i);else"object"==i?(i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r],i)):n.setAttribute(r,t[r])}}})();(function(){var e=window.AmCharts;e.AxisBase=e.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.titleDY=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.centerLabels=!1;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};e.applyTheme(this,t,"AxisBase")},zoom:function(e,t){this.start=e;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right"));this.position=e},draw:function(){var e=this.chart;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];var t=e.container,n=t.set();e.gridSet.push(n);this.set=n;t=t.set();e.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(e=this.height/this.minVerticalGap,3>e&&(e=3)):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var t=this.title;this.titleLabel=null;if(t){var n=this.chart,r=this.titleColor;void 0===r&&(r=n.color);var i=this.titleFontSize;isNaN(i)&&(i=n.fontSize+1);t=e.text(n.container,t,r,n.fontFamily,i,this.titleAlign,this.titleBold);e.setCN(n,t,this.bcn+"title");this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var n,r,i=this.labelsSet,s={};0<i.length()?s=i.getBBox():(s.x=0,s.y=0,s.width=this.viW,s.height=this.viH,e.VML&&(s.y+=this.y,s.x+=this.x));i.push(t);var i=s.x,o=s.y;e.VML&&(this.rotate?i-=this.x:o-=this.y);var u=s.width,s=s.height,a=this.viW,f=this.viH,l=0,c=t.getBBox().height/2,h=this.inside,p=this.titleAlign;switch(this.position){case"top":n="left"==p?-1:"right"==p?a:a/2;r=o-10-c;break;case"bottom":n="left"==p?-1:"right"==p?a:a/2;r=o+s+10+c;break;case"left":n=i-10-c;h&&(n-=5);l=-90;r=("left"==p?f+1:"right"==p?-1:f/2)+this.titleDY;break;case"right":n=i+u+10+c,h&&(n+=7),r=("left"==p?f+2:"right"==p?-2:f/2)+this.titleDY,l=-90}this.marginsChanged?(t.translate(n,r),this.tx=n,this.ty=r):t.translate(this.tx,this.ty);this.marginsChanged=!1;isNaN(this.titleRotation)||(l=this.titleRotation);0!==l&&t.rotate(l)}},pushAxisItem:function(e,t){var n=this,r=e.graphics();0<r.length()&&(t?n.labelsSet.push(r):n.set.push(r));if(r=e.getLabel())this.labelsSet.push(r),r.click(function(t){n.handleMouse(t,e,"clickItem")}).mouseover(function(t){n.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){n.handleMouse(t,e,"rollOutItem")})},handleMouse:function(e,t,n){this.fire(n,{type:n,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(t){for(var n=this.guides,r=!1,i=n.length,s=0;s<n.length;s++)n[s]==t&&(r=!0,i=s);t=e.processObject(t,e.Guide,this.theme);t.id||(t.id="guideAuto"+i+"_"+(new Date).getTime());r||n.push(t)},removeGuide:function(e){var t=this.guides,n;for(n=0;n<t.length;n++)t[n]==e&&t.splice(n,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t=e.graphics.getBBox(),n=this.x+t.x+t.width/2,t=this.y+t.y+t.height/2,r=e.fillColor;void 0===r&&(r=e.lineColor);this.chart.showBalloon(e.balloonText,r,!0,n,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(e,t){var n=this;e.mouseover(function(){n.handleGuideOver(t)});e.touchstart(function(){n.handleGuideOver(t)});e.mouseout(function(){n.handleGuideOut(t)})},getBBox:function(){var t=this.labelsSet.getBBox();e.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height});return t},destroy:function(){e.remove(this.set);e.remove(this.labelsSet);var t=this.axisLine;t&&e.remove(t.set);e.remove(this.grid0)},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},parseDatesDraw:function(){var t,n=this.chart,r=this.showFirstLabel,i=this.showLastLabel,s,o="",u=e.extractPeriod(this.minPeriod),a=e.getPeriodDuration(u.period,u.count),f,l,c,h,p,v=this.firstDayOfWeek,m=this.boldPeriodBeginning;t=this.minorGridEnabled;var g,y=this.gridAlpha,b,w=this.choosePeriod(0),E=w.period,w=w.count,S=e.getPeriodDuration(E,w);S<a&&(E=u.period,w=u.count,S=a);u=E;"WW"==u&&(u="DD");this.stepWidth=this.getStepWidth(this.timeDifference);var x=Math.ceil(this.timeDifference/S)+5,T=f=e.resetDateToMin(new Date(this.startTime-S),E,w,v).getTime();if(u==E&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)c=S*this.stepWidth,this.autoWrap&&!this.centerLabels&&(c=-c);this.cellWidth=a*this.stepWidth;h=Math.round(f/S);a=-1;h/2==Math.round(h/2)&&(a=-2,f-=S);h=this.firstTime;var N=0,C=0;t&&1<w&&(g=this.chooseMinorFrequency(w),b=e.getPeriodDuration(E,g));if(0<this.gridCountR)for(x-5-a>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=a;t<=x;t++){p=h+S*(t+Math.floor((T-h)/S))-N;"DD"==E&&(p+=36e5);p=e.resetDateToMin(new Date(p),E,w,v).getTime();"MM"==E&&(s=(p-f)/S,1.5<=(p-f)/S&&(p=p-(s-1)*S+e.getPeriodDuration("DD",3),p=e.resetDateToMin(new Date(p),E,1).getTime(),N+=S));s=(p-this.startTime)*this.stepWidth;if("radar"==n.type){if(0>s||s>this.axisWidth)continue;s=this.y+(this.axisWidth-s)}else this.rotate?(s+=this.x-this.viX,"date"==this.type&&"middle"==this.gridPosition&&(C=-S*this.stepWidth/2)):s="date"==this.type?this.axisWidth-s+(this.y-this.viY):s+(this.y-this.viY);o=!1;this.nextPeriod[u]&&(o=this.checkPeriodChange(this.nextPeriod[u],1,p,f,u));f=!1;o&&this.markPeriodChange?(o=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(o=this.dateFormatsObject[u]+"\n"+o,o=e.fixBrakes(o)),f=!0):o=this.dateFormatsObject[u];m||(f=!1);this.currentDateFormat=o;o=e.formatDate(new Date(p),o,n);if(t==a&&!r||t==x&&!i)o=" ";this.labelFunction&&(o=this.labelFunction(o,new Date(p),this,E,w,l).toString());this.boldLabels&&(f=!0);l=new this.axisItemRenderer(this,s,o,!1,c,C,!1,f);this.pushAxisItem(l);l=f=p;if(!isNaN(g))for(s=1;s<w;s+=g)this.gridAlpha=this.minorGridAlpha,o=p+b*s,o=e.resetDateToMin(new Date(o),E,g,v).getTime(),o=new this.axisItemRenderer(this,(o-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(o);this.gridAlpha=y}},choosePeriod:function(t){var n=e.getPeriodDuration(this.periods[t].period,this.periods[t].count),r=Math.ceil(this.timeDifference/n),i=this.periods;return this.timeDifference<n&&0<t?i[t-1]:r<=this.gridCountR?i[t]:t+1<i.length?this.choosePeriod(t+1):i[t]},getStepWidth:function(e){var t;this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e;return t},timeZoom:function(e,t){this.startTime=e;this.endTime=t},minDuration:function(){var t=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,n,r,i,s){r=new Date(r);var o=new Date(i),u=this.firstDayOfWeek;i=n;"DD"==t&&(n=1);r=e.resetDateToMin(r,t,n,u).getTime();n=e.resetDateToMin(o,t,n,u).getTime();return"DD"==t&&"hh"!=s&&r-n<e.getPeriodDuration(t,i)?!1:r!=n?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var e;for(e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}}})})();(function(){var e=window.AmCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");e.ValueAxis.base.construct.call(this,t);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.pointPosition="axis";this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";e.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){e.ValueAxis.base.draw.call(this);var t=this.chart,n=this.set;this.labelRotationR=this.labelRotation;e.setCN(t,this.set,"value-axis value-axis-"+this.id);e.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id);e.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var r=this.type;"duration"==r&&(this.duration="ss");!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1);"date"==r&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.getDateMinMax());if(this.logarithmic){var i=this.treatZeroAs,s=this.getMin(0,this.data.length-1);this.minReal<s&&(this.minReal=s);isNaN(this.minReal)&&(this.minReal=s);0<i&&0===s&&(this.minReal=s=i);if(0>=s||0>=this.minimum){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});return}}this.grid0=null;var o,u,a=t.dx,f=t.dy,i=!1,s=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)i=!0;else{var l=this.labelFrequency,c=this.showFirstLabel,h=this.showLastLabel,p=1;o=0;this.minCalc=this.min;this.maxCalc=this.max;this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum));isNaN(this.minZoom)||(this.min=this.minZoom);isNaN(this.maxZoom)||(this.max=this.maxZoom);var v=Math.round((this.maxCalc-this.minCalc)/this.step)+1,m;!0===s?(m=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/m,m>this.logGridLimit&&(v=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,o=Math.round(Math.log(this.minReal)*Math.LOG10E),v>this.gridCountR&&(p=Math.ceil(v/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var g=0;1>this.step&&-1<this.step&&(g=e.getDecimals(this.step));this.integersOnly&&(g=0);g>this.maxDecCount&&(g=this.maxDecCount);var y=this.precision;isNaN(y)||(g=y);this.max=e.roundTo(this.max,this.maxDecCount);this.min=e.roundTo(this.min,this.maxDecCount);u={};u.precision=g;u.decimalSeparator=t.nf.decimalSeparator;u.thousandsSeparator=t.nf.thousandsSeparator;this.numberFormatter=u;var b,w=this.guides,E=w.length;if(0<E){var S=this.fillAlpha;for(u=this.fillAlpha=0;u<E;u++){var x=w[u],T=NaN,N=x.above;isNaN(x.toValue)||(T=this.getCoordinate(x.toValue),b=new this.axisItemRenderer(this,T,"",!0,NaN,NaN,x),this.pushAxisItem(b,N));var C=NaN;isNaN(x.value)||(C=this.getCoordinate(x.value),b=new this.axisItemRenderer(this,C,x.label,!0,NaN,(T-C)/2,x),this.pushAxisItem(b,N));isNaN(T-C)||(b=new this.guideFillRenderer(this,C,T,x),this.pushAxisItem(b,N),b=b.graphics(),x.graphics=b,x.balloonText&&this.addEventListeners(b,x))}this.fillAlpha=S}this.exponential=!1;for(u=o;u<v;u+=p)w=e.roundTo(this.step*u+this.min,g),-1!=String(w).indexOf("e")&&(this.exponential=!0);this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var g=this.step,k,w=this.minorGridAlpha;this.minorGridEnabled&&(k=this.getMinorGridStep(g,this.stepWidth*g));if("date"==r)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(v>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),u=o;u<v;u+=p)if(r=g*u+this.minCalc,s&&this.max-this.min>10*this.min&&(r-=this.min),r=e.roundTo(r,this.maxDecCount+1),!this.integersOnly||Math.round(r)==r)if(isNaN(y)||Number(e.toFixed(r,y))==r){!0===s&&(0===r&&(r=this.minReal),m>this.logGridLimit&&(r=Math.pow(10,u)));b=this.formatValue(r,!1,u);Math.round(u/l)!=u/l&&(b=void 0);if(0===u&&!c||u==v-1&&!h)b=" ";o=this.getCoordinate(r);var L;this.rotate&&this.autoWrap&&(L=this.stepWidth*g-10);b=new this.axisItemRenderer(this,o,b,void 0,L,void 0,void 0,this.boldLabels);this.pushAxisItem(b);if(r==this.baseValue&&"radar"!=t.type){var A,O,S=this.viW,x=this.viH;b=this.viX;E=this.viY;"H"==this.orientation?0<=o&&o<=S+1&&(A=[o,o,o+a],O=[x,0,f]):0<=o&&o<=x+1&&(A=[0,S,S+a],O=[o,o,o+f]);A&&(o=e.fitToBounds(2*this.gridAlpha,0,1),o=e.line(t.container,A,O,this.gridColor,o,1,this.dashLength),o.translate(b,E),this.grid0=o,t.axesSet.push(o),o.toBack(),e.setCN(t,o,this.bcn+"zero-grid-"+this.id),e.setCN(t,o,this.bcn+"zero-grid"))}if(!isNaN(k)&&0<w&&u<v-1){o=this.gridAlpha;this.gridAlpha=this.minorGridAlpha;for(b=1;b<g/k;b++)E=this.getCoordinate(r+k*b),E=new this.axisItemRenderer(this,E,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(E);this.gridAlpha=o}}m=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(m=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(m=this.max);s&&m<this.minReal&&(m=this.minReal);this.baseCoord=this.getCoordinate(m);m={type:"axisChanged",target:this,chart:t};m.min=s?this.minReal:this.min;m.max=this.max;this.fire("axisChanged",m);this.axisCreated=!0}s=this.axisLine.set;m=this.labelsSet;this.positionTitle();"radar"!=t.type?(t=this.viX,k=this.viY,n.translate(t,k),m.translate(t,k)):s.toFront();!this.visible||i?(n.hide(),s.hide(),m.hide()):(n.show(),s.show(),m.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=e.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime());this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=e.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,n,r){var i=this.exponential,s=this.logarithmic,o=this.numberFormatter,u=this.chart;!0===this.logarithmic&&(i=-1!=String(t).indexOf("e")?!0:!1);this.useScientificNotation&&(i=!0);this.usePrefixes&&(i=!1);i?(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t),i=r.split("e"),r=Number(i[0]),i=Number(i[1]),r=e.roundTo(r,14),10==r&&(r=1,i+=1),r=r+"e"+i,0===t&&(r="0"),1==t&&(r="1")):(s&&(i=String(t).split("."),i[1]?(o.precision=i[1].length,0>r&&(o.precision=Math.abs(r)),n&&1<t&&(o.precision=0)):o.precision=-1),r=this.usePrefixes?e.addPrefix(t,u.prefixesOfBigNumbers,u.prefixesOfSmallNumbers,o,!n):e.formatNumber(t,o,o.precision));this.duration&&(n&&(o.precision=0),r=e.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,o));"date"==this.type&&(r=e.formatDate(new Date(t),this.currentDateFormat,u));this.recalculateToPercents?r+="%":(n=this.unit)&&(r="left"==this.unitPosition?n+r:r+n);this.labelFunction&&(r=this.labelFunction(t,r,this).toString());return r},getMinorGridStep:function(e,t){var n=[5,4,2];60>t&&n.shift();for(var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i=0;i<n.length;i++){var s=e/n[i],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(r-o)))if(1>e){if(o=Math.pow(10,-o)*s,o==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(t){var n=this.stackType;"stacked"==n&&(n="regular");"line"==n&&(n="none");"100% stacked"==n&&(n="100%");this.stackType=n;var r=[],i=[],s=[],o=[],u,a=this.chart.graphs,f,l,c,h,p=this.baseValue,v=!1;if("line"==t||"step"==t||"smoothedLine"==t)v=!0;if(v&&("regular"==n||"100%"==n))for(h=0;h<a.length;h++)c=a[h],c.hidden||(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(f&&(c.stackGraph=f),f=c));for(f=this.start;f<=this.end;f++){var m=0;for(h=0;h<a.length;h++)if(c=a[h],c.hidden)c.newStack&&(s[f]=NaN,i[f]=NaN);else if(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable)if(l=this.data[f].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u))c.newStack&&(s[f]=NaN,i[f]=NaN);else{var g=e.getDecimals(u);m<g&&(m=g);isNaN(o[f])?o[f]=Math.abs(u):o[f]+=Math.abs(u);o[f]=e.roundTo(o[f],m);g=c.fillToGraph;v&&g&&(g=this.data[f].axes[this.id].graphs[g.id])&&(l.values.open=g.values.value);"regular"==n&&(v&&(isNaN(r[f])?(r[f]=u,l.values.close=u,l.values.open=this.baseValue):(isNaN(u)?l.values.close=r[f]:l.values.close=u+r[f],l.values.open=r[f],r[f]=l.values.close)),"column"==t&&(c.newStack&&(s[f]=NaN,i[f]=NaN),l.values.close=u,0>u?(l.values.close=u,isNaN(i[f])?l.values.open=p:(l.values.close+=i[f],l.values.open=i[f]),i[f]=l.values.close):(l.values.close=u,isNaN(s[f])?l.values.open=p:(l.values.close+=s[f],l.values.open=s[f]),s[f]=l.values.close)))}}for(f=this.start;f<=this.end;f++)for(h=0;h<a.length;h++)(c=a[h],c.hidden)?c.newStack&&(s[f]=NaN,i[f]=NaN):(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(l=this.data[f].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u)||(r=u/o[f]*100,l.values.percents=r,l.values.total=o[f],c.newStack&&(s[f]=NaN,i[f]=NaN),"100%"==n&&(isNaN(i[f])&&(i[f]=0),isNaN(s[f])&&(s[f]=0),0>r?(l.values.close=e.fitToBounds(r+i[f],-100,100),l.values.open=i[f],i[f]=l.values.close):(l.values.close=e.fitToBounds(r+s[f],-100,100),l.values.open=s[f],s[f]=l.values.close)))))},recalculate:function(){var t=this.chart,n=t.graphs,r;for(r=0;r<n.length;r++){var i=n[r];if(i.valueAxis==this){var s="value";if("candlestick"==i.type||"ohlc"==i.type)s="open";var o,u,a=this.end+2,a=e.fitToBounds(this.end+1,0,this.data.length-1),f=this.start;0<f&&f--;var l;u=this.start;i.compareFromStart&&(u=0);if(!isNaN(t.startTime)&&(l=t.categoryAxis)){var c=l.minDuration(),c=new Date(t.startTime+c/2),h=e.resetDateToMin(new Date(t.startTime),l.minPeriod).getTime();e.resetDateToMin(new Date(c),l.minPeriod).getTime()>h&&u++}if(l=t.recalculateFromDate)l=e.getDate(l,t.dataDateFormat,"fff"),u=t.getClosestIndex(t.chartData,"time",l.getTime(),!0,0,t.chartData.length),a=t.chartData.length-1;for(l=u;l<=a&&(u=this.data[l].axes[this.id].graphs[i.id],o=u.values[s],i.recalculateValue&&(o=u.dataContext[i.valueField+i.recalculateValue]),isNaN(o));l++);this.recBaseValue=o;for(s=f;s<=a;s++){u=this.data[s].axes[this.id].graphs[i.id];u.percents={};var f=u.values,p;for(p in f)u.percents[p]="percents"!=p?f[p]/o*100-100:f[p]}}}},getMinMax:function(){var t=!1,n=this.chart,r=n.graphs,i;for(i=0;i<r.length;i++){var s=r[i].type;("line"==s||"step"==s||"smoothedLine"==s)&&this.expandMinMax&&(t=!0)}t&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++);"serial"==n.type&&(!0!==n.categoryAxis.parseDates||t||this.end<this.data.length-1&&this.end++);this.includeAllValues&&(this.start=0,this.end=this.data.length-1);t=this.minMaxMultiplier;this.min=this.getMin(this.start,this.end);this.max=this.getMax();this.minRR=this.min;this.maxRR=this.max;t=(this.max-this.min)*(t-1);this.min-=t;this.max+=t;t=this.guides.length;if(this.includeGuidesInMinMax&&0<t)for(n=0;n<t;n++)r=this.guides[n],r.toValue<this.min&&(this.min=r.toValue),r.value<this.min&&(this.min=r.value),r.toValue>this.max&&(this.max=r.toValue),r.value>this.max&&(this.max=r.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);"date"==this.type&&this.getDateMinMax();this.min>this.max&&(t=this.max,this.max=this.min,this.min=t);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);t=this.min;n=this.max;r=this.max-this.min;i=0===r?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/i)*i+i);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/i)*i-i);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=n&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);r=this.max-this.min;i=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10;this.step=Math.ceil(r/this.gridCountR/i)*i;r=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));r=e.fixStepE(r);i=Math.ceil(this.step/r);5<i&&(i=10);5>=i&&2<i&&(i=5);this.step=Math.ceil(this.step/(r*i))*r*i;1>r?(this.maxDecCount=Math.abs(Math.log(Math.abs(r))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=n&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));r=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=r);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(n)*Math.LOG10E-Math.log(t)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(n))*Math.LOG10E))):(n=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10,n<t&&(this.minReal=this.min=10*t)))},getMin:function(e,t){var n,r;for(r=e;r<=t;r++){var i=this.data[r].axes[this.id].graphs,s;for(s in i)if(i.hasOwnProperty(s)){var o=this.chart.getGraphById(s);if(o.includeInMinMax&&(!o.hidden||this.includeHidden)){isNaN(n)&&(n=Infinity);this.foundGraphs=!0;o=i[s].values;this.recalculateToPercents&&(o=i[s].percents);var u;if(this.minMaxField)u=o[this.minMaxField],u<n&&(n=u);else for(var a in o)o.hasOwnProperty(a)&&"percents"!=a&&"total"!=a&&(u=o[a],u<n&&(n=u))}}}return n},getMax:function(){var e,t;for(t=this.start;t<=this.end;t++){var n=this.data[t].axes[this.id].graphs,r;for(r in n)if(n.hasOwnProperty(r)){var i=this.chart.getGraphById(r);if(i.includeInMinMax&&(!i.hidden||this.includeHidden)){isNaN(e)&&(e=-Infinity);this.foundGraphs=!0;i=n[r].values;this.recalculateToPercents&&(i=n[r].percents);var s;if(this.minMaxField)s=i[this.minMaxField],s>e&&(e=s);else for(var o in i)i.hasOwnProperty(o)&&"percents"!=o&&"total"!=o&&(s=i[o],s>e&&(e=s))}}}return e},dispatchZoomEvent:function(e,t){var n={type:"axisZoomed",startValue:e,endValue:t,target:this,chart:this.chart};this.fire(n.type,n)},zoomOut:function(){var e=this.chart;"xy"!=e.type&&(this.maxZoom=this.minZoom=void 0,e.updateAfterValueZoom())},zoomToValues:function(e,t){var n=this.chart;"xy"==n.type?(t<e&&(n=t,t=e,e=n),e<this.min&&(e=this.min),t>this.max&&(t=this.max),n={type:"axisSelfZoomed"},n.chart=this.chart,n.valueAxis=this,n.multiplier=this.axisWidth/Math.abs(this.getCoordinate(t)-this.getCoordinate(e)),n.startValue=e,n.endValue=t,n.position="V"==this.orientation?this.reversed?this.getCoordinate(e):this.getCoordinate(t):this.reversed?this.getCoordinate(t):this.getCoordinate(e),this.fire(n.type,n)):(this.minZoom=e,this.maxZoom=t,n.updateAfterValueZoom())},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,n=this.stepWidth,r=this.reversed,i=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===r?(t-e)/n:e/n:!0===r?e/n:(t-e)/n)+Math.log(o)*Math.LOG10E):!0===r?i?s-(e-t)/n:e/n+s:i?e/n+s:s-(e-t)/n},getCoordinate:function(e){if(isNaN(e))return NaN;var t=this.rotate,n=this.reversed,r=this.axisWidth,i=this.stepWidth,s=this.min,o=this.minReal;!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),e=Math.log(e)*Math.LOG10E-Math.log(o)*Math.LOG10E,t=t?!0===n?r-i*e:i*e:!0===n?i*e:r-i*e):t=!0===n?t?r-i*(e-s):i*(e-s):t?i*(e-s):r-i*(e-s);t=this.rotate?t+(this.x-this.viX):t+(this.y-this.viY);1e7<Math.abs(t)&&(t=1e7*(t/Math.abs(t)));return Math.round(t)},synchronizeWithAxis:function(e){this.synchronizeWith=e;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,n=t.min,r=t.max,t=t.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=t*i,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}}})})();(function(){var e=window.AmCharts;e.RecAxis=e.Class({construct:function(t){var n=t.chart,r=t.axisThickness,i=t.axisColor,s=t.axisAlpha,o=t.offset,u=t.dx,a=t.dy,f=t.viX,l=t.viY,c=t.viH,h=t.viW,p=n.container;"H"==t.orientation?(i=e.line(p,[0,h],[0,0],i,s,r),this.axisWidth=t.width,"bottom"==t.position?(a=r/2+o+c+l-1,r=f):(a=-r/2-o+l+a,r=u+f)):(this.axisWidth=t.height,"right"==t.position?(i=e.line(p,[0,0,-u],[0,c,c-a],i,s,r),a=l+a,r=r/2+o+u+h+f-1):(i=e.line(p,[0,0],[0,c],i,s,r),a=l,r=-r/2-o+f));i.translate(r,a);r=n.container.set();r.push(i);n.axesSet.push(r);e.setCN(n,i,t.bcn+"line");this.axisSet=r;this.set=i}})})();(function(){var e=window.AmCharts;e.RecItem=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l,c,h){n=Math.round(n);var p=t.chart;this.value=r;void 0==r&&(r="");f||(f=0);void 0==i&&(i=!0);var v=p.fontFamily,m=t.fontSize;void 0==m&&(m=p.fontSize);var g=t.color;void 0==g&&(g=p.color);void 0!==c&&(g=c);var y=t.chart.container,b=y.set();this.set=b;var w=t.axisThickness,E=t.axisColor,S=t.axisAlpha,x=t.tickLength,T=t.gridAlpha,N=t.gridThickness,C=t.gridColor,k=t.dashLength,L=t.fillColor,A=t.fillAlpha,O=t.labelsEnabled;c=t.labelRotationR;var M=t.counter,_=t.inside,D=t.labelOffset,P=t.dx,H=t.dy,B=t.orientation,j=t.position,F=t.previousCoord,I=t.viH,q=t.viW,R=t.offset,U,z;u?(void 0!==u.id&&(h=p.classNamePrefix+"-guide-"+u.id),O=!0,isNaN(u.tickLength)||(x=u.tickLength),void 0!=u.lineColor&&(C=u.lineColor),void 0!=u.color&&(g=u.color),isNaN(u.lineAlpha)||(T=u.lineAlpha),isNaN(u.dashLength)||(k=u.dashLength),isNaN(u.lineThickness)||(N=u.lineThickness),!0===u.inside&&(_=!0,0<R&&(R=0)),isNaN(u.labelRotation)||(c=u.labelRotation),isNaN(u.fontSize)||(m=u.fontSize),u.position&&(j=u.position),void 0!==u.boldLabel&&(a=u.boldLabel),isNaN(u.labelOffset)||(D=u.labelOffset)):""===r&&(x=0);l&&!isNaN(t.minorTickLength)&&(x=t.minorTickLength);var W="start";0<s&&(W="middle");t.centerLabels&&(W="middle");var X=c*Math.PI/180,V,$,J=0,K=0,Q=0,G=V=0,Y=0;"V"==B&&(c=0);var Z;O&&""!==r&&(Z=t.autoWrap&&0===c?e.wrappedText(y,r,g,v,m,W,a,Math.abs(s),0):e.text(y,r,g,v,m,W,a),W=Z.getBBox(),G=W.width,Y=W.height);if("H"==B){if(0<=n&&n<=q+1&&(0<x&&0<S&&n+f<=q+1&&(U=e.line(y,[n+f,n+f],[0,x],E,S,N),b.push(U)),0<T&&(z=e.line(y,[n,n+P,n+P],[I,I+H,H],C,T,N,k),b.push(z))),K=0,J=n,u&&90==c&&_&&(J-=m),!1===i?(W="start",K="bottom"==j?_?K+x:K-x:_?K-x:K+x,J+=3,0<s&&(J+=s/2-3,W="middle"),0<c&&(W="middle")):W="middle",1==M&&0<A&&!u&&!l&&F<q&&(i=e.fitToBounds(n,0,q),F=e.fitToBounds(F,0,q),V=i-F,0<V&&($=e.rect(y,V,t.height,L,A),$.translate(i-V+P,H),b.push($))),"bottom"==j?(K+=I+m/2+R,_?(0<c?(K=I-G/2*Math.sin(X)-x-3,J+=G/2*Math.cos(X)-4+2):0>c?(K=I+G*Math.sin(X)-x-3+2,J+=-G*Math.cos(X)-Y*Math.sin(X)-4):K-=x+m+3+3,K-=D):(0<c?(K=I+G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):0>c?(K=I+x+3-G/2*Math.sin(X)+2,J+=G/2*Math.cos(X)):K+=x+w+3+3,K+=D)):(K+=H+m/2-R,J+=P,_?(0<c?(K=G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):K+=x+3,K+=D):(0<c?(K=-(G/2)*Math.sin(X)-x-6,J+=G/2*Math.cos(X)):K-=x+m+3+w+3,K-=D)),"bottom"==j?V=(_?I-x-1:I+w-1)+R:(Q=P,V=(_?H:H-x-w+1)-R),o&&(J+=o),o=J,0<c&&(o+=G/2*Math.cos(X)),Z&&(m=0,_&&(m=G/2*Math.cos(X)),o+m>q+2||0>o))Z.remove(),Z=null}else{0<=n&&n<=I+1&&(0<x&&0<S&&n+f<=I+1&&(U=e.line(y,[0,x+1],[n+f,n+f],E,S,N),b.push(U)),0<T&&(z=e.line(y,[0,P,q+P],[n,n+H,n+H],C,T,N,k),b.push(z)));W="end";if(!0===_&&"left"==j||!1===_&&"right"==j)W="start";K=n-Y/2+2;1==M&&0<A&&!u&&!l&&(i=e.fitToBounds(n,0,I),F=e.fitToBounds(F,0,I),X=i-F,$=e.polygon(y,[0,t.width,t.width,0],[0,0,X,X],L,A),$.translate(P,i-X+H),b.push($));K+=m/2;"right"==j?(J+=P+q+R,K+=H,_?(o||(K-=m/2+3),J=J-(x+4)-D):(J+=x+4+w,K-=2,J+=D)):_?(J+=x+4-R,o||(K-=m/2+3),u&&(J+=P,K+=H),J+=D):(J+=-x-w-4-2-R,K-=2,J-=D);U&&("right"==j?(Q+=P+R+q,V+=H,Q=_?Q-w:Q+w):(Q-=R,_||(Q-=x+w)));o&&(K+=o);_=-3;"right"==j&&(_+=H);Z&&(K>I+1||K<_)&&(Z.remove(),Z=null)}U&&(U.translate(Q,V),e.setCN(p,U,t.bcn+"tick"),e.setCN(p,U,h,!0),u&&e.setCN(p,U,"guide"));!1===t.visible&&(U&&U.remove(),Z&&(Z.remove(),Z=null));Z&&(Z.attr({"text-anchor":W}),Z.translate(J,K,NaN,!0),0!==c&&Z.rotate(-c,t.chart.backgroundColor),t.allLabels.push(Z),this.label=Z,e.setCN(p,Z,t.bcn+"label"),e.setCN(p,Z,h,!0),u&&e.setCN(p,Z,"guide"));z&&(e.setCN(p,z,t.bcn+"grid"),e.setCN(p,z,h,!0),u&&e.setCN(p,z,"guide"));$&&(e.setCN(p,$,t.bcn+"fill"),e.setCN(p,$,h,!0));l?z&&e.setCN(p,z,t.bcn+"grid-minor"):(t.counter=0===M?1:0,t.previousCoord=n);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})})();(function(){var e=window.AmCharts;e.RecFill=e.Class({construct:function(t,n,r,i){var s=t.dx,o=t.dy,u=t.orientation,a=0;if(r<n){var f=n;n=r;r=f}var l=i.fillAlpha;isNaN(l)&&(l=0);var f=t.chart.container,c=i.fillColor;"V"==u?(n=e.fitToBounds(n,0,t.viH),r=e.fitToBounds(r,0,t.viH)):(n=e.fitToBounds(n,0,t.viW),r=e.fitToBounds(r,0,t.viW));r-=n;isNaN(r)&&(r=4,a=2,l=0);0>r&&"object"==typeof c&&(c=c.join(",").split(",").reverse());"V"==u?(u=e.rect(f,t.viW,r,c,l),u.translate(s,n-a+o)):(u=e.rect(f,r,t.viH,c,l),u.translate(n-a+s,o));e.setCN(t.chart,u,"guide-fill");i.id&&e.setCN(t.chart,u,"guide-fill-"+i.id);this.set=f.set([u])},graphics:function(){return this.set},getLabel:function(){}})})();(function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0;this.theme=t;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.17.1";e.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed","resized");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.autoResize=!0;this.autoDisplay=!1;this.addCodeCredits=!0;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var n=document.createElement("div"),r=n.style;r.overflow="hidden";r.position="relative";r.textAlign="left";this.chartDiv=n;n=document.createElement("div");r=n.style;r.overflow="hidden";r.position="relative";r.textAlign="left";this.legendDiv=n;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="amcharts";this.animations=[];this.balloon=new e.AmBalloon(this.theme);this.balloon.chart=this;e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},drawBackground:function(){e.remove(this.background);var t=this.container,n=this.backgroundColor,r=this.backgroundAlpha,i=this.set;e.isModern||0!==r||(r=.001);var s=this.updateWidth();this.realWidth=s;var o=this.updateHeight();this.realHeight=o;n=e.polygon(t,[0,s-1,s-1,0],[0,0,o-1,o-1],n,r,1,this.borderColor,this.borderAlpha);e.setCN(this,n,"bg");this.background=n;i.push(n);if(n=this.backgroundImage)t=t.image(n,0,0,s,o),e.setCN(this,n,"bg-image"),this.bgImg=t,i.push(t)},drawTitles:function(t){var n=this.titles;this.titleHeight=0;if(e.ifArray(n)){var r=20,i;for(i=0;i<n.length;i++){var s=n[i],s=e.processObject(s,e.Title,this.theme);if(!1!==s.enabled){var o=s.color;void 0===o&&(o=this.color);var u=s.size;isNaN(u)&&(u=this.fontSize+2);isNaN(s.alpha);var a=this.marginLeft,o=e.wrappedText(this.container,s.text,o,this.fontFamily,u,"middle",!1,this.divRealWidth-20);o.translate(a+(this.realWidth-this.marginRight-a)/2,r);o.node.style.pointerEvents="none";s.sprite=o;e.setCN(this,o,"title");s.id&&e.setCN(this,o,"title-"+s.id);a=!0;void 0!==s.bold&&(a=s.bold);a&&o.attr({"font-weight":"bold"});o.attr({opacity:s.alpha});r+=o.getBBox().height+5;t?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=r-10}},write:function(t){if(t="object"!=typeof t?document.getElementById(t):t){for(;t.firstChild;)t.removeChild(t.firstChild);this.div=t;t.style.overflow="hidden";t.style.textAlign="left";var n=this.chartDiv,r=this.legendDiv,i=this.legend,s=r.style,o=n.style;this.measure();this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;var u,a=document.createElement("div");u=a.style;u.position="relative";this.containerDiv=a;a.className=this.classNamePrefix+"-main-div";n.className=this.classNamePrefix+"-chart-div";t.appendChild(a);var f=this.exportConfig;f&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,f));this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0));this.AmExport&&this.AmExport.init&&this.AmExport.init();if(i)if(i=this.addLegend(i,i.divId),i.enabled)switch(i.position){case"bottom":a.appendChild(n);a.appendChild(r);break;case"top":a.appendChild(r);a.appendChild(n);break;case"absolute":u.width=t.style.width;u.height=t.style.height;s.position="absolute";o.position="absolute";void 0!==i.left&&(s.left=i.left+"px");void 0!==i.right&&(s.right=i.right+"px");void 0!==i.top&&(s.top=i.top+"px");void 0!==i.bottom&&(s.bottom=i.bottom+"px");i.marginLeft=0;i.marginRight=0;a.appendChild(n);a.appendChild(r);break;case"right":u.width=t.style.width;u.height=t.style.height;s.position="relative";o.position="absolute";a.appendChild(n);a.appendChild(r);break;case"left":u.width=t.style.width;u.height=t.style.height;s.position="absolute";o.position="relative";a.appendChild(n);a.appendChild(r);break;case"outside":a.appendChild(n)}else a.appendChild(n);else a.appendChild(n);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){if(this.listeners)for(var t in this.listeners){var n=this.listeners[t];this.addListener(n.event,n.method)}window.AmCharts_path&&(this.path=window.AmCharts_path);void 0===this.path&&(this.path=e.getPath());void 0===this.path&&(this.path="amcharts/");this.path=e.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(e.callInitHandler(this),this.initHC=!0);e.applyLang(this.language,this);if(t=this.numberFormatter)isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator);(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.destroy();(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);this.container=t;this.extension=".png";this.svgIcons&&e.SVG&&(this.extension=".svg");this.checkDisplay();t.chart=this;e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,this.set&&this.set.remove(),this.set=t.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=t.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=t.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=t.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=t.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=t.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=t.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=t.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=t.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=t.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=t.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=t.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=t.set(),this.freeLabelsSet=t.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=t.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zbSet&&(this.zbSet.remove(),this.zbSet=null),this.zoomButtonSet=t.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=t.set()):this.fire("failed",{type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){this.boundingRect=this.chartDiv.getBoundingClientRect();var t=e.offsetWidth,n=e.offsetHeight;e.clientHeight&&(t=e.clientWidth,n=e.clientHeight);if(t!=this.mw||n!=this.mh)this.mw=t,this.mh=n,this.measure()}},measure:function(){var t=this.div;if(t){var n=this.chartDiv,r=t.offsetWidth,i=t.offsetHeight,s=this.container;t.clientHeight&&(r=t.clientWidth,i=t.clientHeight);var o=e.removePx(e.getStyle(t,"padding-left")),u=e.removePx(e.getStyle(t,"padding-right")),a=e.removePx(e.getStyle(t,"padding-top")),f=e.removePx(e.getStyle(t,"padding-bottom"));isNaN(o)||(r-=o);isNaN(u)||(r-=u);isNaN(a)||(i-=a);isNaN(f)||(i-=f);o=t.style;t=o.width;o=o.height;-1!=t.indexOf("px")&&(r=e.removePx(t));-1!=o.indexOf("px")&&(i=e.removePx(o));i=Math.round(i);r=Math.round(r);t=Math.round(e.toCoordinate(this.width,r));o=Math.round(e.toCoordinate(this.height,i));(r!=this.previousWidth||i!=this.previousHeight)&&0<t&&0<o&&(n.style.width=t+"px",n.style.height=o+"px",n.style.padding=0,s&&s.setSize(t,o),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),this.balloon.setBounds(2,2,t-2,o));this.balloon.chart=this;this.realWidth=t;this.realHeight=o;this.divRealWidth=r;this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=e.rect(this.container,10,10),n=t.getBBox();0===n.width&&0===n.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN);t.remove()}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(t){e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]);this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null;this.clearTimeOuts();this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv));t||e.removeChart(this);if(t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default");this.chartDiv.style.cursor=t;this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){if(this.container&&!1!==t.enabled){t=e.processObject(t,e.Label,this.theme);var n=t.y,r=t.text,i=t.align,s=t.size,o=t.color,u=t.rotation,a=t.alpha,f=t.bold,l=e.toCoordinate(t.x,this.realWidth),n=e.toCoordinate(n,this.realHeight);l||(l=0);n||(n=0);void 0===o&&(o=this.color);isNaN(s)&&(s=this.fontSize);i||(i="start");"left"==i&&(i="start");"right"==i&&(i="end");"center"==i&&(i="middle",u?n=this.realHeight-n+n/2:l=this.realWidth/2-l);void 0===a&&(a=1);void 0===u&&(u=0);n+=s/2;r=e.text(this.container,r,o,this.fontFamily,s,i,f,a);r.translate(l,n);e.setCN(this,r,"label");t.id&&e.setCN(this,r,"label-"+t.id);0!==u&&r.rotate(u);t.url?(r.setAttr("cursor","pointer"),r.click(function(){e.getURL(t.url)})):r.node.style.pointerEvents="none";this.labelsSet.push(r);this.labels.push(r)}},addLabel:function(e,t,n,r,i,s,o,u,a,f){e={x:e,y:t,text:n,align:r,size:i,color:s,alpha:u,rotation:o,bold:a,url:f,enabled:!0};this.container&&this.drawLabel(e);this.allLabels.push(e)},clearLabels:function(){var e=this.labels,t;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var n=this.legendDiv.offsetHeight,t=t.position;if("top"==t||"bottom"==t){e-=n;if(0>e||isNaN(e))e=0;this.chartDiv.style.height=e+"px"}}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,n=this.legend;if(n){var r=this.legendDiv,i=r.offsetWidth;isNaN(n.width)||(i=n.width);n.ieW&&(i=n.ieW);var s=r.offsetHeight,r=r.style,o=this.chartDiv.style,n=n.position;if("right"==n||"left"==n){e-=i;if(0>e||isNaN(e))e=0;o.width=e+"px";this.balloon.setBounds(2,2,e-2,this.realHeight);"left"==n?(o.left=i+"px",r.left="0px"):(o.left="0px",r.left=e+"px");t>s&&(r.top=(t-s)/2+"px")}}return e},getTitleHeight:function(){this.drawTitles(!0);return this.titleHeight},addTitle:function(e,t,n,r,i){isNaN(t)&&(t=this.fontSize+2);e={text:e,size:t,color:n,alpha:r,bold:i,enabled:!0};this.titles.push(e);return e},handleWheel:function(e){var t=0;e||(e=window.event);e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3);t&&this.handleWheelReal(t,e.shiftKey);e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.hideBalloonReal();this.handleMouseMove();this.tmx=this.mouseX;this.tmy=this.mouseY},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)&&(this.tapped=!0)):this.tapped=!1},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?(e.panEventsEnabled&&(t.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),document.addEventListener("touchstart",function(t){e.handleDocTouchStart.call(e,t)}),document.addEventListener("touchend",function(t){e.handleDocTouchEnd.call(e,t)})),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0;e.handleMouseMove.call(e,t);e.handleMouseDown.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){if(!this.skipEvents){var e;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,e="dataUpdated",this.fire(e,{type:e,chart:this}));this.chartCreated||(this.chartCreated=!0,e="init",this.fire(e,{type:e,chart:this}));this.chartRendered||(e="rendered",this.fire(e,{type:e,chart:this}),this.chartRendered=!0);e="drawn";this.fire(e,{type:e,chart:this})}this.skipEvents=!1},validateSize:function(){var e=this;e.premeasure();e.checkDisplay();if(e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){e.sizeChanged=!0;if(t){e.legendInitTO&&clearTimeout(e.legendInitTO);var n=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(n);e.legendInitTO=n}"xy"!=e.type?e.marginsUpdated=!1:(e.marginsUpdated=!0,e.selfZoom=!0);clearTimeout(e.initTO);n=setTimeout(function(){e.initChart()},10);e.timeOuts.push(n);e.initTO=n}e.fire("resized",{type:"resized",chart:e});e.renderFix();t&&t.renderFix&&t.renderFix();e.previousHeight=e.divRealHeight;e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1;clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t);e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO);e&&(this.dataChanged=!0);this.skipEvents=t;this.chartRendered=!1;this.write(this.div)},showItem:function(e){e.hidden=!1;this.initChart()},hideItem:function(e){e.hidden=!0;this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt);clearTimeout(e.balloonTO);e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide()},showBalloon:function(e,t,n,r,i){var s=this;clearTimeout(s.balloonTO);clearTimeout(s.hoverInt);s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,e,t,n,r,i)},1)},showBalloonReal:function(e,t,n,r,i){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(t),!n||s.fixedPosition?(s.setPosition(r,i),isNaN(r)||isNaN(i)?s.followCursor(!0):s.followCursor(!1)):s.followCursor(!0),e&&s.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO);e.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){var e=this;e.outTO&&clearTimeout(e.outTO);e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){e.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(e){e||(e=window.event);if(e){if(e.touches){if(e=e.touches.item(0),!e)return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(this.mouseX=e.clientX-this.boundingRect.left,this.mouseY=e.clientY-this.boundingRect.top)}},handleTouchStart:function(e){this.hideBalloonReal();e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(t){this.wasTouched=!0;this.handleMouseMove(t);e.resetMouseOver();this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){e.resetMouseOver();this.mouseIsOver=!0;t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,n){t=e.processObject(t,e.AmLegend,this.theme);t.divId=n;t.ieW=0;var r;r="object"!=typeof n&&n?document.getElementById(n):n;this.legend=t;t.chart=this;r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv;return t},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(e.hasSVG)return this.container},animate:function(t,n,r,i,s,o,u){t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]);r={obj:t,frame:0,attribute:n,from:r,to:i,time:s,effect:o,suffix:u};t["an_"+n]=r;this.animations.push(r);return r},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;this.container&&this.container.update();if(this.animations)for(t=this.animations.length-1;0<=t;t--){var n=this.animations[t],r=1e3*n.time/e.updateRate,i=n.frame+1,s=n.obj,o=n.attribute;if(i<=r){n.frame++;var u=Number(n.from),a=Number(n.to)-u,r=e[n.effect](0,i,u,a,r);0===a?(this.animations.splice(t,1),s.node.style[o]=Number(n.to)+n.suffix):s.node.style[o]=r+n.suffix}else s.node.style[o]=Number(n.to)+n.suffix,this.animations.splice(t,1)}},update:function(){this.updateAnimations()},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){var e="amcharts.com",t=window.location.hostname.split("."),n;2<=t.length&&(n=t[t.length-2]+"."+t[t.length-1]);this.amLink&&(t=this.amLink.parentNode)&&t.removeChild(this.amLink);t=this.creditsPosition;if(n!=e||!0===this.inIframe()){var e="http://www."+e,r=n=0,i=this.realWidth,s=this.realHeight,o=this.type;if("serial"==o||"xy"==o||"gantt"==o)n=this.marginLeftReal,r=this.marginTopReal,i=n+this.plotAreaWidth,s=r+this.plotAreaHeight;var o=e+"/javascript-charts/",u="JavaScript charts",a="";"ammap"==this.product&&(o=e+"/javascript-maps/",u="Interactive JavaScript maps",a="JS map by amCharts");e=document.createElement("a");a=document.createTextNode(a);e.setAttribute("href",o);e.setAttribute("title",u);e.appendChild(a);this.chartDiv.appendChild(e);this.amLink=e;o=e.style;o.position="absolute";o.textDecoration="none";o.color=this.color;o.fontFamily=this.fontFamily;o.fontSize=this.fontSize+"px";o.opacity=.7;o.display="block";var u=e.offsetWidth,e=e.offsetHeight,a=5+n,f=r+5;"bottom-left"==t&&(a=5+n,f=s-e-3);"bottom-right"==t&&(a=i-u-5,f=s-e-3);"top-right"==t&&(a=i-u-5,f=r+5);o.left=a+"px";o.top=f+"px"}}});e.Slice=e.Class({construct:function(){}});e.SerialDataItem=e.Class({construct:function(){}});e.GraphDataItem=e.Class({construct:function(){}});e.Guide=e.Class({construct:function(t){this.cname="Guide";e.applyTheme(this,t,this.cname)}});e.Title=e.Class({construct:function(t){this.cname="Title";e.applyTheme(this,t,this.cname)}});e.Label=e.Class({construct:function(t){this.cname="Label";e.applyTheme(this,t,this.cname)}})})();(function(){var e=window.AmCharts;e.AmGraph=e.Class({construct:function(t){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";e.applyTheme(this,t,this.cname)},draw:function(){var t=this.chart,n=t.type;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var r=t.container;this.container=r;this.destroy();var i=r.set(),s=r.set();this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(s)):(t.graphsSet.push(i),t.bulletSet.push(s));var o=this.bulletAxis;e.isString(o)&&(this.bulletAxis=t.getValueAxisById(o));this.bulletSet=s;if(!this.scrollbar){var o=t.marginLeftReal,u=t.marginTopReal;i.translate(o,u);s.translate(o,u)}r=r.set();e.remove(this.columnsSet);i.push(r);this.set=i;e.setCN(t,i,"graph-"+this.type);e.setCN(t,i,"graph-"+this.id);e.setCN(t,s,"graph-"+this.type);e.setCN(t,s,"graph-"+this.id);this.columnsSet=r;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];i=this.labelPosition;i||(s=this.valueAxis.stackType,i="top","column"==this.type&&(t.rotate&&(i="right"),"100%"==s||"regular"==s)&&(i="middle"),this.labelPosition=i);e.ifArray(this.data)&&(t=!1,"xy"==n?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph())},createGraph:function(){var e=this,t=e.chart;e.startAlpha=t.startAlpha;e.seqAn=t.sequencedAnimation;e.baseCoord=e.valueAxis.baseCoord;void 0===e.fillAlphas&&(e.fillAlphas=0);e.bulletColorR=e.bulletColor;void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor);void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha);t=t.type;"gantt"==t&&(t="serial");clearTimeout(e.playedTO);if(!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(t){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph(),e.positiveClip(e.set)}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e=[],t=[],n=this.xAxis,r=this.yAxis;this.pmh=r.viH+1;this.pmw=n.viW+1;this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var s=this.data[i].axes[n.id].graphs[this.id],o=s.values,u=o.x,a=o.y,o=n.getCoordinate(u),f=r.getCoordinate(a);!isNaN(u)&&!isNaN(a)&&(e.push(o),t.push(f),s.x=o,s.y=f,u=this.createBullet(s,o,f,i),a=this.labelText)&&(s=this.createLabel(s,o,f,a),this.positionLabel(o,f,s,u),this.allBullets.push(s))}this.drawLineGraph(e,t);this.launchAnimation()},createRadarGraph:function(){var e=this.valueAxis.stackType,t=[],n=[],r=[],i=[],s,o,u,a,f;for(f=this.start;f<=this.end;f++){var l=this.data[f].axes[this.valueAxis.id].graphs[this.id],c,h;"none"==e||"3d"==e?c=l.values.value:(c=l.values.close,h=l.values.open);if(isNaN(c))this.connect||(this.drawLineGraph(t,n,r,i),t=[],n=[],r=[],i=[]);else{var p=this.y-(this.valueAxis.getCoordinate(c)-this.height),p=p*this.valueAxis.rMultiplier,d=180-360/(this.end-this.start+1)*f;"middle"==this.valueAxis.pointPosition&&(d-=180/(this.end-this.start+1));c=p*Math.sin(d/180*Math.PI);p*=Math.cos(d/180*Math.PI);t.push(c);n.push(p);if(!isNaN(h)){var v=this.y-(this.valueAxis.getCoordinate(h)-this.height),v=v*this.valueAxis.rMultiplier,m=v*Math.sin(d/180*Math.PI),d=v*Math.cos(d/180*Math.PI);r.push(m);i.push(d);isNaN(u)&&(u=m);isNaN(a)&&(a=d)}d=this.createBullet(l,c,p,f);l.x=c;l.y=p;if(m=this.labelText)l=this.createLabel(l,c,p,m),this.positionLabel(c,p,l,d),this.allBullets.push(l);isNaN(s)&&(s=c);isNaN(o)&&(o=p)}}t.push(s);n.push(o);isNaN(u)||(r.push(u),i.push(a));this.drawLineGraph(t,n,r,i);this.launchAnimation()},positionLabel:function(e,t,n,r){var i="middle",s=!1,o=this.labelPosition,u=n.getBBox();if(r){var a=r.graphDataItem,f=this.chart.rotate,l=a.isNegative,c=this.chart,h=this.valueAxis;t-=u.height/4/2;switch(o){case"top":o=f?"top":l?"bottom":"top";break;case"right":o=f?l?"left":"right":"right";break;case"bottom":o=f?"bottom":l?"top":"bottom";break;case"left":o=f?l?"right":"left":"left"}var p=a.columnGraphics,d=0,v=0;p&&(d=p.x,v=p.y);var m=this.labelOffset;switch(o){case"top":t=h.reversed?t+(r.size/2+u.height/2+m):t-(r.size/2+u.height/2+m);break;case"right":i="start";e+=r.size/2+m;break;case"bottom":t=h.reversed?t-(r.size/2+u.height/2+m):t+(r.size/2+u.height/2+m);break;case"left":i="end";e-=r.size/2+m;break;case"inside":"column"==this.type&&(s=!0,f?l?(i="end",e=d-3-m):(i="start",e=d+3+m):t=l?v+7+m:v-10-m);break;case"middle":"column"==this.type&&(s=!0,f?e-=(e-d)/2+m-3:t-=(t-v)/2+m-3)}"auto"!=this.labelAnchor&&(i=this.labelAnchor);n.attr({"text-anchor":i});this.labelRotation&&n.rotate(this.labelRotation);n.translate(e,t);u=n.getBBox();!this.showAllValueLabels&&p&&s&&(u.height>a.columnHeight||u.width>a.columnWidth)&&(n.remove(),n=!1);if(n&&("serial"==c.type||"gantt"==c.type))if(f){if(0>t||t>this.height)n.remove(),n=!1}else if(0>e||e>this.width)n.remove(),n=!1;return n}},getGradRotation:function(){var e=270;"horizontal"==this.gradientOrientation&&(e=0);return this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,n=this.id,r=this.index,i=this.data,s=this.chart.container,o=this.valueAxis,u=this.type,a=this.columnWidthReal,f=this.showBulletsAt;isNaN(this.columnWidth)||(a=this.columnWidth);isNaN(a)&&(a=.8);var l=this.useNegativeColorIfDown,c=this.width,h=this.height,p=this.y,v=this.rotate,m=this.columnCount,g=e.toCoordinate(this.cornerRadiusTop,a/2),y=this.connect,b=[],w=[],E,S,x,T,N=this.chart.graphs.length,C,k=this.dx/this.tcc,L=this.dy/this.tcc,A=o.stackType,O=this.start,M=this.end,_=this.scrollbar,D="graph-column-";_&&(D="scrollbar-graph-column-");var P=this.categoryAxis,H=this.baseCoord,B=this.negativeBase,j=this.columnIndex,F=this.lineThickness,I=this.lineAlpha,q=this.lineColorR,R=this.dashLength,U=this.set,z,W=this.getGradRotation(),X=this.chart.columnSpacing,V=P.cellWidth,$=(V*a-m)/m;X>$&&(X=$);var J,K,Q,G=h+1,Y=c+1,Z=0,et=0,tt,nt,rt,it,st=this.fillColorsR,ot=this.negativeFillColors,ut=this.negativeLineColor,at=this.fillAlphas,ft=this.negativeFillAlphas;"object"==typeof at&&(at=at[0]);"object"==typeof ft&&(ft=ft[0]);var lt=o.getCoordinate(o.min);o.logarithmic&&(lt=o.getCoordinate(o.minReal));this.minCoord=lt;this.resetBullet&&(this.bullet="none");if(!(_||"line"!=u&&"smoothedLine"!=u&&"step"!=u||(1==i.length&&"step"!=u&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ot&&void 0==ut||l))){var ct=B;ct>o.max&&(ct=o.max);ct<o.min&&(ct=o.min);o.logarithmic&&(ct=o.minReal);var ht=o.getCoordinate(ct),pt=o.getCoordinate(o.max);v?(G=h,Y=Math.abs(pt-ht)+1,tt=h,nt=Math.abs(lt-ht)+1,it=et=0,o.reversed?(Z=0,rt=ht):(Z=ht,rt=0)):(Y=c,G=Math.abs(pt-ht)+1,nt=c,tt=Math.abs(lt-ht)+1,rt=Z=0,o.reversed?(it=p,et=ht):it=ht+1)}var dt=Math.round;this.pmx=dt(Z);this.pmy=dt(et);this.pmh=dt(G);this.pmw=dt(Y);this.nmx=dt(rt);this.nmy=dt(it);this.nmh=dt(tt);this.nmw=dt(nt);e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height);this.clustered||(m=1);a="column"==u?(V*a-X*(m-1))/m:V*a;1>a&&(a=1);var vt=this.fixedColumnWidth;isNaN(vt)||(a=vt);var mt;if("line"==u||"step"==u||"smoothedLine"==u){if(0<O){for(mt=O-1;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){O=mt;break}if(this.lineColorField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],K.lineColor){this.bulletColorSwitched=this.lineColorSwitched=K.lineColor;break}if(this.fillColorsField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],K.fillColors){this.fillColorsSwitched=K.fillColors;break}if(this.dashLengthField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],!isNaN(K.dashLength)){this.dashLengthSwitched=K.dashLength;break}}if(M<i.length-1)for(mt=M+1;mt<i.length;mt++)if(J=i[mt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){M=mt;break}}M<i.length-1&&M++;var gt=[],yt=[],bt=!1;if("line"==u||"step"==u||"smoothedLine"==u)if(this.stackable&&"regular"==A||"100%"==A||this.fillToGraph)bt=!0;var wt=this.noStepRisers,Et=-1e3,St=-1e3,xt=this.minDistance,Tt=!0,Nt=!1,Ct=0,kt=0;for(mt=O;mt<=M;mt++){J=i[mt];K=J.axes[o.id].graphs[n];K.index=mt;var Lt,At=NaN;if(l&&void 0==this.openField)for(var Ot=mt+1;Ot<i.length&&(!i[Ot]||!(Lt=i[mt+1].axes[o.id].graphs[n])||!Lt.values||(At=Lt.values.value,isNaN(At)));Ot++);var Mt,_t,Dt,Pt,Ht=NaN,Bt=NaN,jt=NaN,Ft=NaN,It=NaN,qt=NaN,Rt=NaN,Ut=NaN,zt=NaN,Wt=NaN,Xt=NaN,Vt=NaN,$t=NaN,Jt=NaN,Kt=NaN,Qt=NaN,Gt=NaN,Yt=void 0,Zt=st,en=at,tn=q,nn,rn,sn=this.proCandlesticks,on=this.topRadius,un=this.pattern;void 0!=K.pattern&&(un=K.pattern);isNaN(K.alpha)||(en=K.alpha);isNaN(K.dashLength)||(R=K.dashLength);var an=K.values;o.recalculateToPercents&&(an=K.percents);if(an){Jt=this.stackable&&"none"!=A&&"3d"!=A?an.close:an.value;if("candlestick"==u||"ohlc"==u)Jt=an.close,Qt=an.low,Rt=o.getCoordinate(Qt),Kt=an.high,zt=o.getCoordinate(Kt);Gt=an.open;jt=o.getCoordinate(Jt);isNaN(Gt)||(It=o.getCoordinate(Gt),l&&(At=Gt,Gt=It=NaN));l&&(void 0==this.openField?Lt&&(Lt.isNegative=At<Jt?!0:!1,isNaN(At)&&(K.isNegative=!Tt)):K.isNegative=At>Jt?!0:!1);if(!_)switch(this.showBalloonAt){case"close":K.y=jt;break;case"open":K.y=It;break;case"high":K.y=zt;break;case"low":K.y=Rt}var Ht=J.x[P.id],fn=this.periodSpan-1,ln=Math.floor(V/2)+Math.floor(fn*V/2),cn=ln,hn=0;"left"==this.stepDirection&&(hn=(2*V+fn*V)/2,Ht-=hn);"center"==this.stepDirection&&(hn=V/2,Ht-=hn);"start"==this.pointPosition&&(Ht-=V/2+Math.floor(fn*V/2),ln=0,cn=Math.floor(V)+Math.floor(fn*V));"end"==this.pointPosition&&(Ht+=V/2+Math.floor(fn*V/2),ln=Math.floor(V)+Math.floor(fn*V),cn=0);if(wt){var pn=this.columnWidth;isNaN(pn)||(ln*=pn,cn*=pn)}_||(K.x=Ht);-1e5>Ht&&(Ht=-1e5);Ht>c+1e5&&(Ht=c+1e5);v?(Bt=jt,Ft=It,It=jt=Ht,isNaN(Gt)&&!this.fillToGraph&&(Ft=H),qt=Rt,Ut=zt):(Ft=Bt=Ht,isNaN(Gt)&&!this.fillToGraph&&(It=H));if(!sn&&Jt<Gt||sn&&Jt<z)K.isNegative=!0,ot&&(Zt=ot),ft&&(en=ft),void 0!=ut&&(tn=ut);Nt=!1;isNaN(Jt)||(l?Jt>At?(Tt&&(Nt=!0),Tt=!1):(Tt||(Nt=!0),Tt=!0):K.isNegative=Jt<B?!0:!1,z=Jt);var dn=!1;_&&t.chartScrollbar.ignoreCustomColors&&(dn=!0);dn||(void 0!=K.color&&(Zt=K.color),K.fillColors&&(Zt=K.fillColors));switch(u){case"line":if(isNaN(Jt))y||(this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]);else{if(Math.abs(Bt-Et)>=xt||Math.abs(jt-St)>=xt)b.push(Bt),w.push(jt),Et=Bt,St=jt;Wt=Bt;Xt=jt;Vt=Bt;$t=jt;!bt||isNaN(It)||isNaN(Ft)||(gt.push(Ft),yt.push(It));if(Nt||void 0!=K.lineColor||void 0!=K.fillColors||!isNaN(K.dashLength))this.drawLineGraph(b,w,gt,yt),b=[Bt],w=[jt],gt=[],yt=[],!bt||isNaN(It)||isNaN(Ft)||(gt.push(Ft),yt.push(It)),l?Tt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot):(this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors),this.dashLengthSwitched=K.dashLength;K.gap&&(this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[])}break;case"smoothedLine":if(isNaN(Jt))y||(this.drawSmoothedGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]);else{if(Math.abs(Bt-Et)>=xt||Math.abs(jt-St)>=xt)b.push(Bt),w.push(jt),Et=Bt,St=jt;Wt=Bt;Xt=jt;Vt=Bt;$t=jt;!bt||isNaN(It)||isNaN(Ft)||(gt.push(Ft),yt.push(It));void 0==K.lineColor&&void 0==K.fillColors&&isNaN(K.dashLength)||(this.drawSmoothedGraph(b,w,gt,yt),b=[Bt],w=[jt],gt=[],yt=[],!bt||isNaN(It)||isNaN(Ft)||(gt.push(Ft),yt.push(It)),this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors,this.dashLengthSwitched=K.dashLength);K.gap&&(this.drawSmoothedGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[])}break;case"step":if(!isNaN(Jt)){v?(isNaN(E)||(b.push(E),w.push(jt-ln)),w.push(jt-ln),b.push(Bt),w.push(jt+cn),b.push(Bt),!bt||isNaN(It)||isNaN(Ft)||(isNaN(x)||(gt.push(x),yt.push(It-ln)),gt.push(Ft),yt.push(It-ln),gt.push(Ft),yt.push(It+cn))):(isNaN(S)||(w.push(S),b.push(Bt-ln)),b.push(Bt-ln),w.push(jt),b.push(Bt+cn),w.push(jt),!bt||isNaN(It)||isNaN(Ft)||(isNaN(T)||(gt.push(Ft-ln),yt.push(T)),gt.push(Ft-ln),yt.push(It),gt.push(Ft+cn),yt.push(It)));E=Bt;S=jt;x=Ft;T=It;Wt=Bt;Xt=jt;Vt=Bt;$t=jt;if(Nt||void 0!=K.lineColor||void 0!=K.fillColors||!isNaN(K.dashLength)){var vn=b[b.length-2],mn=w[w.length-2];b.pop();w.pop();this.drawLineGraph(b,w,gt,yt);b=[vn];w=[mn];v?(w.push(jt+cn),b.push(Bt)):(b.push(Bt+cn),w.push(jt));gt=[];yt=[];this.lineColorSwitched=K.lineColor;this.fillColorsSwitched=K.fillColors;this.dashLengthSwitched=K.dashLength;l&&(Tt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot))}if(wt||K.gap)E=S=NaN,this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]}else if(!y){if(1>=this.periodSpan||1<this.periodSpan&&Bt-E>ln+cn)E=S=NaN;this.drawLineGraph(b,w,gt,yt);b=[];w=[];gt=[];yt=[]}break;case"column":nn=tn;void 0!=K.lineColor&&(nn=K.lineColor);if(!isNaN(Jt)){l||(K.isNegative=Jt<B?!0:!1);K.isNegative&&(ot&&(Zt=ot),void 0!=ut&&(nn=ut));var gn=o.min,yn=o.max;if(!(Jt<gn&&Gt<gn||Jt>yn&&Gt>yn)){var bn;if(v){"3d"==A?(_t=jt-(m/2-this.depthCount+1)*(a+X)+X/2+L*j,Mt=Ft+k*j,bn=j):(_t=Math.floor(jt-(m/2-j)*(a+X)+X/2),Mt=Ft,bn=0);Dt=a;Wt=Bt;Xt=_t+a/2;isNaN(Ft)||Ft>Bt&&!K.isNegative&&(Wt=Ft);Vt=Bt;$t=_t+a/2;_t+Dt>h+bn*L&&(Dt=h-_t+bn*L);_t<bn*L&&(Dt+=_t,_t=bn*L);Pt=Bt-Ft;var wn=Mt;Mt=e.fitToBounds(Mt,0,c);Pt+=wn-Mt;Pt=e.fitToBounds(Pt,-Mt,c-Mt+k*j);isNaN(J.percentWidthValue)||(Dt=this.height*J.percentWidthValue/100,_t=kt,kt+=Dt,Xt=_t+Dt/2);_t<h&&0<Dt&&(Yt=new e.Cuboid(s,Pt,Dt,k-t.d3x,L-t.d3y,Zt,en,F,nn,I,W,g,v,R,un,on,D),K.columnWidth=Math.abs(Pt),K.columnHeight=Math.abs(Dt))}else{"3d"==A?(Mt=Bt-(m/2-this.depthCount+1)*(a+X)+X/2+k*j,_t=It+L*j,bn=j):(Mt=Bt-(m/2-j)*(a+X)+X/2,_t=It,bn=0);Dt=a;Wt=Mt+a/2;Xt=jt;isNaN(It)||It<jt&&!K.isNegative&&!o.reversed&&(Xt=It);Vt=Mt+a/2;$t=jt;Mt+Dt>c+bn*k&&(Dt=c-Mt+bn*k);Mt<bn*k&&(Dt+=Mt-bn*k,Mt=bn*k);Pt=jt-It;var En=_t;_t=e.fitToBounds(_t,this.dy,h);Pt+=En-_t;Pt=e.fitToBounds(Pt,-_t+L*j,h-_t);isNaN(J.percentWidthValue)||(Dt=this.width*J.percentWidthValue/100,Mt=Ct,Ct+=Dt,Wt=Mt+Dt/2);Mt<c+j*k&&0<Dt&&(this.showOnAxis&&(_t-=L/2),Yt=new e.Cuboid(s,Dt,Pt,k-t.d3x,L-t.d3y,Zt,en,F,nn,this.lineAlpha,W,g,v,R,un,on,D),K.columnHeight=Math.abs(Pt),K.columnWidth=Math.abs(Dt))}}if(Yt&&(rn=Yt.set,e.setCN(t,Yt.set,"graph-"+this.type),e.setCN(t,Yt.set,"graph-"+this.id),K.className&&e.setCN(t,Yt.set,K.className,!0),K.columnGraphics=rn,rn.translate(Mt,_t),this.columnsSet.push(rn),(K.url||this.showHandOnHover)&&rn.setAttr("cursor","pointer"),!_)){"none"==A&&(C=v?(this.end+1-mt)*N-r:N*mt+r);"3d"==A&&(v?(C=(this.end+1-mt)*N-r-1e3*this.depthCount,Wt+=k*this.columnIndex,Vt+=k*this.columnIndex,K.y+=k*this.columnIndex):(C=(N-r)*(mt+1)+1e3*this.depthCount,Xt+=L*this.columnIndex,$t+=L*this.columnIndex,K.y+=L*this.columnIndex));if("regular"==A||"100%"==A)C=v?0<an.value?(this.end+1-mt)*N+r:(this.end+1-mt)*N-r:0<an.value?N*mt+r:N*mt-r;this.columnsArray.push({column:Yt,depth:C});K.x=v?_t+Dt/2:Mt+Dt/2;this.ownColumns.push(Yt);this.animateColumns(Yt,mt,Bt,Ft,jt,It);this.addListeners(rn,K)}}break;case"candlestick":if(!isNaN(Gt)&&!isNaN(Jt)){var Sn,xn;nn=tn;void 0!=K.lineColor&&(nn=K.lineColor);if(v){if(_t=jt-a/2,Mt=Ft,Dt=a,_t+Dt>h&&(Dt=h-_t),0>_t&&(Dt+=_t,_t=0),_t<h&&0<Dt){var Tn,Nn;Jt>Gt?(Tn=[Bt,Ut],Nn=[Ft,qt]):(Tn=[Ft,Ut],Nn=[Bt,qt]);!isNaN(Ut)&&!isNaN(qt)&&jt<h&&0<jt&&(Sn=e.line(s,Tn,[jt,jt],nn,I,F),xn=e.line(s,Nn,[jt,jt],nn,I,F));Pt=Bt-Ft;Yt=new e.Cuboid(s,Pt,Dt,k,L,Zt,at,F,nn,I,W,g,v,R,un,on,D)}}else if(Mt=Bt-a/2,_t=It+F/2,Dt=a,Mt+Dt>c&&(Dt=c-Mt),0>Mt&&(Dt+=Mt,Mt=0),Pt=jt-It,Mt<c&&0<Dt){sn&&Jt>=Gt&&(en=0);var Yt=new e.Cuboid(s,Dt,Pt,k,L,Zt,en,F,nn,I,W,g,v,R,un,on,D),Cn,kn;Jt>Gt?(Cn=[jt,zt],kn=[It,Rt]):(Cn=[It,zt],kn=[jt,Rt]);!isNaN(zt)&&!isNaN(Rt)&&Bt<c&&0<Bt&&(Sn=e.line(s,[Bt,Bt],Cn,nn,I,F),xn=e.line(s,[Bt,Bt],kn,nn,I,F),e.setCN(t,Sn,this.bcn+"line-high"),K.className&&e.setCN(t,Sn,K.className,!0),e.setCN(t,xn,this.bcn+"line-low"),K.className&&e.setCN(t,xn,K.className,!0))}Yt&&(rn=Yt.set,K.columnGraphics=rn,U.push(rn),rn.translate(Mt,_t-F/2),(K.url||this.showHandOnHover)&&rn.setAttr("cursor","pointer"),Sn&&(U.push(Sn),U.push(xn)),Wt=Bt,Xt=jt,v?($t=jt,Vt=Bt,"open"==f&&(Vt=Ft),"high"==f&&(Vt=Ut),"low"==f&&(Vt=qt)):($t=jt,"open"==f&&($t=It),"high"==f&&($t=zt),"low"==f&&($t=Rt),Vt=Bt),_||(K.x=v?_t+Dt/2:Mt+Dt/2,this.animateColumns(Yt,mt,Bt,Ft,jt,It),this.addListeners(rn,K)))}break;case"ohlc":if(!(isNaN(Gt)||isNaN(Kt)||isNaN(Qt)||isNaN(Jt))){var Ln=s.set();U.push(Ln);Jt<Gt&&(K.isNegative=!0,void 0!=ut&&(tn=ut));var An,On,Mn;if(v){var _n=jt-a/2,_n=e.fitToBounds(_n,0,h),Dn=e.fitToBounds(jt,0,h),Pn=jt+a/2,Pn=e.fitToBounds(Pn,0,h);On=e.line(s,[Ft,Ft],[_n,Dn],tn,I,F,R);0<jt&&jt<h&&(An=e.line(s,[qt,Ut],[jt,jt],tn,I,F,R));Mn=e.line(s,[Bt,Bt],[Dn,Pn],tn,I,F,R);$t=jt;Vt=Bt;"open"==f&&(Vt=Ft);"high"==f&&(Vt=Ut);"low"==f&&(Vt=qt)}else{var Hn=Bt-a/2,Hn=e.fitToBounds(Hn,0,c),Bn=e.fitToBounds(Bt,0,c),jn=Bt+a/2,jn=e.fitToBounds(jn,0,c);On=e.line(s,[Hn,Bn],[It,It],tn,I,F,R);0<Bt&&Bt<c&&(An=e.line(s,[Bt,Bt],[Rt,zt],tn,I,F,R));Mn=e.line(s,[Bn,jn],[jt,jt],tn,I,F,R);$t=jt;"open"==f&&($t=It);"high"==f&&($t=zt);"low"==f&&($t=Rt);Vt=Bt}U.push(On);U.push(An);U.push(Mn);e.setCN(t,On,this.bcn+"stroke-open");e.setCN(t,Mn,this.bcn+"stroke-close");e.setCN(t,An,this.bcn+"stroke");K.className&&e.setCN(t,Ln,K.className,!0);Wt=Bt;Xt=jt}}if(!_&&!isNaN(Jt)){var Fn=this.hideBulletsCount;if(this.end-this.start<=Fn||0===Fn){var In=this.createBullet(K,Vt,$t,mt),qn=this.labelText;if(qn&&In){var Rn=this.createLabel(K,Vt,$t,qn);(Rn=this.positionLabel(Wt,Xt,Rn,In,Dt,Pt))&&this.allBullets.push(Rn)}if("regular"==A||"100%"==A){var Un=o.totalText;if(Un){var zn=this.createLabel(K,0,0,Un,o.totalTextColor);e.setCN(t,zn,this.bcn+"label-total");this.allBullets.push(zn);var Wn=zn.getBBox(),Xn=Wn.width,Vn=Wn.height,$n,Jn,Kn=o.totalTextOffset,Qn=o.totals[mt];Qn&&Qn.remove();var Gn=0;"column"!=u&&(Gn=this.bulletSize);v?(Jn=Xt,$n=0>Jt?Bt-Xn/2-2-Gn-Kn:Bt+Xn/2+3+Gn+Kn):($n=Wt,Jn=0>Jt?jt+Vn/2+Gn+Kn:jt-Vn/2-3-Gn-Kn);zn.translate($n,Jn);o.totals[mt]=zn;v?(0>Jn||Jn>h)&&zn.remove():(0>$n||$n>c)&&zn.remove()}}}}}}if("line"==u||"step"==u||"smoothedLine"==u)"smoothedLine"==u?this.drawSmoothedGraph(b,w,gt,yt):this.drawLineGraph(b,w,gt,yt),_||this.launchAnimation();this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t){var n=this,r=n.chart.startDuration;0<r&&!n.animationPlayed&&(n.seqAn?(e.set.hide(),n.animationArray.push(e),r=setTimeout(function(){n.animate.call(n)},r/(n.end-n.start+1)*(t-n.start)*1e3),n.timeOuts.push(r)):n.animate(e))},createLabel:function(t,n,r,i,s){var o=this.chart,u=t.labelColor;u||(u=this.color);u||(u=o.color);s&&(u=s);s=this.fontSize;void 0===s&&(this.fontSize=s=o.fontSize);var a=this.labelFunction;i=o.formatString(i,t);i=e.cleanFromEmpty(i);a&&(i=a(t,i));t=e.text(this.container,i,u,o.fontFamily,s);t.node.style.pointerEvents="none";e.setCN(o,t,this.bcn+"label");t.translate(n,r);this.bulletSet.push(t);return t},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,n,r,i){var s=this;if(1<t.length){var o=s.set,u=s.chart,a=s.container,f=a.set(),l=a.set();o.push(l);o.push(f);var c=s.lineAlpha,h=s.lineThickness,o=s.fillAlphas,p=s.lineColorR,v=s.negativeLineAlpha;isNaN(v)&&(v=c);var m=s.lineColorSwitched;m&&(p=m);var m=s.fillColorsR,g=s.fillColorsSwitched;g&&(m=g);var y=s.dashLength;(g=s.dashLengthSwitched)&&(y=g);var g=s.negativeLineColor,b=s.negativeFillColors,w=s.negativeFillAlphas,E=s.baseCoord;0!==s.negativeBase&&(E=s.valueAxis.getCoordinate(s.negativeBase),E>s.height&&(E=s.height),0>E&&(E=0));c=e.line(a,t,n,p,c,h,y,!1,!0);e.setCN(u,c,s.bcn+"stroke");f.push(c);f.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")});void 0===g||s.useNegativeColorIfDown||(h=e.line(a,t,n,g,v,h,y,!1,!0),e.setCN(u,h,s.bcn+"stroke"),e.setCN(u,h,s.bcn+"stroke-negative"),l.push(h));if(0<o||0<w)if(h=t.join(";").split(";"),v=n.join(";").split(";"),c=u.type,"serial"==c||"radar"==c?0<r.length?(r.reverse(),i.reverse(),h=t.concat(r),v=n.concat(i)):"radar"==c?(v.push(0),h.push(0)):s.rotate?(v.push(v[v.length-1]),h.push(E),v.push(v[0]),h.push(E),v.push(v[0]),h.push(h[0])):(h.push(h[h.length-1]),v.push(E),h.push(h[0]),v.push(E),h.push(t[0]),v.push(v[0])):"xy"==c&&(n=s.fillToAxis)&&(e.isString(n)&&(n=u.getValueAxisById(n)),"H"==n.orientation?(E="top"==n.position?0:n.viH,h.push(h[h.length-1]),v.push(E),h.push(h[0]),v.push(E),h.push(t[0]),v.push(v[0])):(E="left"==n.position?0:n.viW,v.push(v[v.length-1]),h.push(E),v.push(v[0]),h.push(E),v.push(v[0]),h.push(h[0]))),t=s.gradientRotation,0<o&&(n=e.polygon(a,h,v,m,o,1,"#000",0,t),n.pattern(s.pattern,NaN,u.path),e.setCN(u,n,s.bcn+"fill"),f.push(n)),b||void 0!==g)isNaN(w)&&(w=o),b||(b=g),a=e.polygon(a,h,v,b,w,1,"#000",0,t),e.setCN(u,a,s.bcn+"fill"),e.setCN(u,a,s.bcn+"fill-negative"),a.pattern(s.pattern,NaN,u.path),l.push(a),l.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")});s.applyMask(l,f)}},applyMask:function(e,t){var n=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<n&&this.negativeClip(e))},drawSmoothedGraph:function(t,n,r,i){if(1<t.length){var s=this.set,o=this.chart,u=this.container,a=u.set(),f=u.set();s.push(f);s.push(a);var l=this.lineAlpha,c=this.lineThickness,s=this.dashLength,h=this.fillAlphas,p=this.lineColorR,v=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,y=this.negativeFillAlphas,b=this.baseCoord,w=this.lineColorSwitched;w&&(p=w);(w=this.fillColorsSwitched)&&(v=w);w=this.negativeLineAlpha;isNaN(w)&&(w=l);l=new e.Bezier(u,t,n,p,l,c,v,0,s);e.setCN(o,l,this.bcn+"stroke");a.push(l.path);void 0!==m&&(c=new e.Bezier(u,t,n,m,w,c,v,0,s),e.setCN(o,c,this.bcn+"stroke"),e.setCN(o,c,this.bcn+"stroke-negative"),f.push(c.path));0<h&&(l=t.join(";").split(";"),p=n.join(";").split(";"),c="",0<r.length?(r.push("M"),i.push("M"),r.reverse(),i.reverse(),l=t.concat(r),p=n.concat(i)):(this.rotate?(c+=" L"+b+","+n[n.length-1],c+=" L"+b+","+n[0]):(c+=" L"+t[t.length-1]+","+b,c+=" L"+t[0]+","+b),c+=" L"+t[0]+","+n[0]),r=new e.Bezier(u,l,p,NaN,0,0,v,h,s,c),e.setCN(o,r,this.bcn+"fill"),r.path.pattern(this.pattern,NaN,o.path),a.push(r.path),g||void 0!==m)&&(y||(y=h),g||(g=m),t=new e.Bezier(u,t,n,NaN,0,0,g,y,s,c),t.path.pattern(this.pattern,NaN,o.path),e.setCN(o,t,this.bcn+"fill"),e.setCN(o,t,this.bcn+"fill-negative"),f.push(t.path));this.applyMask(f,a)}},launchAnimation:function(){var t=this,n=t.chart.startDuration;if(0<n&&!t.animationPlayed){var r=t.set,i=t.bulletSet;e.VML||(r.attr({opacity:t.startAlpha}),i.attr({opacity:t.startAlpha}));r.hide();i.hide();t.seqAn?(n=setTimeout(function(){t.animateGraphs.call(t)},t.index*n*1e3),t.timeOuts.push(n)):t.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,n=this.bulletSet,r=this.x,i=this.y;t.show();n.show();var s=e.startDuration,e=e.startEffect;t&&(this.rotate?(t.translate(-1e3,i),n.translate(-1e3,i)):(t.translate(r,-1e3),n.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+i},s,e),n.animate({opacity:1,translate:r+","+i},s,e))},animate:function(t){var n=this.chart,r=this.animationArray;!t&&0<r.length&&(t=r[0],r.shift());r=e[e.getEffect(n.startEffect)];n=n.startDuration;t&&(this.rotate?t.animateWidth(n,r):t.animateHeight(n,r),t.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==typeof t?t[0]:t));return e},legendKeyAlpha:function(){var e=this.legendAlpha;void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1));return e},createBullet:function(t,n,r){if(!isNaN(n)&&!isNaN(r)){var i=this.chart,s=this.container,o=this.bulletOffset,u=this.bulletSize;isNaN(t.bulletSize)||(u=t.bulletSize);var a=t.values.value,f=this.maxValue,l=this.minValue,c=this.maxBulletSize,h=this.minBulletSize;isNaN(f)||(isNaN(a)||(u=(a-l)/(f-l)*(c-h)+h),l==f&&(u=c));f=u;this.bulletAxis&&(u=t.values.error,isNaN(u)||(a=u),u=this.bulletAxis.stepWidth*a);u<this.minBulletSize&&(u=this.minBulletSize);this.rotate?n=t.isNegative?n-o:n+o:r=t.isNegative?r+o:r-o;var p,h=this.bulletColorR;t.lineColor&&(this.bulletColorSwitched=t.lineColor);this.bulletColorSwitched&&(h=this.bulletColorSwitched);t.isNegative&&void 0!==this.bulletColorNegative&&(h=this.bulletColorNegative);void 0!==t.color&&(h=t.color);var v;"xy"==i.type&&this.valueField&&(v=this.pattern,t.pattern&&(v=t.pattern));o=this.bullet;t.bullet&&(o=t.bullet);var a=this.bulletBorderThickness,l=this.bulletBorderColorR,c=this.bulletBorderAlpha,m=this.bulletAlpha;l||(l=h);this.useLineColorForBulletBorder&&(l=this.lineColorR,this.lineColorSwitched&&(l=this.lineColorSwitched));var g=t.alpha;isNaN(g)||(m=g);if("none"!=this.bullet||t.bullet)p=e.bullet(s,o,u,h,m,a,l,c,f,0,v,i.path);if(this.customBullet||t.customBullet)v=this.customBullet,t.customBullet&&(v=t.customBullet),v&&(p&&p.remove(),"function"==typeof v?(v=new v,v.chart=i,t.bulletConfig&&(v.availableSpace=r,v.graph=this,v.graphDataItem=t,v.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,v.bulletConfig=t.bulletConfig),v.write(s),p&&v.showBullet&&v.set.push(p),t.customBulletGraphics=v.cset,p=v.set):(p=s.set(),s=s.image(v,0,0,u,u),p.push(s),this.centerCustomBullets&&s.translate(-u/2,-u/2)));if(p){(t.url||this.showHandOnHover)&&p.setAttr("cursor","pointer");if("serial"==i.type||"gantt"==i.type)if(-.5>n-0||n-0>this.width||r<-u/2||r-0>this.height)p.remove(),p=null;p&&(this.bulletSet.push(p),p.translate(n,r),this.addListeners(p,t),this.allBullets.push(p));t.bx=n;t.by=r;e.setCN(i,p,this.bcn+"bullet");t.className&&e.setCN(i,p,t.className,!0)}p?(p.size=u||0,t.bulletGraphics=p):p={size:0};p.graphDataItem=t;return p}},showBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!1;for(t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!0;for(t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!1;for(t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.show()}},hideCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!0;for(t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.hide()}},addListeners:function(e,t){var n=this;e.mouseover(function(e){n.handleRollOver(t,e)}).mouseout(function(e){n.handleRollOut(t,e)}).touchend(function(e){n.handleRollOver(t,e);n.chart.panEventsEnabled&&n.handleClick(t,e)}).touchstart(function(e){n.handleRollOver(t,e)}).click(function(e){n.handleClick(t,e)}).dblclick(function(e){n.handleDoubleClick(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},handleRollOver:function(t,n){if(t){var r=this.chart,i={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:n};this.fire("rollOverGraphItem",i);r.fire("rollOverGraphItem",i);clearTimeout(r.hoverInt);i=this.showBalloon;!r.chartCursor||"serial"!=r.type&&"gantt"!=r.type||(i=!1,!r.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(i=!0));if(i){var i=r.formatString(this.balloonText,t,!0),s=this.balloonFunction;s&&(i=s(t,t.graph));i=e.cleanFromEmpty(i);s=r.getBalloonColor(this,t);r.balloon.showBullet=!1;r.balloon.pointerOrientation="V";var o=t.x,u=t.y;r.rotate&&(o=t.y,u=t.x);""!==i?r.showBalloon(i,s,!0,o+r.marginLeftReal,u+r.marginTopReal):this.chart.hideBalloonReal()}else this.chart.hideBalloonReal()}this.handleGraphEvent(n,"rollOverGraph")},handleRollOut:function(e,t){this.chart.hideBalloon();if(e){var n={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOutGraphItem",n);this.chart.fire("rollOutGraphItem",n)}this.handleGraphEvent(t,"rollOutGraph")},handleClick:function(t,n){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:n};this.fire("clickGraphItem",r);this.chart.fire("clickGraphItem",r);e.getURL(t.url,this.urlTarget)}this.handleGraphEvent(n,"clickGraph")},handleGraphEvent:function(e,t){var n={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(t,n);this.chart.fire(t,n)},handleRightClick:function(e,t){if(e){var n={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rightClickGraphItem",n);this.chart.fire("rightClickGraphItem",n)}},handleDoubleClick:function(e,t){if(e){var n={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("doubleClickGraphItem",n);this.chart.fire("doubleClickGraphItem",n)}},zoom:function(e,t){this.start=e;this.end=t;this.draw()},changeOpacity:function(e){var t=this.set;t&&t.setAttr("opacity",e);if(t=this.ownColumns){var n;for(n=0;n<t.length;n++){var r=t[n].set;r&&r.setAttr("opacity",e)}}(t=this.bulletSet)&&t.setAttr("opacity",e)},destroy:function(){e.remove(this.set);e.remove(this.bulletSet);var t=this.timeOuts;if(t){var n;for(n=0;n<t.length;n++)clearTimeout(t[n])}this.timeOuts=[]}})})();(function(){var e=window.AmCharts;e.ChartCursor=e.Class({construct:function(t){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonText="[[category]]";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;this.leaveAfterTouch=!0;e.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart;t.panRequired=!0;var n=t.container;this.rotate=t.rotate;this.container=n;n=n.set();n.translate(this.x,this.y);this.set=n;t.cursorSet.push(n);n=new e.AmBalloon;n.className="category";n.chart=t;this.categoryBalloon=n;e.copyProperties(t.balloon,n);n.cornerRadius=0;n.shadowAlpha=0;n.borderThickness=1;n.borderAlpha=1;n.showBullet=!1;var r=this.categoryBalloonColor;void 0===r&&(r=this.cursorColor);n.fillColor=r;n.balloonColor=r;n.fillAlpha=this.categoryBalloonAlpha;n.borderColor=r;n.color=this.color;r=this.valueLineAxis;e.isString(r)&&(r=t.getValueAxisById(r));r||(r=t.valueAxes[0]);this.valueLineAxis=r;this.valueLineBalloonEnabled&&(this.vaBalloon=r=new e.AmBalloon,e.copyProperties(n,r),r.animationDuration=0,this.rotate||(r.pointerOrientation="H"));this.rotate&&(n.pointerOrientation="H");this.extraWidth=0;this.prevX=[];this.prevY=[];this.prevTX=[];this.prevTY=[];if(this.valueBalloonsEnabled)for(n=0;n<t.graphs.length;n++)r=new e.AmBalloon,r.className=t.graphs[n].id,r.chart=t,e.copyProperties(t.balloon,r),t.graphs[n].valueBalloon=r;"cursor"==this.type?this.createCursor():this.createCrosshair()},updateData:function(){var e=this.chart;this.data=e.chartData;this.firstTime=e.firstTime;this.lastTime=e.lastTime},createCursor:function(){var t=this.chart,n=this.cursorAlpha,r=t.categoryAxis,i=this.categoryBalloon,s,o,u,a;u=t.dx;a=t.dy;var f=this.width,l=this.height,c=t.rotate;i.pointerWidth=r.tickLength;c?(s=[0,f,f+u],o=[0,0,a],u=[u,0,0],a=[a,0,l]):(s=[u,0,0],o=[a,0,l],u=[0,f,f+u],a=[0,0,a]);s=e.line(this.container,s,o,this.cursorColor,n,1);e.setCN(t,s,"cursor-line");this.line=s;s.node.style.pointerEvents="none";(o=this.fullRectSet)?(o.push(s),o.translate(this.x,this.y)):this.set.push(s);this.valueLineEnabled&&(s=this.valueLineAlpha,isNaN(s)||(n=s),n=e.line(this.container,u,a,this.cursorColor,n,1),n.node.style.pointerEvents="none",e.setCN(t,n,"cursor-value-line"),this.vLine=n,this.set.push(n));this.setBalloonBounds(i,r,c);(t=this.vaBalloon)&&this.setBalloonBounds(t,this.valueLineAxis,!c);this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,n=this.container,r=e.line(n,[0,0],[0,this.height],this.cursorColor,t,1),t=e.line(n,[0,this.width],[0,0],this.cursorColor,t,1);e.setCN(this.chart,r,"cursor-line");e.setCN(this.chart,t,"cursor-line");this.set.push(r);this.set.push(t);this.vLine=r;this.hLine=t;this.hideCursor()},update:function(){var e=this.chart;if(e)if(e.mouseIsOver){var t=e.mouseX-this.x,n=e.mouseY-this.y;-.5<t&&t<this.width+1&&0<n&&n<this.height?((this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(t,n),this.setPosition(),this.drawing?this.rolledOver||e.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||e.setMouseCursor("move")),this.rolledOver=!0):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(e,t){var n=this.vLine,r=this.vaBalloon;if((n||r)&&!this.panning&&!this.drawing){n&&n.show();var i=this.valueLineAxis,s,o=this.rotate;o?(n&&n.translate(e,0),i&&(s=i.coordinateToValue(e)),n=e):(n&&n.translate(0,t),i&&(s=i.coordinateToValue(t)),n=t-1);if(r&&!isNaN(s)&&this.prevLineValue!=s){var u=i.formatValue(s,!0);this.setBalloonPosition(r,i,n,!o);r.showBalloon(u)}this.prevLineValue=s}},getMousePosition:function(){var e,t=this.width,n=this.height;e=this.chart;this.rotate?(e=e.mouseY-this.y,0>e&&(e=0),e>n&&(e=n)):(e=e.mouseX-this.x-1,0>e&&(e=0),e>t&&(e=t));return e},updateCrosshair:function(){var t=this.chart,n=t.mouseX-this.x,r=t.mouseY-this.y,i=this.vLine,s=this.hLine,n=e.fitToBounds(n,0,this.width),r=e.fitToBounds(r,0,this.height);i&&0<this.cursorAlpha&&(i.show(),s.show(),i.translate(n,0),s.translate(0,r));this.zooming&&(t.hideXScrollbar&&(n=NaN),t.hideYScrollbar&&(r=NaN),this.updateSelectionSize(n,r));this.fireMoved();t.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var e=this.chart,t={type:"moved",target:this};t.chart=e;t.zooming=this.zooming;t.x=e.mouseX-this.x;t.y=e.mouseY-this.y;this.fire("moved",t)},updateSelectionSize:function(t,n){e.remove(this.selection);var r=this.selectionPosX,i=this.selectionPosY,s=0,o=0,u=this.width,a=this.height;isNaN(t)||(r>t&&(s=t,u=r-t),r<t&&(s=r,u=t-r),r==t&&(s=t,u=0),u+=this.extraWidth,s-=this.extraWidth/2);isNaN(n)||(i>n&&(o=n,a=i-n),i<n&&(o=i,a=n-i),i==n&&(o=n,a=0),a+=this.extraWidth,o-=this.extraWidth/2);0<u&&0<a&&(r=e.rect(this.container,u,a,this.cursorColor,this.selectionAlpha),e.setCN(this.chart,r,"cursor-selection"),r.translate(s+this.x,o+this.y),this.selection=r)},arrangeBalloons:function(){var e=this.valueBalloons,t=this.x,n=this.y,r=this.height+n;e.sort(this.compareY);var i;for(i=0;i<e.length;i++){var s=e[i].balloon;s.setBounds(t,n,t+this.width,r);s.prevX=this.prevX[i];s.prevY=this.prevY[i];s.prevTX=this.prevTX[i];s.prevTY=this.prevTY[i];s.draw();r=s.yPos-3}this.arrangeBalloons2()},compareY:function(e,t){return e.yy<t.yy?1:-1},arrangeBalloons2:function(){var e=this.valueBalloons;e.reverse();var t,n=this.x,r,i,s=e.length;for(i=0;i<s;i++){var o=e[i].balloon;t=o.bottom;var u=o.bottom-o.yPos,a=s-i-1;0<i&&t-u<r+3&&(o.setBounds(n,r+3,n+this.width,r+u+3),o.prevX=this.prevX[a],o.prevY=this.prevY[a],o.prevTX=this.prevTX[a],o.prevTY=this.prevTY[a],o.draw());o.set&&o.set.show();this.prevX[a]=o.prevX;this.prevY[a]=o.prevY;this.prevTX[a]=o.prevTX;this.prevTY[a]=o.prevTY;r=o.bottom}},showBullets:function(){e.remove(this.allBullets);var t=this.container,n=t.set();this.set.push(n);this.set.show();this.allBullets=n;var n=this.chart.graphs,r;for(r=0;r<n.length;r++){var i=n[r];if(!i.hidden&&i.balloonText){var s=this.data[this.index].axes[i.valueAxis.id].graphs[i.id],o=s.y;if(!isNaN(o)){var u,a;u=s.x;this.rotate?(a=o,o=u):a=u;i=e.circle(t,this.bulletSize/2,this.chart.getBalloonColor(i,s,!0),i.cursorBulletAlpha);i.translate(a,o);this.allBullets.push(i)}}}},destroy:function(){this.clear();e.remove(this.selection);this.selection=null;var t=this.categoryBalloon;t&&t.destroy();(t=this.vaBalloon)&&t.destroy();this.destroyValueBalloons();e.remove(this.set)},clear:function(){},destroyValueBalloons:function(){var e=this.valueBalloons;if(e){var t;for(t=0;t<e.length;t++)e[t].balloon.hide()}},zoom:function(t,n,r,i){var s=this.chart;this.destroyValueBalloons();this.zooming=!1;var o;this.rotate?this.selectionPosY=o=s.mouseY:this.selectionPosX=o=s.mouseX;this.start=t;this.end=n;this.startTime=r;this.endTime=i;this.zoomed=!0;i=s.categoryAxis;o=this.rotate;n=this.width;r=this.height;t=i.stepWidth;if(this.fullWidth){var u=1;i.parseDates&&!i.equalSpacing&&(u=i.minDuration());o?this.extraWidth=r=t*u:(this.extraWidth=n=t*u,this.categoryBalloon.minWidth=n);this.line&&this.line.remove();this.line=e.rect(this.container,n,r,this.cursorColor,this.cursorAlpha,0);this.line.node.style.pointerEvents="none";e.setCN(s,this.line,"cursor-fill");this.fullRectSet&&this.fullRectSet.push(this.line)}this.stepWidth=t;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(e){e&&e.hide()},hideCursor:function(t){void 0===t&&(t=!0);this.leaveCursor||(this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.vaBalloon),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||e.remove(this.selection),this.previousIndex=NaN,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize())},setPosition:function(t,n,r,i){void 0===n&&(n=!0);if("cursor"==this.type){if(this.tempPosition=NaN,e.ifArray(this.data))isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)&&("mouse"==this.cursorPosition&&(this.tempPosition=t),isNaN(r)&&(r=this.chart.categoryAxis.xToIndex(t)),r!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(r,n,i),this.zoomed=!1),this.previousMousePosition=t}else this.updateCrosshair()},normalizeBulletSize:function(){var e=this.resizedBullets;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.bulletGraphics;r&&(r.translate(n.bx,n.by,1),n=n.graph,isNaN(this.graphBulletAlpha)||(r.setAttr("fill-opacity",n.bulletAlpha),r.setAttr("stroke-opacity",n.bulletBorderAlpha)))}},updateCursor:function(t,n,r){var i=this.chart,s=this.fullWidth,o=i.mouseX-this.x,u=i.mouseY-this.y;this.drawingNow&&(e.remove(this.drawingLine),this.drawingLine=e.line(this.container,[this.x+this.drawStartX,this.x+o],[this.y+this.drawStartY,this.y+u],this.cursorColor,1,1));if(this.enabled){void 0===n&&(n=!0);this.index=t+=this.adjustment;var a=i.categoryAxis,f=i.dx,l=i.dy,c=this.x+1,h=this.y+1,p=this.width,v=this.height,m=this.data[t],g;this.data[t+1]&&(g=this.data[t+1]);this.fireMoved();if(m){var y=m.x[a.id],b=i.rotate,w=this.stepWidth,E=this.categoryBalloon,S=this.firstTime,x=this.lastTime,T=this.cursorPosition,N=this.zooming,C=this.panning,k=i.graphs;if(i.mouseIsOver||N||C||this.forceShow)if(this.forceShow=!1,C){n=this.panClickPos;t=this.panClickEndTime;var i=this.panClickStartTime,N=this.panClickEnd,L=this.panClickStart,o=(b?n-u:n-o)/w;if(!a.parseDates||a.equalSpacing)o=Math.round(o);0!==o&&(n={type:"zoomed",target:this},n.chart=this.chart,a.parseDates&&!a.equalSpacing?(t+o>x&&(o=x-t),i+o<S&&(o=S-i),n.start=Math.round(i+o),n.end=Math.round(t+o),this.fire(n.type,n)):N+o>=this.data.length||0>L+o||(n.start=L+o,n.end=N+o,this.fire(n.type,n)))}else{"start"==T?y-=a.cellWidth/2:"mouse"==T&&(i.mouseIsOver?y=b?u-2:o-2:isNaN(this.tempPosition)||(y=this.tempPosition-2));if(b){if(0>y)if(N)y=0;else{this.hideCursor();return}if(y>v+1)if(N)y=v+1;else{this.hideCursor();return}}else{if(0>y)if(N)y=0;else{this.hideCursor();return}if(y>p)if(N)y=p;else{this.hideCursor();return}}S=this.line;0<this.cursorAlpha&&(b?(x=0,w=y+l,s&&(w-=a.cellWidth/2)):(x=y,w=0,s&&(x-=a.cellWidth/2)),T=this.animationDuration,0<T&&!this.zooming?isNaN(this.previousX)?S.translate(x,w):(S.translate(this.previousX,this.previousY),S.animate({translate:x+","+w},T,"easeOutSine")):S.translate(x,w),this.previousX=x,this.previousY=w,S.show());this.linePos=b?y+l:y;N&&(s&&S.hide(),b?this.updateSelectionSize(NaN,y):this.updateSelectionSize(y,NaN));x=!0;N&&(x=!1);this.categoryBalloonEnabled&&x?(this.setBalloonPosition(E,a,y,b),(S=this.categoryBalloonFunction)?E.showBalloon(S(m.category)):(S=y="",a.parseDates?(y=e.formatDate(m.category,this.categoryBalloonDateFormat,i),a=e.changeDate(new Date(m.category),i.categoryAxis.minPeriod,1),S=e.formatDate(a,this.categoryBalloonDateFormat,i),-1!=y.indexOf("fff")&&(y=e.formatMilliseconds(y,m.category),S=e.formatMilliseconds(S,a))):(y=e.fixNewLines(m.category),g&&(S=e.fixNewLines(g.category))),a=this.categoryBalloonText.replace(/\[\[category\]\]/g,String(y)),a=a.replace(/\[\[toCategory\]\]/g,String(S)),E.showBalloon(a))):E.hide();k&&this.bulletsEnabled&&this.showBullets();if(this.oneBalloonOnly){y=Infinity;for(a=0;a<k.length;a++)E=k[a],E.showBalloon&&!E.hidden&&E.balloonText&&(g=m.axes[E.valueAxis.id].graphs[E.id],S=g.y,"top"==E.showBalloonAt&&(S=0),"bottom"==E.showBalloonAt&&(S=this.height),isNaN(S)||(b?Math.abs(o-S)<y&&(y=Math.abs(o-S),L=E):Math.abs(u-S)<y&&(y=Math.abs(u-S),L=E)));this.mostCloseGraph&&(L=this.mostCloseGraph)}if(!r&&(t!=this.previousIndex||L!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],k&&this.valueBalloonsEnabled&&x&&i.balloon.enabled)){this.valueBalloons=r=[];for(a=0;a<k.length;a++)if(E=k[a],S=NaN,(!this.oneBalloonOnly||E==L)&&E.showBalloon&&!E.hidden&&E.balloonText&&("step"==E.type&&"left"==E.stepDirection&&(m=this.data[t+1]),m)){if(g=m.axes[E.valueAxis.id].graphs[E.id])S=g.y;"top"==E.showBalloonAt&&(S=0);"bottom"==E.showBalloonAt&&(S=this.height);if(this.showNextAvailable&&isNaN(S)&&t+1<this.data.length)for(x=t+1;x<this.data.length;x++)if(y=this.data[x])if(g=y.axes[E.valueAxis.id].graphs[E.id],S=g.y,!isNaN(S))break;if(!isNaN(S)){y=g.x;w=!0;if(b){if(x=S,0>y||y>v)w=!1}else if(x=y,y=S,0>x||x>p+f+1)w=!1;w&&(w=this.graphBulletSize,s=this.graphBulletAlpha,1==w&&isNaN(s)||!e.isModern||!(l=g.bulletGraphics)||(l.translate(g.bx,g.by,w),this.resizedBullets.push(g),isNaN(s)||(l.setAttr("fill-opacity",s),l.setAttr("stroke-opacity",s))),w=E.valueBalloon,s=i.getBalloonColor(E,g),w.setBounds(c,h,c+p,h+v),w.pointerOrientation="H",l=this.balloonPointerOrientation,"vertical"==l&&(w.pointerOrientation="V"),"horizontal"==l&&(w.pointerOrientation="H"),w.changeColor(s),void 0!==E.balloonAlpha&&(w.fillAlpha=E.balloonAlpha),void 0!==E.balloonTextColor&&(w.color=E.balloonTextColor),w.setPosition(x+c,y+h),x=i.formatString(E.balloonText,g,!0),(y=E.balloonFunction)&&(x=y(g,E).toString()),""!==x&&(b?w.showBalloon(x):(w.text=x,w.show=!0),r.push({yy:S,balloon:w})),!b&&w.set&&(w.set.hide(),E=w.textDiv)&&(E.style.visibility="hidden"))}}this.avoidBalloonOverlapping&&this.arrangeBalloons()}n?(n={type:"changed"},n.index=t,n.chart=this.chart,n.zooming=N,n.mostCloseGraph=L,n.position=b?u:o,n.target=this,i.fire("changed",n),this.fire("changed",n),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,i.updateLegendValues(t));this.previousIndex=t;this.previousMostCloseGraph=L}}}else this.hideCursor()},setBalloonPosition:function(e,t,n,r){var i=t.position,s=t.inside;t=t.axisThickness;var o=this.chart,u=o.dx,o=o.dy,a=this.x,f=this.y,l=this.width,c=this.height;r?(s&&("right"==i?e.setBounds(a,f+o,a+l+u,f+n+o):e.setBounds(a,f+o,a+l+u,f+n)),"right"==i?s?e.setPosition(a+l+u,f+n+o):e.setPosition(a+l+u+t,f+n+o):s?e.setPosition(a,f+n):e.setPosition(a-t,f+n)):"top"==i?s?e.setPosition(a+n+u,f+o):e.setPosition(a+n+u,f+o-t+1):s?e.setPosition(a+n,f+c):e.setPosition(a+n,f+c+t-1)},setBalloonBounds:function(e,t,n){var r=t.position,i=t.inside,s=t.axisThickness,o=t.tickLength,u=this.chart,a=u.dx,u=u.dy,f=this.x,l=this.y,c=this.width,h=this.height;n?(i&&(e.pointerWidth=0),"right"==r?i?e.setBounds(f,l+u,f+c+a,l+h+u):e.setBounds(f+c+a+s,l+u,f+c+1e3,l+h+u):i?e.setBounds(f,l,c+f,h+l):e.setBounds(-1e3,-1e3,f-o-s,l+h+15)):(e.maxWidth=c,t.parseDates&&(o=0,e.pointerWidth=0),"top"==r?i?e.setBounds(f+a,l+u,c+a+f,h+l):e.setBounds(f+a,-1e3,c+a+f,l+u-o-s):i?e.setBounds(f,l,c+f,h+l-o):e.setBounds(f,l+h+o+s-1,f+c,l+h+o+s))},enableDrawing:function(e){this.enabled=!e;this.hideCursor();this.rolledOver=!1;this.drawing=e},isZooming:function(e){e&&e!=this.zooming&&this.handleMouseDown("fake");e||e==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var e={type:"changed",index:void 0,target:this};e.chart=this.chart;this.fire("changed",e);this.chart.wasTouched&&this.leaveAfterTouch||this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t=this.chart,n=this.data,r;if(t){var i=t.mouseX-this.x,s=t.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1;e.remove(this.drawingLine);r=this.drawStartX;var o=this.drawStartY;if(2<Math.abs(r-i)||2<Math.abs(o-s))r={type:"draw",target:this,chart:t,initialX:r,initialY:o,finalX:i,finalY:s},this.fire(r.type,r)}if(this.enabled&&0<n.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){r=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"};r.target=this;r.chart=t;if("cursor"==this.type)this.rotate?this.selectionPosY=s:this.selectionPosX=s=i,4>Math.abs(s-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(r.end=this.fromIndex,r.start=this.index):(r.end=this.index,r.start=this.fromIndex),s=t.categoryAxis,s.parseDates&&!s.equalSpacing&&(n[r.start]&&(r.start=n[r.start].time),n[r.end]&&(r.end=t.getEndTime(n[r.end].time))),this.skipZoomDispatch||this.fire(r.type,r));else{var u=this.initialMouseX,a=this.initialMouseY;3>Math.abs(i-u)&&3>Math.abs(s-a)||(n=Math.min(u,i),o=Math.min(a,s),i=Math.abs(u-i),s=Math.abs(a-s),t.hideXScrollbar&&(n=0,i=this.width),t.hideYScrollbar&&(o=0,s=this.height),r.selectionHeight=s,r.selectionWidth=i,r.selectionY=o,r.selectionX=n,this.skipZoomDispatch||this.fire(r.type,r))}this.selectWithoutZooming||e.remove(this.selection)}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(e){var t=this.chart.categoryAxis;e=t.parseDates?t.dateToCoordinate(e):t.categoryToCoordinate(e);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(e,!1)},clearSelection:function(){e.remove(this.selection)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var n=this.rotate,r=this.chart,i=r.mouseX-this.x,s=r.mouseY-this.y;if(0<i&&i<this.width&&0<s&&s<this.height||"fake"==t)this.setPosition(),this.selectWithoutZooming&&e.remove(this.selection),this.drawing?(this.drawStartY=s,this.drawStartX=i,this.drawingNow=!0):this.pan?(this.zoomable=!1,r.setMouseCursor("move"),this.panning=!0,this.panClickPos=n?s:i,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,n?(this.initialMouse=s,this.selectionPosY=this.linePos):(this.initialMouse=i,this.selectionPosX=this.linePos)):(this.initialMouseX=i,this.initialMouseY=s,this.selectionPosX=i,this.selectionPosY=s),this.zooming=!0)}}})})();(function(){var e=window.AmCharts;e.SimpleChartScrollbar=e.Class({construct:function(t){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";e.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy();if(t.enabled){var n=t.chart.container,r=t.rotate,i=t.chart;i.panRequired=!0;var s=n.set();t.set=s;i.scrollbarsSet.push(s);var o,u;r?(o=t.scrollbarHeight,u=i.plotAreaHeight):(u=t.scrollbarHeight,o=i.plotAreaWidth);t.width=o;if((t.height=u)&&o){var a=e.rect(n,o,u,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);e.setCN(i,a,"scrollbar-bg");t.bg=a;s.push(a);a=e.rect(n,o,u,"#000",.005);s.push(a);t.invisibleBg=a;a.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()});a=e.rect(n,o,u,t.selectedBackgroundColor,t.selectedBackgroundAlpha);e.setCN(i,a,"scrollbar-bg-selected");t.selectedBG=a;s.push(a);o=e.rect(n,o,u,"#000",.005);t.dragger=o;s.push(o);o.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()});o=i.pathToImages;u=t.dragIcon.replace(/\.[a-z]*$/i,"");r?(a=o+u+"H"+i.extension,o=t.dragIconWidth,r=t.dragIconHeight):(a=o+u+i.extension,r=t.dragIconWidth,o=t.dragIconHeight);u=n.image(a,0,0,r,o);e.setCN(i,u,"scrollbar-grip-left");a=n.image(a,0,0,r,o);e.setCN(i,a,"scrollbar-grip-right");var f=10,l=20;i.panEventsEnabled&&(f=25,l=t.scrollbarHeight);var c=e.rect(n,f,l,"#000",.005),h=e.rect(n,f,l,"#000",.005);h.translate(-(f-r)/2,-(l-o)/2);c.translate(-(f-r)/2,-(l-o)/2);r=n.set([u,h]);n=n.set([a,c]);t.iconLeft=r;s.push(t.iconLeft);t.iconRight=n;s.push(n);r.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()});n.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()});e.ifArray(i.chartData)?s.show():s.hide();t.hideDragIcons();t.clipDragger(!1)}s.translate(t.x,t.y);s.node.style.msTouchAction="none"}},updateScrollbarSize:function(e,t){e=Math.round(e);t=Math.round(t);var n=this.dragger,r,i,s,o;this.rotate?(r=0,i=e,s=this.width+1,o=t-e,n.setAttr("height",t-e),n.setAttr("y",i)):(r=e,i=0,s=t-e,o=this.height+1,n.setAttr("width",t-e),n.setAttr("x",r));this.clipAndUpdate(r,i,s,o)},update:function(){var e,t=!1,n,r,i=this.x,s=this.y,o=this.dragger,u=this.getDBox();if(u){n=u.x+i;r=u.y+s;var a=u.width,u=u.height,f=this.rotate,l=this.chart,c=this.width,h=this.height,p=l.mouseX,d=l.mouseY;e=this.initialMouse;this.forceClip&&this.clipDragger(!0);l.mouseIsOver&&(this.dragging&&(l=this.initialCoord,f?(e=l+(d-e),0>e&&(e=0),l=h-u,e>l&&(e=l),o.setAttr("y",e)):(e=l+(p-e),0>e&&(e=0),l=c-a,e>l&&(e=l),o.setAttr("x",e)),this.clipDragger(!0)),this.resizingRight&&(f?(e=d-r,e+r>h+s&&(e=h-r+s),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("height",e))):(e=p-n,e+n>c+i&&(e=c-n+i),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(f?(n=r,r=d,r<s&&(r=s),r>h+s&&(r=h+s),e=!0===t?n-r:u+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",n+u-s)):(0===e&&(e=.1),o.setAttr("y",r-s),o.setAttr("height",e))):(r=p,r<i&&(r=i),r>c+i&&(r=c+i),e=!0===t?n-r:a+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",n+a-i)):(0===e&&(e=.1),o.setAttr("x",r-i),o.setAttr("width",e))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(e){var t=this.getDBox();if(t){var n=t.x,r=t.y,i=t.width,t=t.height,s=!1;if(this.rotate){if(n=0,i=this.width+1,this.clipY!=r||this.clipH!=t)s=!0}else if(r=0,t=this.height+1,this.clipX!=n||this.clipW!=i)s=!0;s&&(this.clipAndUpdate(n,r,i,t),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(e,t,n,r){this.clipX=e;this.clipY=t;this.clipW=n;this.clipH=r;this.selectedBG.clipRect(e,t,n,r);this.updateDragIconPositions();this.maskGraphs(e,t,n,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=this.getDBox(),n=t.x,r=t.y,i=t.width,t=t.height;this.rotate?(n=r,i=this.height/t):i=this.width/i;e={type:"zoomed",position:n,chart:e,target:this,multiplier:i};this.fire(e.type,e)}},updateDragIconPositions:function(){var e=this.getDBox(),t=e.x,n=e.y,r=this.iconLeft,i=this.iconRight,s,o,u=this.scrollbarHeight;this.rotate?(s=this.dragIconWidth,o=this.dragIconHeight,r.translate((u-o)/2,n-s/2),i.translate((u-o)/2,n+e.height-s/2)):(s=this.dragIconHeight,o=this.dragIconWidth,r.translate(t-o/2,(u-s)/2),i.translate(t-o/2+e.width,(u-s)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled)this.iconLeft.hide(),this.iconRight.hide();this.removeCursors()}},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(e,t){this.enabled&&(this.dragger.stop(),this.multiplier=e,this.position=t,this.updateScrollbarSize(t,this.rotate?t+this.height/e:t+this.width/e),this.clipDragger())},destroy:function(){this.clear();e.remove(this.set);e.remove(this.iconRight);e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){var e=this.chart;this.dragger.stop();this.removeCursors();this.dragging=!0;var t=this.getDBox();this.rotate?(this.initialCoord=t.y,this.initialMouse=e.mouseY):(this.initialCoord=t.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.update()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("ns-resize"):this.chart.setMouseCursor("ew-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var n,r,i=t.scrollDuration,s=t.dragger;n=t.getDBox();var o=n.height,u=n.width;r=t.chart;var a=t.y,f=t.x,l=t.rotate;l?(n="y",r=r.mouseY-o/2-a,r=e.fitToBounds(r,0,t.height-o)):(n="x",r=r.mouseX-u/2-f,r=e.fitToBounds(r,0,t.width-u));t.updateOnReleaseOnly?(t.skipEvent=!1,s.setAttr(n,r),t.dispatchScrollbarEvent(),t.clipDragger()):(r=Math.round(r),l?s.animate({y:r},i,">"):s.animate({x:r},i,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*i))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging)this.updateOnRelease(),this.removeCursors();this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1;this.hideDragIcons();this.update()}},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}})})();(function(){var e=window.AmCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar";e.ChartScrollbar.base.construct.call(this,t);this.enabled=!0;this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;this.oppositeAxis=!0;e.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,n=this.chart;t||(this.categoryAxis=t=new e.CategoryAxis);t.chart=n;t.id="scrollbar";t.dateFormats=n.categoryAxis.dateFormats;t.markPeriodChange=n.categoryAxis.markPeriodChange;t.boldPeriodBeginning=n.categoryAxis.boldPeriodBeginning;t.labelFunction=n.categoryAxis.labelFunction;t.axisItemRenderer=e.RecItem;t.axisRenderer=e.RecAxis;t.guideFillRenderer=e.RecFill;t.inside=!0;t.fontSize=this.fontSize;t.tickLength=0;t.axisAlpha=0;e.isString(this.graph)&&(this.graph=e.getObjById(n.graphs,this.graph));if(t=this.graph){var r=this.valueAxis;r||(this.valueAxis=r=new e.ValueAxis,r.visible=!1,r.scrollbar=!0,r.axisItemRenderer=e.RecItem,r.axisRenderer=e.RecAxis,r.guideFillRenderer=e.RecFill,r.labelsEnabled=!1,r.chart=n);n=this.unselectedGraph;n||(n=new e.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers);n=this.selectedGraph;n||(n=new e.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var t=this;e.ChartScrollbar.base.draw.call(t);if(t.enabled){t.scrollbarCreated||t.init();var n=t.chart,r=n.chartData,i=t.categoryAxis,s=t.rotate,o=t.x,u=t.y,a=t.width,f=t.height,l=n.categoryAxis,c=t.set;i.setOrientation(!s);i.parseDates=l.parseDates;i.rotate=s;i.equalSpacing=l.equalSpacing;i.minPeriod=l.minPeriod;i.startOnAxis=l.startOnAxis;i.viW=a;i.viH=f;i.width=a;i.height=f;i.gridCount=t.gridCount;i.gridColor=t.gridColor;i.gridAlpha=t.gridAlpha;i.color=t.color;i.tickLength=0;i.axisAlpha=0;i.autoGridCount=t.autoGridCount;i.parseDates&&!i.equalSpacing&&i.timeZoom(n.firstTime,n.lastTime);i.zoom(0,r.length-1);if(l=t.graph){var h=t.valueAxis,p=l.valueAxis;h.id=p.id;h.rotate=s;h.setOrientation(s);h.width=a;h.height=f;h.viW=a;h.viH=f;h.dataProvider=r;h.reversed=p.reversed;h.logarithmic=p.logarithmic;h.gridAlpha=0;h.axisAlpha=0;c.push(h.set);s?(h.y=u,h.x=0):(h.x=o,h.y=0);var o=Infinity,u=-Infinity,v;for(v=0;v<r.length;v++){var m=r[v].axes[p.id].graphs[l.id].values,g;for(g in m)if(m.hasOwnProperty(g)&&"percents"!=g&&"total"!=g){var y=m[g];y<o&&(o=y);y>u&&(u=y)}}Infinity!=o&&(h.minimum=o);-Infinity!=u&&(h.maximum=u+.1*(u-o));o==u&&(--h.minimum,h.maximum+=1);void 0!==t.minimum&&(h.minimum=t.minimum);void 0!==t.maximum&&(h.maximum=t.maximum);h.zoom(0,r.length-1);g=t.unselectedGraph;g.id=l.id;g.bcn="scrollbar-graph-";g.rotate=s;g.chart=n;g.data=r;g.valueAxis=h;g.chart=l.chart;g.categoryAxis=t.categoryAxis;g.periodSpan=l.periodSpan;g.valueField=l.valueField;g.openField=l.openField;g.closeField=l.closeField;g.highField=l.highField;g.lowField=l.lowField;g.lineAlpha=t.graphLineAlpha;g.lineColorR=t.graphLineColor;g.fillAlphas=t.graphFillAlpha;g.fillColorsR=t.graphFillColor;g.connect=l.connect;g.hidden=l.hidden;g.width=a;g.height=f;g.pointPosition=l.pointPosition;g.stepDirection=l.stepDirection;g.periodSpan=l.periodSpan;p=t.selectedGraph;p.id=l.id;p.bcn=g.bcn+"selected-";p.rotate=s;p.chart=n;p.data=r;p.valueAxis=h;p.chart=l.chart;p.categoryAxis=i;p.periodSpan=l.periodSpan;p.valueField=l.valueField;p.openField=l.openField;p.closeField=l.closeField;p.highField=l.highField;p.lowField=l.lowField;p.lineAlpha=t.selectedGraphLineAlpha;p.lineColorR=t.selectedGraphLineColor;p.fillAlphas=t.selectedGraphFillAlpha;p.fillColorsR=t.selectedGraphFillColor;p.connect=l.connect;p.hidden=l.hidden;p.width=a;p.height=f;p.pointPosition=l.pointPosition;p.stepDirection=l.stepDirection;p.periodSpan=l.periodSpan;n=t.graphType;n||(n=l.type);g.type=n;p.type=n;r=r.length-1;g.zoom(0,r);p.zoom(0,r);p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});g.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});c.push(g.set);c.push(p.set)}c.push(i.set);c.push(i.labelsSet);t.bg.toBack();t.invisibleBg.toFront();t.dragger.toFront();t.iconLeft.toFront();t.iconRight.toFront()}},timeZoom:function(t,n,r){this.startTime=t;this.endTime=n;this.timeDifference=n-t;this.skipEvent=!e.toBoolean(r);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart.chartData,t,n,r=this.dragger.getBBox();t=r.x;var i=r.y,s=r.width,r=r.height,o=this.chart;this.rotate?(t=i,n=r):n=s;s={type:"zoomed",target:this};s.chart=o;var u=this.categoryAxis,a=this.stepWidth,i=o.minSelectedTime,r=!1;if(u.parseDates&&!u.equalSpacing){if(e=o.lastTime,o=o.firstTime,u=Math.round(t/a)+o,t=this.dragging?u+this.timeDifference:Math.round((t+n)/a)+o,u>t&&(u=t),0<i&&t-u<i&&(t=Math.round(u+(t-u)/2),r=Math.round(i/2),u=t-r,t+=r,r=!0),t>e&&(t=e),t-i<u&&(u=t-i),u<o&&(u=o),u+i>t&&(t=u+i),u!=this.startTime||t!=this.endTime)this.startTime=u,this.endTime=t,s.start=u,s.end=t,s.startDate=new Date(u),s.endDate=new Date(t),this.fire(s.type,s)}else if(u.startOnAxis||(t+=a/2),n-=this.stepWidth/2,i=u.xToIndex(t),t=u.xToIndex(t+n),i!=this.start||this.end!=t)u.startOnAxis&&(this.resizingRight&&i==t&&t++,this.resizingLeft&&i==t&&(0<i?i--:t=1)),this.start=i,this.end=this.dragging?this.start+this.difference:t,s.start=this.start,s.end=this.end,u.parseDates&&(e[this.start]&&(s.startDate=new Date(e[this.start].time)),e[this.end]&&(s.endDate=new Date(e[this.end].time))),this.fire(s.type,s);r&&this.zoomScrollbar()}},zoomScrollbar:function(){var e,t;e=this.chart;var n=e.chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(n=r.stepWidth,r=e.firstTime,e=n*(this.startTime-r),t=n*(this.endTime-r)):(e=n[this.start].x[r.id],t=n[this.end].x[r.id],n=r.stepWidth,r.startOnAxis||(r=n/2,e-=r,t+=r));this.stepWidth=n;this.updateScrollbarSize(e,t)},maskGraphs:function(e,t,n,r){var i=this.selectedGraph;i&&i.set.clipRect(e,t,n,r)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})})();(function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!0;this.offsetY=6;this.offsetX=1;this.textAlign="center";this.disableMouseEvents=!0;this.deltaSignX=this.deltaSignY=1;e.isModern||(this.offsetY*=1.5);e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,n=this.pointToY,r=this.chart;e.VML&&(this.fadeOutDuration=0);this.xAnim&&r.stopAnim(this.xAnim);this.yAnim&&r.stopAnim(this.yAnim);if(!isNaN(t)){var i=this.follow,s=r.container,o=this.set;e.remove(o);this.removeDiv();o=s.set();o.node.style.pointerEvents="none";this.set=o;r.balloonsSet.push(o);if(this.show){var u=this.l,a=this.t,f=this.r,l=this.b,c=this.balloonColor,h=this.fillColor,p=this.borderColor,v=h;void 0!=c&&(this.adjustBorderColor?v=p=c:h=c);var m=this.horizontalPadding,g=this.verticalPadding,y=this.pointerWidth,b=this.pointerOrientation,w=this.cornerRadius,E=r.fontFamily,S=this.fontSize;void 0==S&&(S=r.fontSize);var c=document.createElement("div"),x=r.classNamePrefix;c.className=x+"-balloon-div";this.className&&(c.className=c.className+" "+x+"-balloon-div-"+this.className);x=c.style;this.disableMouseEvents&&(x.pointerEvents="none");x.position="absolute";var T=this.minWidth,N="";isNaN(T)||(N="min-width:"+(T-2*m)+"px; ");c.innerHTML='<div style="text-align:'+this.textAlign+"; "+N+"max-width:"+this.maxWidth+"px; font-size:"+S+"px; color:"+this.color+"; font-family:"+E+'">'+this.text+"</div>";r.chartDiv.appendChild(c);this.textDiv=c;S=c.offsetWidth;E=c.offsetHeight;c.clientHeight&&(S=c.clientWidth,E=c.clientHeight);E+=2*g;N=S+2*m;!isNaN(T)&&N<T&&(N=T);window.opera&&(E+=2);var C=!1,S=this.offsetY;r.handDrawn&&(S+=r.handDrawScatter+2);"H"!=b?(T=t-N/2,n<a+E+10&&"down"!=b?(C=!0,i&&(n+=S),S=n+y,this.deltaSignY=-1):(i&&(n-=S),S=n-E-y,this.deltaSignY=1)):(2*y>E&&(y=E/2),S=n-E/2,t<u+(f-u)/2?(T=t+y,this.deltaSignX=-1):(T=t-N-y,this.deltaSignX=1));S+E>=l&&(S=l-E);S<a&&(S=a);T<u&&(T=u);T+N>f&&(T=f-N);var a=S+g,l=T+m,g=this.shadowAlpha,k=this.shadowColor,m=this.borderThickness,L=this.bulletSize,A;0<w||0===y?(0<g&&(t=e.rect(s,N,E,h,0,m+1,k,g,this.cornerRadius),e.isModern?t.translate(1,1):t.translate(4,4),o.push(t)),h=e.rect(s,N,E,h,this.fillAlpha,m,p,this.borderAlpha,this.cornerRadius),this.showBullet&&(A=e.circle(s,L,v,this.fillAlpha),o.push(A))):(v=[],w=[],"H"!=b?(u=t-T,u>N-y&&(u=N-y),u<y&&(u=y),v=[0,u-y,t-T,u+y,N,N,0,0],w=C?[0,0,n-S,0,0,E,E,0]:[E,E,n-S,E,E,0,0,E]):(v=n-S,v>E-y&&(v=E-y),v<y&&(v=y),w=[0,v-y,n-S,v+y,E,E,0,0],v=t<u+(f-u)/2?[0,0,T<t?0:t-T,0,0,N,N,0]:[N,N,T+N>t?N:t-T,N,N,0,0,N]),0<g&&(t=e.polygon(s,v,w,h,0,m,k,g),t.translate(1,1),o.push(t)),h=e.polygon(s,v,w,h,this.fillAlpha,m,p,this.borderAlpha));this.bg=h;o.push(h);h.toFront();e.setCN(r,h,"balloon-bg");this.className&&e.setCN(r,h,"balloon-bg-"+this.className);s=1*this.deltaSignX;x.left=l+"px";x.top=a+"px";o.translate(T-s,S);h=h.getBBox();this.bottom=S+E+1;this.yPos=h.y+S;A&&A.translate(this.pointToX-T+s,n-S);n=this.animationDuration;0<this.animationDuration&&!i&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY),o.animate({translate:T-s+","+S},n,"easeOutSine"),c&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=r.animate({node:c},"left",this.prevTX,l,n,"easeOutSine","px"),this.yAnim=r.animate({node:c},"top",this.prevTY,a,n,"easeOutSine","px")));this.prevX=T-s;this.prevY=S;this.prevTX=l;this.prevTY=a}}},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX,t=this.chart.mouseY;this.pointToX=e;this.pointToY=t;if(e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var n=this.set;if(n){var r=n.getBBox(),e=e-r.width/2,i=t-r.height-10;e<this.l&&(e=this.l);e>this.r-r.width&&(e=this.r-r.width);i<this.t&&(i=t+10);n.translate(e,i);t=this.textDiv.style;t.left=e+this.horizontalPadding+"px";t.top=i+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,n,r){this.l=e;this.t=t;this.r=n;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){this.text=e;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);e=this.chart;this.fadeAnim1&&e.stopAnim(this.fadeAnim1);this.fadeAnim2&&e.stopAnim(this.fadeAnim2);this.draw()},hide:function(e){var t=this;isNaN(e)&&(e=t.fadeOutDuration);var n=t.chart;if(0<e){t.destroyTO&&clearTimeout(t.destroyTO);t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e);t.follow=!1;t.show=!1;var r=t.set;r&&(r.setAttr("opacity",t.fillAlpha),t.fadeAnim1=r.animate({opacity:0},e,"easeInSine"));t.textDiv&&(t.fadeAnim2=n.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t,n){this.pointToX=e;this.pointToY=t;n&&(e==this.previousX&&t==this.previousY||this.draw());this.previousX=e;this.previousY=t},followCursor:function(e){var t=this;(t.follow=e)?(t.pShowBullet=t.showBullet,t.showBullet=!1):void 0!==t.pShowBullet&&(t.showBullet=t.pShowBullet);clearInterval(t.interval);var n=t.chart.mouseX,r=t.chart.mouseY;!isNaN(n)&&e&&(t.pointToX=n-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);e.remove(this.set);this.removeDiv();this.set=null}})})();(function(){var e=window.AmCharts;e.AmCoordinateChart=e.Class({inherits:e.AmChart,construct:function(t){e.AmCoordinateChart.base.construct.call(this,t);this.theme=t;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;e.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){e.AmCoordinateChart.base.initChart.call(this);var t=this.categoryAxis;t&&(this.categoryAxis=e.processObject(t,e.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();e.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new e.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(t){var n=this.graphs,r,i={},s=this.seriesIdField;s||(s=this.categoryField);this.chartData=[];if(t){var o=!1,u,a=this.categoryAxis,f,l,c;a&&(o=a.parseDates,f=a.forceShowField,c=a.classNameField,l=a.labelColorField,u=a.categoryFunction);var h,p,v={},m;o&&(r=e.extractPeriod(a.minPeriod),h=r.period,p=r.count,m=e.getPeriodDuration(h,p));var g={};this.lookupTable=g;var y,b=this.dataDateFormat,w={};for(y=0;y<t.length;y++){var E={},S=t[y];r=S[this.categoryField];E.dataContext=S;E.category=u?u(r,S,a):String(r);f&&(E.forceShow=S[f]);c&&(E.className=S[c]);l&&(E.labelColor=S[l]);g[S[s]]=E;if(o&&(a.categoryFunction?r=a.categoryFunction(r,S,a):(!b||r instanceof Date||(r=r.toString()+" |"),r=e.getDate(r,b,a.minPeriod)),r=e.resetDateToMin(r,h,p,a.firstDayOfWeek),E.category=r,E.time=r.getTime(),isNaN(E.time)))continue;var x=this.valueAxes;E.axes={};E.x={};var T;for(T=0;T<x.length;T++){var N=x[T].id;E.axes[N]={};E.axes[N].graphs={};var C;for(C=0;C<n.length;C++){r=n[C];var k=r.id,L=1.1;isNaN(r.gapPeriod)||(L=r.gapPeriod);var A=r.periodValue;if(r.valueAxis.id==N){E.axes[N].graphs[k]={};var O={};O.index=y;var M=S;r.dataProvider&&(M=i);O.values=this.processValues(M,r,A);!r.connect&&w&&w[k]&&0<L&&E.time-v[k]>=m*L&&(w[k].gap=!0);this.processFields(r,O,M);O.category=E.category;O.serialDataItem=E;O.graph=r;E.axes[N].graphs[k]=O;v[k]=E.time;w[k]=O}}}this.chartData[y]=E}}for(t=0;t<n.length;t++)r=n[t],r.dataProvider&&this.parseGraphData(r)},processValues:function(t,n,r){var i={},s,o=!1;"candlestick"!=n.type&&"ohlc"!=n.type||""===r||(o=!0);for(var u="value error open close low high".split(" "),a=0;a<u.length;a++){var f=u[a];"value"!=f&&"error"!=f&&o&&(r=f.charAt(0).toUpperCase()+f.slice(1));var l=t[n[f+"Field"]+r];null!==l&&(s=Number(l),isNaN(s)||(i[f]=s),"date"==n.valueAxis.type&&void 0!==l&&(s=e.getDate(l,n.chart.dataDateFormat),i[f]=s.getTime()))}return i},parseGraphData:function(e){var t=e.dataProvider,n=e.seriesIdField;n||(n=this.seriesIdField);n||(n=this.categoryField);var r;for(r=0;r<t.length;r++){var i=t[r],s=this.lookupTable[String(i[n])],o=e.valueAxis.id;s&&(o=s.axes[o].graphs[e.id],o.serialDataItem=s,o.values=this.processValues(i,e,e.periodValue),this.processFields(e,o,i))}},addValueAxis:function(e){e.chart=this;this.valueAxes.push(e);this.validateData()},removeValueAxesAndGraphs:function(){var e=this.valueAxes,t;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--){var r=t[n];r&&r.valueAxis==e&&this.removeGraph(r)}t=this.valueAxes;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1);this.validateData()},addGraph:function(e){this.graphs.push(e);this.chooseGraphColor(e,this.graphs.length-1);this.validateData()},removeGraph:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--)t[n]==e&&(t.splice(n,1),e.destroy());this.validateData()},processValueAxes:function(){var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.ValueAxis,this.theme);t[n]=r;r.chart=this;r.id||(r.id="valueAxisAuto"+n+"_"+(new Date).getTime());void 0===r.usePrefixes&&(r.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,n=this.categoryAxis;if(t)for(var r=0;r<t.length;r++){var i=t[r];(void 0!==i.category||void 0!==i.date)&&n&&n.addGuide(i);i.id||(i.id="guideAuto"+r+"_"+(new Date).getTime());var s=i.valueAxis;s?(e.isString(s)&&(s=this.getValueAxisById(s)),s?s.addGuide(i):this.valueAxes[0].addGuide(i)):isNaN(i.value)||this.valueAxes[0].addGuide(i)}},processGraphs:function(){var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.AmGraph,this.theme);t[n]=r;this.chooseGraphColor(r,n);r.chart=this;e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis));r.valueAxis||(r.valueAxis=this.valueAxes[0]);r.id||(r.id="graphAuto"+n+"_"+(new Date).getTime())}},formatString:function(t,n,r){var i=n.graph,s=i.valueAxis;s.duration&&n.values.value&&(s=e.formatDuration(n.values.value,s.duration,"",s.durationUnits,s.maxInterval,s.numberFormatter),t=t.split("[[value]]").join(s));t=e.massReplace(t,{"[[title]]":i.title,"[[description]]":n.description});t=r?e.fixNewLines(t):e.fixBrakes(t);return t=e.cleanFromEmpty(t)},getBalloonColor:function(t,n,r){var i=t.lineColor,s=t.balloonColor;r&&(s=i);r=t.fillColorsR;"object"==typeof r?i=r[0]:void 0!==r&&(i=r);n.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(i=r));void 0!==n.color&&(i=n.color);void 0!==n.lineColor&&(i=n.lineColor);n=n.fillColors;void 0!==n&&(i=n,e.ifArray(n)&&(i=n[0]));void 0===s&&(s=i);return s},getGraphById:function(t){return e.getObjById(this.graphs,t)},getValueAxisById:function(t){return e.getObjById(this.valueAxes,t)},processFields:function(t,n,r){if(t.itemColors){var i=t.itemColors,s=n.index;n.color=s<i.length?i[s]:e.randomColor()}i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(s=0;s<i.length;s++){var o=i[s],u=t[o+"Field"];u&&(u=r[u],e.isDefined(u)&&(n[o]=u))}n.dataContext=r},chooseGraphColor:function(t,n){if(t.lineColor)t.lineColorR=t.lineColor;else{var r;r=this.colors.length>n?this.colors[n]:t.lineColorR?t.lineColorR:e.randomColor();t.lineColorR=r}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR;t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor;t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR;if(r=this.patterns)t.pattern=r[n]},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e){var n=e.hidden,r=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":n||this.highlightGraph(e);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs,n,r=.2;this.legend&&(r=this.legend.rollOverGraphAlpha);if(1!=r)for(n=0;n<t.length;n++){var i=t[n];i!=e&&i.changeOpacity(r)}},unhighlightGraph:function(){var e;this.legend&&(e=this.legend.rollOverGraphAlpha);if(1!=e){e=this.graphs;var t;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var e=this.graphs;if(e){var t;for(t=0;t<e.length;t++)e[t].animationPlayed=!1}},animateAgain:function(){this.resetAnimation();this.validateNow()}})})();(function(){var e=window.AmCharts;e.AmSlicedChart=e.Class({inherits:e.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");e.AmSlicedChart.base.construct.call(this,t);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;e.applyTheme(this,t,"AmSlicedChart")},initChart:function(){e.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(e){var t=e.type,n=e.dataItem,r=this.legend;if(!r.data&&n){var i=n.hidden;e=e.event;switch(t){case"clickMarker":i||r.switchable||this.clickSlice(n,e);break;case"clickLabel":i||this.clickSlice(n,e,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,e);break;case"rollOutItem":i||this.rollOutSlice(n,e);break;case"hideItem":this.hideSlice(n,e);break;case"showItem":this.showSlice(n,e)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var n=this;e.mouseover(function(e){n.rollOverSlice(t,!0,e)}).mouseout(function(e){n.rollOutSlice(t,e)}).touchend(function(e){n.rollOverSlice(t,e)}).touchstart(function(e){}).mouseup(function(e){n.clickSlice(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},formatString:function(t,n,r){t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec);t=e.formatValue(t,n,["percents"],this.pf);t=e.massReplace(t,{"[[title]]":n.title,"[[description]]":n.description});this.pf.precision=i;-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext));t=r?e.fixNewLines(t):e.fixBrakes(t);return t=e.cleanFromEmpty(t)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e);t.timeOuts.push(e)},pullSlices:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];r.pulled&&this.pullSlice(r,1,e)}},startSequenced:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,n=this.startDuration,r=e.labelSet;t&&0<n&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),t.animate({opacity:1,translate:"0,0"},n,this.startEffect));r&&0<n&&(0<e.alpha&&r.show(),r.translate(e.startX,e.startY),r.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show();(n=n.tick)&&n.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1;this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]);clearTimeout(this.hoverInt);if(!t.hidden){this.pullOnHover&&this.pullSlice(t,1);1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var i=t.balloonX,s=t.balloonY;t.pulled&&(i+=t.pullX,s+=t.pullY);var o=this.formatString(this.balloonText,t,!0),u=this.balloonFunction;u&&(o=u(t,o));u=e.adjustLuminosity(t.color,-.15);o?this.showBalloon(o,u,n,i,s):this.hideBalloon();0===t.value&&this.hideBalloon();t={type:"rollOverSlice",dataItem:t,chart:this,event:r};this.fire(t.type,t)}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]);e.wedge&&e.wedge.attr({opacity:1});this.hideBalloon();var n={type:"rollOutSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},clickSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]);t.pulled?this.pullSlice(t,0):this.pullSlice(t,1);e.getURL(t.url,this.urlTarget);r||(t={type:"clickSlice",dataItem:t,chart:this,event:n},this.fire(t.type,t))},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]);var n={type:"rightClickSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},drawTicks:function(){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];if(r.label&&!r.skipTick){var i=r.ty,i=e.line(this.container,[r.tx0,r.tx,r.tx2],[r.ty0,i,i],this.labelTickColor,this.labelTickAlpha);e.setCN(this,i,this.type+"-tick");e.setCN(this,i,r.className,!0);r.tick=i;r.wedge.push(i)}}},initialStart:function(){var e=this,t=e.startDuration,n=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(n);e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,n){var r=this.pullOutDuration;!0===n&&(r=0);if(n=e.wedge)0<r?(n.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(t*e.pullX,t*e.pullY),n.translate(t*e.pullX,t*e.pullY));1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this});this.fire(e.type,e)},pullInAll:function(e){var t=this.chartData,n;for(n=0;n<this.chartData.length;n++)n!=e&&t[n].pulled&&this.pullSlice(t[n],0)},pullOutAll:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var n=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==n){var r=n.length,i=0,s,o,u;for(s=0;s<r;s++){o={};var a=n[s];o.dataContext=a;null!==a[this.valueField]&&(o.value=Number(a[this.valueField]));(u=a[this.titleField])||(u="");o.title=u;o.pulled=e.toBoolean(a[this.pulledField],!1);(u=a[this.descriptionField])||(u="");o.description=u;o.labelRadius=Number(a[this.labelRadiusField]);o.switchable=!0;o.className=a[this.classNameField];o.url=a[this.urlField];u=a[this.patternField];!u&&this.patterns&&(u=this.patterns[s]);o.pattern=u;o.visibleInLegend=e.toBoolean(a[this.visibleInLegendField],!0);u=a[this.alphaField];o.alpha=void 0!==u?Number(u):this.alpha;u=a[this.colorField];void 0!==u&&(o.color=u);o.labelColor=e.toColor(a[this.labelColorField]);i+=o.value;o.hidden=!1;t[s]=o}for(s=n=0;s<r;s++)o=t[s],o.percents=o.value/i*100,o.percents<this.groupPercent&&n++;1<n&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/i*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));r=this.baseColor;r||(r=this.pieBaseColor);i=this.brightnessStep;i||(i=this.pieBrightnessStep);for(s=0;s<t.length;s++)r?u=e.adjustLuminosity(r,s*i/100):(u=this.colors[s],void 0===u&&(u=e.randomColor())),void 0===t[s].color&&(t[s].color=u);this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,t=0,n,r;for(n=0;n<e.length;n++)r=e[n],!r.hidden&&0<r.value&&(t+=r.value);for(n=0;n<e.length;n++)r=this.chartData[n],r.percents=!r.hidden&&0<r.value?100*r.value/t:0},removeSmallSlices:function(){var e=this.chartData,t;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var n=e.chartData[t];n.started=!1;var r=n.wedge;r&&r.translate(n.startX,n.startY);(r=n.labelSet)&&r.translate(n.startX,n.startY)}t=e.startDuration;0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var t=this.chartData,n=0,r;for(r=0;r<t.length;r++){var i=t[r],s=this.formatString(this.labelText,i),o=this.labelFunction;o&&(s=o(i,s));i=e.text(this.container,s,this.color,this.fontFamily,this.fontSize);s=i.getBBox().width;s>n&&(n=s);i.remove()}return n}})})();(function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){e.AmRectangularChart.base.construct.call(this,t);this.theme=t;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;e.applyTheme(this,t,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this);this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();t&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){e.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(e.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var e={},t;if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{r=this.valueAxes;for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0);e.right&&(this.marginRight=0);e.top&&(this.marginTop=0);e.bottom&&(this.marginBottom=0);this.fixMargins=e},measureMargins:function(){var e=this.valueAxes,t,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,s=this.realHeight,o=n,u=n,a=i;t=s;var f;for(f=0;f<e.length;f++)e[f].handleSynchronization(),t=this.getAxisBounds(e[f],o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);if(e=this.categoryAxis)t=this.getAxisBounds(e,o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);r.left&&o<n&&(this.marginLeft=Math.round(-o+n));r.right&&a>=i-n&&(this.marginRight=Math.round(a-i+n));r.top&&u<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-u+n+this.titleHeight));r.bottom&&t>s-n&&(this.marginBottom=Math.round(this.marginBottom+t-s+n));this.initChart()},getAxisBounds:function(e,t,n,r,i){if(!e.ignoreAxisWidth){var s=e.labelsSet,o=e.tickLength;e.inside&&(o=0);if(s)switch(s=e.getBBox(),e.position){case"top":e=s.y;r>e&&(r=e);break;case"bottom":e=s.y+s.height;i<e&&(i=e);break;case"right":e=s.x+s.width+o+3;n<e&&(n=e);break;case"left":e=s.x-o,t>e&&(t=e)}}return{l:t,t:r,r:n,b:i}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var n=t.container.set();t.zoomButtonSet.push(n);var r=t.color,i=t.fontSize,s=t.zoomOutButtonImageSize,o=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),u=e.lang.zoomOutText||t.zoomOutText,a=t.zoomOutButtonColor,f=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(l)||(i=l);(l=t.zoomOutButtonFontColor)&&(r=l);var l=t.zoomOutButton,h;l&&(l.fontSize&&(i=l.fontSize),l.color&&(r=l.color),l.backgroundColor&&(a=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var p=l=0;void 0!==t.pathToImages&&o&&(h=t.container.image(t.pathToImages+o+t.extension,0,0,s,s),e.setCN(t,h,"zoom-out-image"),n.push(h),h=h.getBBox(),l=h.width+5);void 0!==u&&(r=e.text(t.container,u,r,t.fontFamily,i,"start"),e.setCN(t,r,"zoom-out-label"),i=r.getBBox(),p=h?h.height/2-3:i.height/2,r.translate(l,p),n.push(r));h=n.getBBox();r=1;e.isModern||(r=0);a=e.rect(t.container,h.width+2*c+5,h.height+2*c-2,a,1,1,a,r);a.setAttr("opacity",f);a.translate(-c,-c);e.setCN(t,a,"zoom-out-bg");n.push(a);a.toBack();t.zbBG=a;h=a.getBBox();n.translate(t.marginLeftReal+t.plotAreaWidth-h.width+c,t.marginTopReal+c);n.hide();n.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB();t.clickZB()});for(f=0;f<n.length;f++)n[f].attr({cursor:"pointer"});t.zbSet=n}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var t=this.dx,n=this.dy,r=this.marginLeftReal,i=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,u=this.plotAreaFillColors,a=this.plotAreaFillAlphas,f=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof a&&(a=a[0]);u=e.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],u,a,1,f,l,this.plotAreaGradientAngle);e.setCN(this,u,"plot-area");u.translate(r+t,i+n);this.set.push(u);0!==t&&0!==n&&(u=this.plotAreaFillColors,"object"==typeof u&&(u=u[0]),u=e.adjustLuminosity(u,-.15),s=e.polygon(this.container,[0,t,s+t,s,0],[0,n,n,0,0],u,a,1,f,l),e.setCN(this,s,"plot-area-bottom"),s.translate(r,i+o),this.set.push(s),t=e.polygon(this.container,[0,0,t,t,0],[0,o,o+n,n,0],u,a,1,f,l),e.setCN(this,t,"plot-area-left"),t.translate(r,i),this.set.push(t));(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),n=this.container;this.realWidth=e;this.realWidth=t;n&&this.container.setSize(e,t);e=e-this.marginLeftReal-this.marginRightReal-this.dx;t=t-this.marginTopReal-this.marginBottomReal;1>e&&(e=1);1>t&&(t=1);this.plotAreaWidth=Math.round(e);this.plotAreaHeight=Math.round(t)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var t=this.valueAxes,n=this.marginLeftReal,r=this.marginTopReal,i=this.plotAreaHeight,s=this.plotAreaWidth,o;for(o=0;o<t.length;o++){var u=t[o];u.axisRenderer=e.RecAxis;u.guideFillRenderer=e.RecFill;u.axisItemRenderer=e.RecItem;u.dx=this.dx;u.dy=this.dy;u.viW=s-1;u.viH=i-1;u.marginsChanged=!0;u.viX=n;u.viY=r;this.updateObjectSize(u)}},updateObjectSize:function(e){e.width=(this.plotAreaWidth-1)*this.widthMultiplier;e.height=(this.plotAreaHeight-1)*this.heightMultiplier;e.x=this.marginLeftReal+this.horizontalPosition;e.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.x=this.marginLeftReal+this.horizontalPosition;n.y=this.marginTopReal+this.verticalPosition;n.width=this.plotAreaWidth*this.widthMultiplier;n.height=this.plotAreaHeight*this.heightMultiplier;n.index=t;n.dx=this.dx;n.dy=this.dy;n.rotate=this.rotate}},updateChartCursor:function(){var t=this.chartCursor;t&&(t=e.processObject(t,e.ChartCursor,this.theme),this.addChartCursor(t),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},addChartCursor:function(t){e.callMethod("destroy",[this.chartCursor]);t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom));this.chartCursor=t},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.draw())}},addTrendLine:function(e){this.trendLines.push(e)},removeTrendLine:function(e){var t=this.trendLines,n;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},adjustMargins:function(e,t){var n=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==n?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,n){var r="bottom",i="top";e.oppositeAxis||(i=r,r="top");e.position=t?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var n=this.marginTopReal,r=this.marginLeftReal,i=e.scrollbarHeight,s=this.dx,o=this.dy,u=e.offset;"top"==e.position?t?(e.y=n,e.x=r-i-u):(e.y=n-i+o-u,e.x=r+s):t?(e.y=n+o,e.x=r+this.plotAreaWidth+s+u):(e.y=n+this.plotAreaHeight+u,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());if(t=this.zbSet)this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB()},handleReleaseOutside:function(t){e.AmRectangularChart.base.handleReleaseOutside.call(this,t);(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){e.AmRectangularChart.base.handleMouseDown.call(this,t);var n=this.chartCursor;n&&n.handleMouseDown&&!this.rolledOverZB&&n.handleMouseDown(t)},handleCursorChange:function(){},update:function(){e.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()}})})();(function(){var e=window.AmCharts;e.TrendLine=e.Class({construct:function(t){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var n=t.chart,r=n.container,i,s,o,u,a=t.categoryAxis,f=t.initialDate,l=t.initialCategory,c=t.finalDate,h=t.finalCategory,p=t.valueAxis,v=t.valueAxisX,m=t.initialXValue,g=t.finalXValue,y=t.initialValue,b=t.finalValue,w=p.recalculateToPercents,E=n.dataDateFormat;a&&(f&&(f=e.getDate(f,E,"fff"),t.initialDate=f,i=a.dateToCoordinate(f)),l&&(i=a.categoryToCoordinate(l)),c&&(c=e.getDate(c,E,"fff"),t.finalDate=c,s=a.dateToCoordinate(c)),h&&(s=a.categoryToCoordinate(h)));v&&!w&&(isNaN(m)||(i=v.getCoordinate(m)),isNaN(g)||(s=v.getCoordinate(g)));p&&!w&&(isNaN(y)||(o=p.getCoordinate(y)),isNaN(b)||(u=p.getCoordinate(b)));if(!(isNaN(i)||isNaN(s)||isNaN(o)||isNaN(o))){n.rotate?(a=[o,u],u=[i,s]):(a=[i,s],u=[o,u]);f=t.lineColor;o=e.line(r,a,u,f,t.lineAlpha,t.lineThickness,t.dashLength);i=a;s=u;h=a[1]-a[0];p=u[1]-u[0];0===h&&(h=.01);0===p&&(p=.01);l=h/Math.abs(h);c=p/Math.abs(p);p=h*p/Math.abs(h*p)*Math.sqrt(Math.pow(h,2)+Math.pow(p,2));h=Math.asin(h/p);p=90*Math.PI/180-h;h=Math.abs(5*Math.cos(p));p=Math.abs(5*Math.sin(p));i.push(a[1]-l*p,a[0]-l*p);s.push(u[1]+c*h,u[0]+c*h);a=e.polygon(r,i,s,f,.005,0);r=r.set([a,o]);r.translate(n.marginLeftReal,n.marginTopReal);n.trendLinesSet.push(r);e.setCN(n,o,"trend-line");e.setCN(n,o,"trend-line-"+t.id);t.line=o;t.set=r;if(o=t.initialImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[0]+o.offsetX,s[0]+o.offsetY),r.push(o.set);if(o=t.finalImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[1]+o.offsetX,s[1]+o.offsetY),r.push(o.set);a.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()});a.touchend&&a.touchend(function(){t.handleLineClick()});r.clipRect(0,0,n.plotAreaWidth,n.plotAreaHeight)}},handleLineClick:function(){var e={type:"click",trendLine:this,chart:this.chart};this.fire(e.type,e)},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){e.remove(this.set)}})})();(function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image";this.height=this.width=20;this.rotation=this.offsetY=this.offsetX=0;this.balloonColor=this.color="#000000";this.opacity=1;e.applyTheme(this,t,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var t=e.chart.container;e.set=t.set();var n,r;e.url?(n=t.image(e.url,0,0,e.width,e.height),r=1):e.svgPath&&(n=t.path(e.svgPath),n.setAttr("fill",e.color),n.setAttr("stroke",e.outlineColor),t=n.getBBox(),r=Math.min(e.width/t.width,e.height/t.height));n&&(n.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),n.translate(-e.width/2,-e.height/2,r),e.balloonText&&n.mouseover(function(t){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(t){e.chart.hideBalloon()}).touchend(function(t){e.chart.hideBalloon()}).touchstart(function(t){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(n))},translate:function(e,t){this.set&&this.set.translate(e,t)}})})();(function(){var e=window.AmCharts;e.circle=function(t,n,r,i,s,o,u,a,f){0>=n&&(n=.001);if(void 0==s||0===s)s=.01;void 0===o&&(o="#000000");void 0===u&&(u=0);i={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u};t=isNaN(f)?t.circle(0,0,n).attr(i):t.ellipse(0,0,n,f).attr(i);a&&t.gradient("radialGradient",[r,e.adjustLuminosity(r,-.6)]);return t};e.text=function(t,n,r,i,s,o,u,a){o||(o="middle");"right"==o&&(o="end");"left"==o&&(o="start");isNaN(a)&&(a=1);void 0!==n&&(n=String(n),e.isIE&&!e.isModern&&(n=n.replace("&amp;","&"),n=n.replace("&","&amp;")));r={fill:r,"font-family":i,"font-size":s+"px",opacity:a};!0===u&&(r["font-weight"]="bold");r["text-anchor"]=o;return t.text(n,r)};e.polygon=function(t,n,r,i,s,o,u,a,f,l,c){isNaN(o)&&(o=.01);isNaN(a)&&(a=s);var h=i,p=!1;"object"==typeof h&&1<h.length&&(p=!0,h=h[0]);void 0===u&&(u=h);s={fill:h,stroke:u,"fill-opacity":s,"stroke-width":o,"stroke-opacity":a};void 0!==c&&0<c&&(s["stroke-dasharray"]=c);c=e.dx;o=e.dy;t.handDrawn&&(r=e.makeHD(n,r,t.handDrawScatter),n=r[0],r=r[1]);u=Math.round;l&&(u=e.doNothing);l="M"+(u(n[0])+c)+","+(u(r[0])+o);for(a=1;a<n.length;a++)l+=" L"+(u(n[a])+c)+","+(u(r[a])+o);t=t.path(l+" Z").attr(s);p&&t.gradient("linearGradient",i,f);return t};e.rect=function(t,n,r,i,s,o,u,a,f,l,c){if(isNaN(n)||isNaN(r))return t.set();isNaN(o)&&(o=0);void 0===f&&(f=0);void 0===l&&(l=270);isNaN(s)&&(s=0);var h=i,p=!1;"object"==typeof h&&(h=h[0],p=!0);void 0===u&&(u=h);void 0===a&&(a=s);n=Math.round(n);r=Math.round(r);var v=0,m=0;0>n&&(n=Math.abs(n),v=-n);0>r&&(r=Math.abs(r),m=-r);v+=e.dx;m+=e.dy;s={fill:h,stroke:u,"fill-opacity":s,"stroke-opacity":a};void 0!==c&&0<c&&(s["stroke-dasharray"]=c);t=t.rect(v,m,n,r,f,o).attr(s);p&&t.gradient("linearGradient",i,l);return t};e.bullet=function(t,n,r,i,s,o,u,a,f,l,c,h){var p;"circle"==n&&(n="round");switch(n){case"round":p=e.circle(t,r/2,i,s,o,u,a);break;case"square":p=e.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180);break;case"rectangle":p=e.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180);break;case"diamond":p=e.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],i,s,o,u,a);break;case"triangleUp":p=e.triangle(t,r,0,i,s,o,u,a);break;case"triangleDown":p=e.triangle(t,r,180,i,s,o,u,a);break;case"triangleLeft":p=e.triangle(t,r,270,i,s,o,u,a);break;case"triangleRight":p=e.triangle(t,r,90,i,s,o,u,a);break;case"bubble":p=e.circle(t,r/2,i,s,o,u,a,!0);break;case"line":p=e.line(t,[-r/2,r/2],[0,0],i,s,o,u,a);break;case"yError":p=t.set();p.push(e.line(t,[0,0],[-r/2,r/2],i,s,o));p.push(e.line(t,[-f,f],[-r/2,-r/2],i,s,o));p.push(e.line(t,[-f,f],[r/2,r/2],i,s,o));break;case"xError":p=t.set(),p.push(e.line(t,[-r/2,r/2],[0,0],i,s,o)),p.push(e.line(t,[-r/2,-r/2],[-f,f],i,s,o)),p.push(e.line(t,[r/2,r/2],[-f,f],i,s,o))}p&&p.pattern(c,NaN,h);return p};e.triangle=function(e,t,n,r,i,s,o,u){if(void 0===s||0===s)s=1;void 0===o&&(o="#000");void 0===u&&(u=0);r={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u};t/=2;var a;0===n&&(a=" M"+ -t+","+t+" L0,"+ -t+" L"+t+","+t+" Z");180==n&&(a=" M"+ -t+","+ -t+" L0,"+t+" L"+t+","+ -t+" Z");90==n&&(a=" M"+ -t+","+ -t+" L"+t+",0 L"+ -t+","+t+" Z");270==n&&(a=" M"+ -t+",0 L"+t+","+t+" L"+t+","+ -t+" Z");return e.path(a).attr(r)};e.line=function(t,n,r,i,s,o,u,a,f,l,c){if(t.handDrawn&&!c)return e.handDrawnLine(t,n,r,i,s,o,u,a,f,l,c);o={fill:"none","stroke-width":o};void 0!==u&&0<u&&(o["stroke-dasharray"]=u);isNaN(s)||(o["stroke-opacity"]=s);i&&(o.stroke=i);i=Math.round;l&&(i=e.doNothing);l=e.dx;s=e.dy;u="M"+(i(n[0])+l)+","+(i(r[0])+s);for(a=1;a<n.length;a++)u+=" L"+(i(n[a])+l)+","+(i(r[a])+s);if(e.VML)return t.path(u,void 0,!0).attr(o);f&&(u+=" M0,0 L0,0");return t.path(u).attr(o)};e.makeHD=function(e,t,n){for(var r=[],i=[],s=1;s<e.length;s++)for(var o=Number(e[s-1]),u=Number(t[s-1]),a=Number(e[s]),f=Number(t[s]),l=Math.sqrt(Math.pow(a-o,2)+Math.pow(f-u,2)),l=Math.round(l/50)+1,a=(a-o)/l,f=(f-u)/l,c=0;c<=l;c++){var h=o+c*a+Math.random()*n,p=u+c*f+Math.random()*n;r.push(h);i.push(p)}return[r,i]};e.handDrawnLine=function(t,n,r,i,s,o,u,a,f,l){var c,h=t.set();for(c=1;c<n.length;c++)for(var p=[n[c-1],n[c]],v=[r[c-1],r[c]],v=e.makeHD(p,v,t.handDrawScatter),p=v[0],v=v[1],m=1;m<p.length;m++)h.push(e.line(t,[p[m-1],p[m]],[v[m-1],v[m]],i,s,o+Math.random()*t.handDrawThickness-t.handDrawThickness/2,u,a,f,l,!0));return h};e.doNothing=function(e){return e};e.wedge=function(t,n,r,i,s,o,u,a,f,l,c,h,p){var v=Math.round;o=v(o);u=v(u);a=v(a);var m=v(u/o*a),g=e.VML,y=359.5+o/100;359.94<y&&(y=359.94);s>=y&&(s=y);var b=1/180*Math.PI,y=n+Math.sin(i*b)*a,w=r-Math.cos(i*b)*m,E=n+Math.sin(i*b)*o,S=r-Math.cos(i*b)*u,x=n+Math.sin((i+s)*b)*o,T=r-Math.cos((i+s)*b)*u,N=n+Math.sin((i+s)*b)*a,b=r-Math.cos((i+s)*b)*m,C={fill:e.adjustLuminosity(l.fill,-.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},k=0;180<Math.abs(s)&&(k=1);i=t.set();var L;g&&(y=v(10*y),E=v(10*E),x=v(10*x),N=v(10*N),w=v(10*w),S=v(10*S),T=v(10*T),b=v(10*b),n=v(10*n),f=v(10*f),r=v(10*r),o*=10,u*=10,a*=10,m*=10,1>Math.abs(s)&&1>=Math.abs(x-E)&&1>=Math.abs(T-S)&&(L=!0));s="";var A;h&&(C["fill-opacity"]=0,C["stroke-opacity"]=l["stroke-opacity"]/2,C.stroke=l.stroke);if(0<f){A=" M"+y+","+(w+f)+" L"+E+","+(S+f);g?(L||(A+=" A"+(n-o)+","+(f+r-u)+","+(n+o)+","+(f+r+u)+","+E+","+(S+f)+","+x+","+(T+f)),A+=" L"+N+","+(b+f),0<a&&(L||(A+=" B"+(n-a)+","+(f+r-m)+","+(n+a)+","+(f+r+m)+","+N+","+(f+b)+","+y+","+(f+w)))):(A+=" A"+o+","+u+",0,"+k+",1,"+x+","+(T+f)+" L"+N+","+(b+f),0<a&&(A+=" A"+a+","+m+",0,"+k+",0,"+y+","+(w+f)));A+=" Z";var O=f;g&&(O/=10);for(var M=0;M<O;M+=10){var _=t.path(A,void 0,void 0,"1000,1000").attr(C);i.push(_);_.translate(0,-M)}A=t.path(" M"+y+","+w+" L"+y+","+(w+f)+" L"+E+","+(S+f)+" L"+E+","+S+" L"+y+","+w+" Z",void 0,void 0,"1000,1000").attr(C);f=t.path(" M"+x+","+T+" L"+x+","+(T+f)+" L"+N+","+(b+f)+" L"+N+","+b+" L"+x+","+T+" Z",void 0,void 0,"1000,1000").attr(C);i.push(A);i.push(f)}g?(L||(s=" A"+v(n-o)+","+v(r-u)+","+v(n+o)+","+v(r+u)+","+v(E)+","+v(S)+","+v(x)+","+v(T)),o=" M"+v(y)+","+v(w)+" L"+v(E)+","+v(S)+s+" L"+v(N)+","+v(b)):o=" M"+y+","+w+" L"+E+","+S+(" A"+o+","+u+",0,"+k+",1,"+x+","+T)+" L"+N+","+b;0<a&&(g?L||(o+=" B"+(n-a)+","+(r-m)+","+(n+a)+","+(r+m)+","+N+","+b+","+y+","+w):o+=" A"+a+","+m+",0,"+k+",0,"+y+","+w);t.handDrawn&&(n=e.line(t,[y,E],[w,S],l.stroke,l.thickness*Math.random()*t.handDrawThickness,l["stroke-opacity"]),i.push(n));t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(l);if(c){n=[];for(r=0;r<c.length;r++)n.push(e.adjustLuminosity(l.fill,c[r]));0<n.length&&t.gradient("linearGradient",n)}t.pattern(h,NaN,p);i.wedge=t;i.push(t);return i};e.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""};e.adjustLuminosity=function(t,n){t&&-1!=t.indexOf("rgb")&&(t=e.rgb2hex(t));t=String(t).replace(/[^0-9a-f]/gi,"");6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2]));n=n||0;var r="#",i,s;for(s=0;3>s;s++)i=parseInt(t.substr(2*s,2),16),i=Math.round(Math.min(Math.max(0,i+i*n),255)).toString(16),r+=("00"+i).substr(i.length);return r}})();(function(){var e=window.AmCharts;e.Bezier=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l){"object"==typeof u&&(u=u[0]);"object"==typeof a&&(a=a[0]);0===a&&(u="none");o={fill:u,"fill-opacity":a,"stroke-width":o};void 0!==f&&0<f&&(o["stroke-dasharray"]=f);isNaN(s)||(o["stroke-opacity"]=s);i&&(o.stroke=i);i="M"+Math.round(n[0])+","+Math.round(r[0]);s=[];for(f=0;f<n.length;f++)s.push({x:Number(n[f]),y:Number(r[f])});1<s.length&&(n=this.interpolate(s),i+=this.drawBeziers(n));l?i+=l:e.VML||(i+="M0,0 L0,0");this.path=t.path(i).attr(o);this.node=this.path.node},interpolate:function(t){var n=[];n.push({x:t[0].x,y:t[0].y});var r=t[1].x-t[0].x,i=t[1].y-t[0].y,s=e.bezierX,o=e.bezierY;n.push({x:t[0].x+r/s,y:t[0].y+i/o});var u;for(u=1;u<t.length-1;u++){var a=t[u-1],f=t[u],i=t[u+1];isNaN(i.x)&&(i=f);isNaN(f.x)&&(f=a);isNaN(a.x)&&(a=f);r=i.x-f.x;i=i.y-a.y;a=f.x-a.x;a>r&&(a=r);n.push({x:f.x-a/s,y:f.y-i/o});n.push({x:f.x,y:f.y});n.push({x:f.x+a/s,y:f.y+i/o})}i=t[t.length-1].y-t[t.length-2].y;r=t[t.length-1].x-t[t.length-2].x;n.push({x:t[t.length-1].x-r/s,y:t[t.length-1].y-i/o});n.push({x:t[t.length-1].x,y:t[t.length-1].y});return n},drawBeziers:function(e){var t="",n;for(n=0;n<(e.length-1)/3;n++)t+=this.drawBezierMidpoint(e[3*n],e[3*n+1],e[3*n+2],e[3*n+3]);return t},drawBezierMidpoint:function(e,t,n,r){var i=Math.round,s=this.getPointOnSegment(e,t,.75),o=this.getPointOnSegment(r,n,.75),u=(r.x-e.x)/16,a=(r.y-e.y)/16,f=this.getPointOnSegment(e,t,.375);e=this.getPointOnSegment(s,o,.375);e.x-=u;e.y-=a;t=this.getPointOnSegment(o,s,.375);t.x+=u;t.y+=a;n=this.getPointOnSegment(r,n,.375);u=this.getMiddle(f,e);s=this.getMiddle(s,o);o=this.getMiddle(t,n);f=" Q"+i(f.x)+","+i(f.y)+","+i(u.x)+","+i(u.y);f+=" Q"+i(e.x)+","+i(e.y)+","+i(s.x)+","+i(s.y);f+=" Q"+i(t.x)+","+i(t.y)+","+i(o.x)+","+i(o.y);return f+=" Q"+i(n.x)+","+i(n.y)+","+i(r.x)+","+i(r.y)},getMiddle:function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},getPointOnSegment:function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}})})();(function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,n,r,i){e.SVG_NS="http://www.w3.org/2000/svg";e.SVG_XLINK="http://www.w3.org/1999/xlink";e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect;1>n&&(n=10);1>r&&(r=10);this.div=t;this.width=n;this.height=r;this.rBin=document.createElement("div");e.hasSVG?(e.SVG=!0,n=this.createSvgElement("svg"),t.appendChild(n),this.container=n,this.addDefs(i),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(n=document.createStyleSheet(),n.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=n):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,i),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,n,r,i){var s=new e.AmDObject("circle",this);s.attr({r:r,cx:t,cy:n});this.addToContainer(s.node,i);return s},ellipse:function(t,n,r,i,s){var o=new e.AmDObject("ellipse",this);o.attr({rx:r,ry:i,cx:t,cy:n});this.addToContainer(o.node,s);return o},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,n,r,i,s,o,u){var a=new e.AmDObject("rect",this);e.VML&&(s=Math.round(100*s/Math.min(r,i)),r+=2*o,i+=2*o,a.bw=o,a.node.style.marginLeft=-o,a.node.style.marginTop=-o);1>r&&(r=1);1>i&&(i=1);a.attr({x:t,y:n,width:r,height:i,rx:s,ry:s,"stroke-width":o});this.addToContainer(a.node,u);return a},image:function(t,n,r,i,s,o){var u=new e.AmDObject("image",this);u.attr({x:n,y:r,width:i,height:s});this.R.path(u,t);this.addToContainer(u.node,o);return u},addToContainer:function(e,t){t||(t=this.container);t.appendChild(e)},text:function(e,t,n){return this.R.text(e,t,n)},path:function(t,n,r,i){var s=new e.AmDObject("path",this);i||(i="100,100");s.attr({cs:i});r?s.attr({dd:t}):s.attr({d:t});this.addToContainer(s.node,n);return s},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e);t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px";t.left="0px";var n=e.getBoundingClientRect(),e=n.left-Math.round(n.left),n=n.top-Math.round(n.top);e&&(t.left=e+"px");n&&(t.top=n+"px")},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var n=this.createSvgElement("desc"),r=this.container;r.setAttribute("version","1.1");r.style.position="absolute";this.setSize(this.width,this.height);e.rtl&&(r.setAttribute("direction","rtl"),r.style.left="auto",r.style.right="0px");t.addCodeCredits&&n.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version));r.appendChild(n);t.defs&&(n=this.createSvgElement("defs"),r.appendChild(n),e.parseDefs(t.defs,n),this.defs=n)}}})})();(function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t;this.R=t.R;this.node=this.R.create(this,e);this.y=this.x=0;this.scale=1},attr:function(e){this.R.attr(this,e);return this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){this.R.setAttr(this,e,t);return this},clipRect:function(e,t,n,r){this.R.clipRect(this,e,t,n,r)},translate:function(e,t,n,r){r||(e=Math.round(e),t=Math.round(t));this.R.move(this,e,t,n);this.x=e;this.y=t;this.scale=n;this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t);this.angle=e},animate:function(t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var s=i,o=t[i];r=e.getEffect(r);this.R.animate(this,s,o,n,r)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var n=e.clipPath;n&&t.appendChild(n);(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var n=t.firstChild;n&&t.insertBefore(e,n)}}},mouseover:function(e){this.R.addListener(this,"mouseover",e);return this},mouseout:function(e){this.R.addListener(this,"mouseout",e);return this},click:function(e){this.R.addListener(this,"click",e);return this},dblclick:function(e){this.R.addListener(this,"dblclick",e);return this},mousedown:function(e){this.R.addListener(this,"mousedown",e);return this},mouseup:function(e){this.R.addListener(this,"mouseup",e);return this},touchstart:function(e){this.R.addListener(this,"touchstart",e);return this},touchend:function(e){this.R.addListener(this,"touchend",e);return this},contextmenu:function(e){this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e);return this},stop:function(){e.removeFromArray(this.R.animations,this.an_x);e.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(e,t,n){this.R.gradient(this,e,t,n)},pattern:function(e,t,n){e&&this.R.pattern(this,e,t,n)}})})();(function(){var e=window.AmCharts;e.VMLRenderer=e.Class({construct:function(e,t){this.chart=t;this.D=e;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var n;if("group"==t)n=document.createElement("div"),e.type="div";else if("text"==t)n=document.createElement("div"),e.type="text";else if("image"==t)n=document.createElement("img"),e.type="image";else{e.type="shape";e.shapeType=this.cNames[t];n=document.createElement("amvml:"+this.cNames[t]);var r=document.createElement("amvml:stroke");n.appendChild(r);e.stroke=r;var i=document.createElement("amvml:fill");n.appendChild(i);e.fill=i;i.className="amvml";r.className="amvml";n.className="amvml"}n.style.position="absolute";n.style.top=0;n.style.left=0;return n},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(t,n,r){if(void 0!==r){var i;8===document.documentMode&&(i=!0);var s=t.node,o=t.type,u=s.style;"r"==n&&(u.width=2*r,u.height=2*r);"oval"==t.shapeType&&("rx"==n&&(u.width=2*r),"ry"==n&&(u.height=2*r));"roundrect"==t.shapeType&&("width"!=n&&"height"!=n||--r);"cursor"==n&&(u.cursor=r);"cx"==n&&(u.left=r-e.removePx(u.width)/2);"cy"==n&&(u.top=r-e.removePx(u.height)/2);var a=this.styleMap[n];"width"==a&&0>r&&(r=0);void 0!==a&&(u[a]=r);"text"==o&&("text-anchor"==n&&(t.anchor=r,a=s.clientWidth,"end"==r&&(u.marginLeft=-a+"px"),"middle"==r&&(u.marginLeft=-(a/2)+"px",u.textAlign="center"),"start"==r&&(u.marginLeft="0px")),"fill"==n&&(u.color=r),"font-weight"==n&&(u.fontWeight=r));if(u=t.children)for(a=0;a<u.length;a++)u[a].setAttr(n,r);if("shape"==o){"cs"==n&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",r));"d"==n&&s.setAttribute("path",this.svgPathToVml(r));"dd"==n&&s.setAttribute("path",r);o=t.stroke;t=t.fill;"stroke"==n&&(i?o.color=r:o.setAttribute("color",r));"stroke-width"==n&&(i?o.weight=r:o.setAttribute("weight",r));"stroke-opacity"==n&&(i?o.opacity=r:o.setAttribute("opacity",r));"stroke-dasharray"==n&&(u="solid",0<r&&3>r&&(u="dot"),3<=r&&6>=r&&(u="dash"),6<r&&(u="longdash"),i?o.dashstyle=u:o.setAttribute("dashstyle",u));if("fill-opacity"==n||"opacity"==n)0===r?i?t.on=!1:t.setAttribute("on",!1):i?t.opacity=r:t.setAttribute("opacity",r);"fill"==n&&(i?t.color=r:t.setAttribute("color",r));"rx"==n&&(i?s.arcSize=r+"%":s.setAttribute("arcsize",r+"%"))}}},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},text:function(t,n,r){var i=new e.AmDObject("text",this.D),s=i.node;s.style.whiteSpace="pre";s.innerHTML=t;this.D.addToContainer(s,r);this.attr(i,n);return i},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetWidth,i=e.offsetHeight,s;if(e.hasChildNodes()){var o,u,a;for(a=0;a<e.childNodes.length;a++){s=this.getBox(e.childNodes[a]);var f=s.x;isNaN(f)||(isNaN(o)?o=f:f<o&&(o=f));var l=s.y;isNaN(l)||(isNaN(u)?u=l:l<u&&(u=l));f=s.width+f;isNaN(f)||(r=Math.max(r,f));s=s.height+l;isNaN(s)||(i=Math.max(i,s))}0>o&&(t+=o);0>u&&(n+=u)}return{x:t,y:n,width:r,height:i}},setText:function(e,t){var n=e.node;n&&(n.innerHTML=t);this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,n){e.node["on"+t]=n},move:function(t,n,r){var i=t.node,s=i.style;"text"==t.type&&(r-=e.removePx(s.fontSize)/2-1);"oval"==t.shapeType&&(n-=e.removePx(s.width)/2,r-=e.removePx(s.height)/2);t=t.bw;isNaN(t)||(n-=t,r-=t);isNaN(n)||isNaN(r)||(i.style.left=n+"px",i.style.top=r+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var n,r=Math.round,i;for(i=0;i<t.length;i++){var s=t[i],o=s.substring(0,1),s=s.substring(1),u=s.split(","),a=r(u[0])+","+r(u[1]);"M"==o&&(e+=" m "+a);"L"==o&&(e+=" l "+a);"Z"==o&&(e+=" x e");if("Q"==o){var f=n.length,l=n[f-1],c=u[0],h=u[1],a=u[2],p=u[3];n=r(n[f-2]/3+2/3*c);l=r(l/3+2/3*h);c=r(2/3*c+a/3);h=r(2/3*h+p/3);e+=" c "+n+","+l+","+c+","+h+","+a+","+p}"A"==o&&(e+=" wa "+s);"B"==o&&(e+=" at "+s);n=u}return e},animate:function(e,t,n,r,i){var s=e.node,o=this.chart;if("translate"==t){t=n.split(",");n=t[1];var u=s.offsetTop;o.animate(e,"left",s.offsetLeft,t[0],r,i,"px");o.animate(e,"top",u,n,r,i,"px")}},clipRect:function(e,t,n,r,i){e=e.node;0===t&&0===n?(e.style.width=r+"px",e.style.height=i+"px",e.style.overflow="hidden"):e.style.clip="rect("+n+"px "+(t+r)+"px "+(n+i)+"px "+t+"px)"},rotate:function(t,n,r){if(0!==Number(n)){var i=t.node;t=i.style;r||(r=this.getBGColor(i.parentNode));t.backgroundColor=r;t.paddingLeft=1;r=n*Math.PI/180;var s=Math.cos(r),o=Math.sin(r),u=e.removePx(t.left),a=e.removePx(t.top),f=i.offsetWidth,i=i.offsetHeight;n/=Math.abs(n);t.left=u+f/2-f/2*Math.cos(r)-n*i/2*Math.sin(r)+3;t.top=a-n*f/2*Math.sin(r)+n*i/2*Math.sin(r);t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+s+"', M12='"+ -o+"', M21='"+o+"', M22='"+s+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var n=e.style.backgroundColor;""!==n?t=n:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(t){var n=new e.AmDObject("group",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},gradient:function(e,t,n,r){var i="";"radialGradient"==t&&(t="gradientradial",n.reverse());"linearGradient"==t&&(t="gradient");var s;for(s=0;s<n.length;s++){var o=Math.round(100*s/(n.length-1)),i=i+(o+"% "+n[s]);s<n.length-1&&(i+=",")}e=e.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(e.type=t,e.angle=r):(e.setAttribute("type",t),e.setAttribute("angle",r));i&&(e.colors.value=i)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath);this.D.remove(e.node)},disableSelection:function(e){void 0!==typeof e.onselectstart&&(e.onselectstart=function(){return!1});e.style.cursor="default"},pattern:function(t,n,r,i){r=t.node;t=t.fill;var s="none";n.color&&(s=n.color);r.fillColor=s;n=n.url;e.isAbsolute(n)||(n=i+n);8===document.documentMode?(t.type="tile",t.src=n):(t.setAttribute("type","tile"),t.setAttribute("src",n))},update:function(){}})})();(function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e;this.animations=[]},create:function(t,n){return document.createElementNS(e.SVG_NS,n)},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},setAttr:function(e,t,n){void 0!==n&&e.node.setAttribute(t,n)},animate:function(t,n,r,i,s){var o=t.node;t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]);"translate"==n?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(n));r={obj:t,frame:0,attribute:n,from:o,to:r,time:i,effect:s};this.animations.push(r);t["an_"+n]=r},update:function(){var t,n=this.animations;for(t=n.length-1;0<=t;t--){var r=n[t],i=1e3*r.time/e.updateRate,s=r.frame+1,o=r.obj,u=r.attribute,a,f,l;s<=i?(r.frame++,"translate"==u?(a=r.from.split(","),u=Number(a[0]),a=Number(a[1]),isNaN(a)&&(a=0),f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),l=0===l-u?l:Math.round(e[r.effect](0,s,u,l-u,i)),r=0===f-a?f:Math.round(e[r.effect](0,s,a,f-a,i)),u="transform",r="translate("+l+","+r+")"):(f=Number(r.from),a=Number(r.to),l=a-f,r=e[r.effect](0,s,f,l,i),isNaN(r)&&(r=a),0===l&&this.animations.splice(t,1)),this.setAttr(o,u,r)):("translate"==u?(f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),o.translate(l,f)):(a=Number(r.to),this.setAttr(o,u,a)),this.animations.splice(t,1))}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,n){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",n)},clipRect:function(t,n,r,i,s){var o=t.node,u=t.clipPath;u&&this.D.remove(u);var a=o.parentNode;a&&(o=document.createElementNS(e.SVG_NS,"clipPath"),u=e.getUniqueId(),o.setAttribute("id",u),this.D.rect(n,r,i,s,0,0,o),a.appendChild(o),n="#",e.baseHref&&!e.isIE&&(n=this.removeTarget(window.location.href)+n),this.setAttr(t,"clip-path","url("+n+u+")"),this.clipPathC++,t.clipPath=o)},text:function(t,n,r){var i=new e.AmDObject("text",this.D);t=String(t).split("\n");var s=e.removePx(n["font-size"]),o;for(o=0;o<t.length;o++){var u=this.create(null,"tspan");u.appendChild(document.createTextNode(t[o]));u.setAttribute("y",(s+2)*o+Math.round(s/2));u.setAttribute("x",0);i.node.appendChild(u)}i.node.setAttribute("y",Math.round(s/2));this.attr(i,n);this.D.addToContainer(i.node,r);return i},setText:function(e,t){var n=e.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(t)))},move:function(e,t,n,r){isNaN(t)&&(t=0);isNaN(n)&&(n=0);t="translate("+t+","+n+")";r&&(t=t+" scale("+r+")");this.setAttr(e,"transform",t)},rotate:function(e,t){var n=e.node.getAttribute("transform"),r="rotate("+t+")";n&&(r=n+" "+r);this.setAttr(e,"transform",r)},set:function(t){var n=new e.AmDObject("g",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},addListener:function(e,t,n){e.node["on"+t]=n},gradient:function(t,n,r,i){var s=t.node,o=t.grad;o&&this.D.remove(o);n=document.createElementNS(e.SVG_NS,n);o=e.getUniqueId();n.setAttribute("id",o);if(!isNaN(i)){var u=0,a=0,f=0,l=0;90==i?f=100:270==i?l=100:180==i?u=100:0===i&&(a=100);n.setAttribute("x1",u+"%");n.setAttribute("x2",a+"%");n.setAttribute("y1",f+"%");n.setAttribute("y2",l+"%")}for(i=0;i<r.length;i++)u=document.createElementNS(e.SVG_NS,"stop"),a=100*i/(r.length-1),0===i&&(a=0),u.setAttribute("offset",a+"%"),u.setAttribute("stop-color",r[i]),n.appendChild(u);s.parentNode.appendChild(n);r="#";e.baseHref&&!e.isIE&&(r=this.removeTarget(window.location.href)+r);s.setAttribute("fill","url("+r+o+")");t.grad=n},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,n,r,i){var s=t.node;isNaN(r)&&(r=1);var o=t.patternNode;o&&this.D.remove(o);var o=document.createElementNS(e.SVG_NS,"pattern"),u=e.getUniqueId(),a=n;n.url&&(a=n.url);e.isAbsolute(a)||(a=i+a);i=Number(n.width);isNaN(i)&&(i=4);var f=Number(n.height);isNaN(f)&&(f=4);i/=r;f/=r;r=n.x;isNaN(r)&&(r=0);var l=-Math.random()*Number(n.randomX);isNaN(l)||(r=l);l=n.y;isNaN(l)&&(l=0);var c=-Math.random()*Number(n.randomY);isNaN(c)||(l=c);o.setAttribute("id",u);o.setAttribute("width",i);o.setAttribute("height",f);o.setAttribute("patternUnits","userSpaceOnUse");o.setAttribute("xlink:href",a);n.color&&(c=document.createElementNS(e.SVG_NS,"rect"),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"width",f),c.setAttributeNS(null,"fill",n.color),o.appendChild(c));this.D.image(a,0,0,i,f,o).translate(r,l);a="#";e.baseHref&&!e.isIE&&(a=this.removeTarget(window.location.href)+a);s.setAttribute("fill","url("+a+u+")");t.patternNode=o;s.parentNode.appendChild(o)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath);e.grad&&this.D.remove(e.grad);e.patternNode&&this.D.remove(e.patternNode);this.D.remove(e.node)}})})();AmCharts.AmDSet=AmCharts.Class({construct:function(e){this.create("g")},attr:function(e){this.R.attr(this.node,e)},move:function(e,t){this.R.move(this.node,e,t)}});(function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,n=this.position,r=this.width,i=t.divRealWidth,s=t.divRealHeight,o=this.div,u=this.legendData;this.data&&(u=this.data);isNaN(this.fontSize)&&(this.fontSize=t.fontSize);if("right"==n||"left"==n)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight;this.marginLeft=t.marginLeft;var a=t.autoMarginOffset;"bottom"==n?(this.marginBottom=a,this.marginTop=0):(this.marginTop=a,this.marginBottom=0)}r=void 0!==r?e.toCoordinate(r,i):"right"!=n&&"left"!=n?t.realWidth:0<this.ieW?this.ieW:t.realWidth;"outside"==n?(r=o.offsetWidth,s=o.offsetHeight,o.clientHeight&&(r=o.clientWidth,s=o.clientHeight)):(isNaN(r)||(o.style.width=r+"px"),o.className="amChartsLegend "+t.classNamePrefix+"-legend-div");this.divWidth=r;(n=this.container)?(n.container.innerHTML="",o.appendChild(n.container),n.width=r,n.height=s,n.setSize(r,s),n.addDefs(t)):n=new e.AmDraw(o,r,s,t);this.container=n;this.lx=0;this.ly=8;s=this.markerSize;s>this.fontSize&&(this.ly=s/2-1);0<s&&(this.lx+=s+this.markerLabelGap);this.titleWidth=0;if(s=this.title)s=e.text(this.container,s,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,s,"legend-title"),s.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=s.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6;this.index=this.maxLabelWidth=0;if(this.showEntries){for(t=0;t<u.length;t++)this.createEntry(u[t]);for(t=this.index=0;t<u.length;t++)this.createValue(u[t])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var t=this.position,n=this.marginLeft+this.titleWidth,r=this.marginRight,i=this.marginTop,s=this.marginBottom,o=this.horizontalGap,u=this.div,a=this.divWidth,f=this.maxColumns,l=this.verticalGap,c=this.spacing,h=a-r-n,p=0,v=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var y=m.set();g.push(y);var b=this.entries,w,E;for(E=0;E<b.length;E++){w=b[E].getBBox();var S=w.width;S>p&&(p=S);w=w.height;w>v&&(v=w)}var S=v=0,x=o,T=0,N=0;for(E=0;E<b.length;E++){var C=b[E];this.reversedOrder&&(C=b[b.length-E-1]);w=C.getBBox();var k;this.equalWidths?k=S*(p+c+this.markerLabelGap):(k=x,x=x+w.width+o+c);w.height>N&&(N=w.height);k+w.width>h&&0<E&&0!==S&&(v++,k=S=0,x=k+w.width+o+c,T=T+N+l,N=0);C.translate(k,T);S++;!isNaN(f)&&S>=f&&(S=0,v++,T=T+N+l,x=o,N=0);y.push(C)}w=y.getBBox();f=w.height+2*l-1;"left"==t||"right"==t?(c=w.width+2*o,a=c+n+r,u.style.width=a+"px",this.ieW=a):c=a-n-r-1;r=e.polygon(this.container,[0,c,c,0],[0,0,f,f],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);e.setCN(this.chart,r,"legend-bg");g.push(r);g.translate(n,i);r.toBack();n=o;if("top"==t||"bottom"==t||"absolute"==t||"outside"==t)"center"==this.align?n=o+(c-w.width)/2:"right"==this.align&&(n=o+c-w.width);y.translate(n,l+1);this.titleHeight>f&&(f=this.titleHeight);t=f+i+s+1;0>t&&(t=0);t>this.chart.divRealHeight&&(u.style.top="0px");u.style.height=Math.round(t)+"px";m.setSize(this.divWidth,t)},createEntry:function(t){if(!1!==t.visibleInLegend){var n=this.chart,r=t.markerType;t.legendEntryWidth=this.markerSize;r||(r=this.markerType);var i=t.color,s=t.alpha;t.legendKeyColor&&(i=t.legendKeyColor());t.legendKeyAlpha&&(s=t.legendKeyAlpha());var o;!0===t.hidden&&(o=i=this.markerDisabledColor);var u=t.pattern,a=t.customMarker;a||(a=this.customMarker);var f=this.container,l=this.markerSize,c=0,h=0,p=l/2;if(this.useGraphSettings){r=t.type;this.switchType=void 0;if("line"==r||"step"==r||"smoothedLine"==r||"ohlc"==r)u=f.set(),t.hidden||(i=t.lineColorR,o=t.bulletBorderColorR),c=e.line(f,[0,2*l],[l/2,l/2],i,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(n,c,"graph-stroke"),u.push(c),t.bullet&&(t.hidden||(i=t.bulletColorR),c=e.bullet(f,t.bullet,t.bulletSize,i,t.bulletAlpha,t.bulletBorderThickness,o,t.bulletBorderAlpha))&&(e.setCN(n,c,"graph-bullet"),c.translate(l+1,l/2),u.push(c)),p=0,c=l,h=l/3;else{var v;t.getGradRotation&&(v=t.getGradRotation());c=t.fillColorsR;!0===t.hidden&&(c=i);if(u=this.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,i,t.lineAlpha,v,u))p=l,u.translate(p,l/2);c=l}e.setCN(n,u,"graph-"+r);e.setCN(n,u,"graph-"+t.id)}else if(a)u=f.image(a,0,0,l,l);else{var m;isNaN(this.gradientRotation)||(m=180+this.gradientRotation);(u=this.createMarker(r,i,s,void 0,void 0,void 0,m,u))&&u.translate(l/2,l/2)}e.setCN(n,u,"legend-marker");this.addListeners(u,t);f=f.set([u]);this.switchable&&t.switchable&&f.setAttr("cursor","pointer");void 0!==t.id&&e.setCN(n,f,"legend-item-"+t.id);e.setCN(n,f,t.className,!0);(o=this.switchType)&&"none"!=o&&0<l&&("x"==o?(v=this.createX(),v.translate(l/2,l/2)):v=this.createV(),v.dItem=t,!0!==t.hidden?"x"==o?v.hide():v.show():"x"!=o&&v.hide(),this.switchable||v.hide(),this.addListeners(v,t),t.legendSwitch=v,f.push(v),e.setCN(n,v,"legend-switch"));o=this.color;t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(o=this.selectedColor);this.useMarkerColorForLabels&&(o=i);!0===t.hidden&&(o=this.markerDisabledColor);i=e.massReplace(this.labelText,{"[[title]]":t.title});v=this.fontSize;u&&(l<=v&&u.translate(p,l/2+this.ly-v/2+(v+2-l)/2-h),t.legendEntryWidth=u.getBBox().width);var g;i&&(i=e.fixBrakes(i),t.legendTextReal=i,g=this.labelWidth,g=isNaN(g)?e.text(this.container,i,o,n.fontFamily,v,"start"):e.wrappedText(this.container,i,o,n.fontFamily,v,"start",!1,g,0),e.setCN(n,g,"legend-label"),g.translate(this.lx+c,this.ly),f.push(g),n=g.getBBox().width,this.maxLabelWidth<n&&(this.maxLabelWidth=n));this.entries[this.index]=f;t.legendEntry=this.entries[this.index];t.legendLabel=g;this.index++}},addListeners:function(e,t){var n=this;e&&e.mouseover(function(e){n.rollOverMarker(t,e)}).mouseout(function(e){n.rollOutMarker(t,e)}).click(function(e){n.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t);this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t);this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t));this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||(this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t))},rollOutLabel:function(e,t){if(!e.hidden){if(this.textClickEnabled&&e.legendLabel){var n=this.color;void 0!==this.selectedColor&&e.showBalloon&&(n=this.selectedColor);this.useMarkerColorForLabels&&(n=e.lineColor,void 0===n&&(n=e.color));e.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",e,t)}},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,n){t={type:e,dataItem:t,target:this,event:n,chart:this.chart};this.chart&&this.chart.handleLegendEvent(t);this.fire(e,t)},createValue:function(t){var n=this,r=n.fontSize,i=n.chart;if(!1!==t.visibleInLegend){var s=n.maxLabelWidth;n.forceWidth&&(s=n.labelWidth);n.equalWidths||(n.valueAlign="left");"left"==n.valueAlign&&(s=t.legendEntry.getBBox().width);var o=s;if(n.valueText&&0<n.valueWidth){var u=n.color;n.useMarkerColorForValues&&(u=t.color,t.legendKeyColor&&(u=t.legendKeyColor()));!0===t.hidden&&(u=n.markerDisabledColor);var a=n.valueText,s=s+n.lx+n.markerLabelGap+n.valueWidth,f="end";"left"==n.valueAlign&&(s-=n.valueWidth,f="start");u=e.text(n.container,a,u,n.chart.fontFamily,r,f);e.setCN(i,u,"legend-value");u.translate(s,n.ly);n.entries[n.index].push(u);o+=n.valueWidth+2*n.markerLabelGap;u.dItem=t;n.valueLabels.push(u)}n.index++;i=n.markerSize;i<r+7&&(i=r+7,e.VML&&(i+=3));r=n.container.rect(t.legendEntryWidth,0,o,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});r.dItem=t;n.entries[n.index-1].push(r);r.mouseover(function(e){n.rollOverLabel(t,e)}).mouseout(function(e){n.rollOutLabel(t,e)}).click(function(e){n.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,n={stroke:this.switchColor,"stroke-width":3},r=this.container,i=e.line(r,[-t,t],[-t,t]).attr(n),t=e.line(r,[-t,t],[t,-t]).attr(n);return this.container.set([i,t])},createMarker:function(t,n,r,i,s,o,u,a){var f=this.markerSize,l=this.container;s||(s=this.markerBorderColor);s||(s=n);isNaN(i)&&(i=this.markerBorderThickness);isNaN(o)&&(o=this.markerBorderAlpha);return e.bullet(l,t,f,n,r,i,s,o,f,u,a,this.chart.path)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t=this.valueLabels,n=this.chart,r,i=this.data;for(r=0;r<t.length;r++){var s=t[r],o=s.dItem,u=" ";if(i)o.value?s.text(o.value):s.text("");else{var a;if(void 0!==o.type){a=o.currentDataItem;var f=this.periodValueText;o.legendPeriodValueText&&(f=o.legendPeriodValueText);a?(u=this.valueText,o.legendValueText&&(u=o.legendValueText),u=n.formatString(u,a)):f&&n.formatPeriodString&&(f=e.massReplace(f,{"[[title]]":o.title}),u=n.formatPeriodString(f,o))}else u=n.formatString(this.valueText,o);if(f=this.valueFunction)a&&(o=a),u=f(o,u);s.text(u)}}},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="";e.remove(this.set)}})})();(function(){var e=window.AmCharts;e.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var n=t.getMilliseconds(),r=String(n);10>n&&(r="00"+n);10<=n&&100>n&&(r="0"+n);e=e.replace(/fff/g,r)}return e};e.extractPeriod=function(t){var n=e.stripNumbers(t),r=1;n!=t&&(r=Number(t.slice(0,t.indexOf(n))));return{period:n,count:r}};e.getDate=function(t,n,r){return t instanceof Date?e.newDate(t,r):n&&isNaN(t)?e.stringToDate(t,n):new Date(t)};e.newDate=function(e,t){return t&&-1==t.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())};e.resetDateToMin=function(t,n,r,i){void 0===i&&(i=1);var s,o,u,a,f,l,c;e.useUTC?(s=t.getUTCFullYear(),o=t.getUTCMonth(),u=t.getUTCDate(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(s=t.getFullYear(),o=t.getMonth(),u=t.getDate(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay());switch(n){case"YYYY":s=Math.floor(s/r)*r;o=0;u=1;c=l=f=a=0;break;case"MM":o=Math.floor(o/r)*r;u=1;c=l=f=a=0;break;case"WW":u=t>=i?u-t+i:u-(7+t)+i;c=l=f=a=0;break;case"DD":c=l=f=a=0;break;case"hh":a=Math.floor(a/r)*r;c=l=f=0;break;case"mm":f=Math.floor(f/r)*r;c=l=0;break;case"ss":l=Math.floor(l/r)*r;c=0;break;case"fff":c=Math.floor(c/r)*r}e.useUTC?(t=new Date,t.setUTCFullYear(s,o,u),t.setUTCHours(a,f,l,c)):t=new Date(s,o,u,a,f,l,c);return t};e.getPeriodDuration=function(e,t){void 0===t&&(t=1);var n;switch(e){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*t};e.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};e.getMaxInterval=function(t,n){var r=e.intervals;return t>=r[n].contains?(t=Math.round(t/r[n].contains),n=r[n].nextInterval,e.getMaxInterval(t,n)):"ss"==n?r[n].nextInterval:n};e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");e.monthNames="January February March April May June July August September October November December".split(" ");e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");e.getWeekNumber=function(e){e=new Date(e);e.setHours(0,0,0);e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)};e.stringToDate=function(t,n){var r={},i=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],s=!0,o=n.indexOf("AA");-1!=o&&(t.substr(o,2),"pm"==t.toLowerCase&&(s=!1));var o=n,u,a,f;for(f=0;f<i.length;f++)a=i[f].period,r[a]=0,"date"==a&&(r[a]=1);for(f=0;f<i.length;f++)if(u=i[f].pattern,a=i[f].period,-1!=n.indexOf(u)){var l=e.getFromDateString(u,t,o);n=n.replace(u,"");if("KK"==u||"K"==u||"LL"==u||"L"==u)s||(l+=12);r[a]=l}e.useUTC?(i=new Date,i.setUTCFullYear(r.year,r.month,r.date),i.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):i=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds);return i};e.getFromDateString=function(e,t,n){if(void 0!==t)return n=n.indexOf(e),t=String(t),t=t.substr(n,e.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t};e.formatDate=function(t,n,r){r||(r=e);var i,s,o,u,a,f,l,c=e.getWeekNumber(t);e.useUTC?(i=t.getUTCFullYear(),s=t.getUTCMonth(),o=t.getUTCDate(),u=t.getUTCDay(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),t=t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),o=t.getDate(),u=t.getDay(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),t=t.getMilliseconds());var h=String(i).substr(2,2),p=s+1;9>s&&(p="0"+p);var v="0"+u;n=n.replace(/W/g,c);c=a;24==c&&(c=0);var m=c;10>m&&(m="0"+m);n=n.replace(/JJ/g,m);n=n.replace(/J/g,c);m=a;0===m&&(m=24,-1!=n.indexOf("H")&&o--);c=o;10>o&&(c="0"+o);var g=m;10>g&&(g="0"+g);n=n.replace(/HH/g,g);n=n.replace(/H/g,m);m=a;11<m&&(m-=12);g=m;10>g&&(g="0"+g);n=n.replace(/KK/g,g);n=n.replace(/K/g,m);m=a;0===m&&(m=12);12<m&&(m-=12);g=m;10>g&&(g="0"+g);n=n.replace(/LL/g,g);n=n.replace(/L/g,m);m=f;10>m&&(m="0"+m);n=n.replace(/NN/g,m);n=n.replace(/N/g,f);f=l;10>f&&(f="0"+f);n=n.replace(/SS/g,f);n=n.replace(/S/g,l);l=t;10>l&&(l="00"+l);100>l&&(l="0"+l);f=t;10>f&&(f="00"+f);n=n.replace(/QQQ/g,l);n=n.replace(/QQ/g,f);n=n.replace(/Q/g,t);n=12>a?n.replace(/A/g,"am"):n.replace(/A/g,"pm");n=n.replace(/YYYY/g,"@IIII@");n=n.replace(/YY/g,"@II@");n=n.replace(/MMMM/g,"@XXXX@");n=n.replace(/MMM/g,"@XXX@");n=n.replace(/MM/g,"@XX@");n=n.replace(/M/g,"@X@");n=n.replace(/DD/g,"@RR@");n=n.replace(/D/g,"@R@");n=n.replace(/EEEE/g,"@PPPP@");n=n.replace(/EEE/g,"@PPP@");n=n.replace(/EE/g,"@PP@");n=n.replace(/E/g,"@P@");n=n.replace(/@IIII@/g,i);n=n.replace(/@II@/g,h);n=n.replace(/@XXXX@/g,r.monthNames[s]);n=n.replace(/@XXX@/g,r.shortMonthNames[s]);n=n.replace(/@XX@/g,p);n=n.replace(/@X@/g,s+1);n=n.replace(/@RR@/g,c);n=n.replace(/@R@/g,o);n=n.replace(/@PPPP@/g,r.dayNames[u]);n=n.replace(/@PPP@/g,r.shortDayNames[u]);n=n.replace(/@PP@/g,v);return n=n.replace(/@P@/g,u)};e.changeDate=function(t,n,r,i,s){if(e.useUTC)return e.changeUTCDate(t,n,r,i,s);var o=-1;void 0===i&&(i=!0);void 0===s&&(s=!1);!0===i&&(o=1);switch(n){case"YYYY":t.setFullYear(t.getFullYear()+r*o);i||s||t.setDate(t.getDate()+1);break;case"MM":n=t.getMonth();t.setMonth(t.getMonth()+r*o);t.getMonth()>n+r*o&&t.setDate(t.getDate()-1);i||s||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*o);break;case"WW":t.setDate(t.getDate()+r*o*7);break;case"hh":t.setHours(t.getHours()+r*o);break;case"mm":t.setMinutes(t.getMinutes()+r*o);break;case"ss":t.setSeconds(t.getSeconds()+r*o);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*o)}return t};e.changeUTCDate=function(e,t,n,r,i){var s=-1;void 0===r&&(r=!0);void 0===i&&(i=!1);!0===r&&(s=1);switch(t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+n*s);r||i||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth();e.setUTCMonth(e.getUTCMonth()+n*s);e.getUTCMonth()>t+n*s&&e.setUTCDate(e.getUTCDate()-1);r||i||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+n*s);break;case"WW":e.setUTCDate(e.getUTCDate()+n*s*7);break;case"hh":e.setUTCHours(e.getUTCHours()+n*s);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+n*s);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+n*s);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+n*s)}return e}})();(function(){var e=window.AmCharts;e.AmPieChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="pie";e.AmPieChart.base.construct.call(this,t);this.cname="AmPieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;this.adjustPrecision=!1;e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){e.VML&&(this.startAlpha=1);var n=this.startDuration,r=this.container,i=this.updateWidth();this.realWidth=i;var s=this.updateHeight();this.realHeight=s;var o=e.toCoordinate,u=o(this.marginLeft,i),a=o(this.marginRight,i),f=o(this.marginTop,s)+this.getTitleHeight(),c=o(this.marginBottom,s),h,p,d,v=e.toNumber(this.labelRadius),m=this.measureMaxLabel();m>this.maxLabelWidth&&(m=this.maxLabelWidth);this.labelText&&this.labelsEnabled||(v=m=0);h=void 0===this.pieX?(i-u-a)/2+u:o(this.pieX,this.realWidth);p=void 0===this.pieY?(s-f-c)/2+f:o(this.pieY,s);d=o(this.radius,i,s);d||(i=0<=v?i-u-a-2*m:i-u-a,s=s-f-c,d=Math.min(i,s),s<i&&(d/=1-this.angle/90,d>i&&(d=i)),s=e.toCoordinate(this.pullOutRadius,d),d=(0<=v?d-1.8*(v+s):d-1.8*s)/2);d<this.minRadius&&(d=this.minRadius);s=o(this.pullOutRadius,d);f=e.toCoordinate(this.startRadius,d);o=o(this.innerRadius,d);o>=d&&(o=d-1);c=e.fitToBounds(this.startAngle,0,360);0<this.depth3D&&(c=270<=c?270:90);c-=90;360<c&&(c-=360);i=d-d*this.angle/90;for(u=m=0;u<t.length;u++)a=t[u],!0!==a.hidden&&(m+=e.roundTo(a.percents,this.pf.precision));m=e.roundTo(m,this.pf.precision);this.tempPrec=NaN;this.adjustPrecision&&100!=m&&(this.tempPrec=this.pf.precision+1);for(var g,u=0;u<t.length;u++)if(a=t[u],!0!==a.hidden&&(this.showZeroSlices||0!==a.percents)){var y=360*a.percents/100,m=Math.sin((c+y/2)/180*Math.PI),b=-Math.cos((c+y/2)/180*Math.PI)*(i/d),w=this.outlineColor;w||(w=a.color);var E=this.alpha;isNaN(a.alpha)||(E=a.alpha);w={fill:a.color,stroke:w,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":E};a.url&&(w.cursor="pointer");w=e.wedge(r,h,p,c,y,d,i,o,this.depth3D,w,this.gradientRatio,a.pattern,this.path);e.setCN(this,w,"pie-item");e.setCN(this,w.wedge,"pie-slice");e.setCN(this,w,a.className,!0);this.addEventListeners(w,a);a.startAngle=c;t[u].wedge=w;0<n&&(this.chartCreated||w.setAttr("opacity",this.startAlpha));a.ix=m;a.iy=b;a.wedge=w;a.index=u;a.label=null;E=r.set();if(this.labelsEnabled&&this.labelText&&a.percents>=this.hideLabelsPercent){var S=c+y/2;0>S&&(S+=360);360<S&&(S-=360);var x=v;isNaN(a.labelRadius)||(x=a.labelRadius,0>x&&(a.skipTick=!0));var y=h+m*(d+x),T=p+b*(d+x),N,C=0;isNaN(g)&&350<S&&1<t.length-u&&(g=u-1+Math.floor((t.length-u)/2));if(0<=x){var k;90>=S&&0<=S?(k=0,N="start",C=8):90<=S&&180>S?(k=1,N="start",C=8):180<=S&&270>S?(k=2,N="end",C=-8):270<=S&&357>=S?(k=3,N="end",C=-8):357<=S&&(u>g?(k=0,N="start",C=8):(k=3,N="end",C=-8));a.labelQuarter=k}else N="middle";S=this.formatString(this.labelText,a);(x=this.labelFunction)&&(S=x(a,S));x=a.labelColor;x||(x=this.color);if(""!==S){S=e.wrappedText(r,S,x,this.fontFamily,this.fontSize,N,!1,this.maxLabelWidth);e.setCN(this,S,"pie-label");e.setCN(this,S,a.className,!0);S.translate(y+1.5*C,T);S.node.style.pointerEvents="none";a.ty=T;a.textX=y+1.5*C;var x=S.getBBox(),L=e.rect(r,x.width+5,x.height+5,"#FFFFFF",.005);L.translate(y+1.5*C+x.x,T+x.y);a.hitRect=L;E.push(S);E.push(L);this.axesSet.push(E);a.labelSet=E;a.label=S}a.tx=y;a.tx2=y+C;a.tx0=h+m*d;a.ty0=p+b*d}y=o+(d-o)/2;a.pulled&&(y+=this.pullOutRadiusReal);a.balloonX=m*y+h;a.balloonY=b*y+p;a.startX=Math.round(m*f);a.startY=Math.round(b*f);a.pullX=Math.round(m*s);a.pullY=Math.round(b*s);this.graphsSet.push(w);if(0===a.alpha||0<n&&!this.chartCreated)w.hide(),E&&E.hide();c+=360*a.percents/100;360<c&&(c-=360)}0<v&&this.arrangeLabels();this.pieXReal=h;this.pieYReal=p;this.radiusReal=d;this.innerRadiusReal=o;0<v&&this.drawTicks();this.initialStart();this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){var e=this.chartData,t=e.length,n,r;for(r=t-1;0<=r;r--)n=e[r],0!==n.labelQuarter||n.hidden||this.checkOverlapping(r,n,0,!0,0);for(r=0;r<t;r++)n=e[r],1!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,1,!1,0);for(r=t-1;0<=r;r--)n=e[r],2!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,2,!0,0);for(r=0;r<t;r++)n=e[r],3!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,3,!1,0)},checkOverlapping:function(e,t,n,r,i){var s,o,u=this.chartData,a=u.length,f=t.label;if(f){if(!0===r)for(o=e+1;o<a;o++)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=a);else for(o=e-1;0<=o;o--)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=0);!0===s&&100>i&&isNaN(t.labelRadius)&&(s=t.ty+3*t.iy,t.ty=s,f.translate(t.textX,s),t.hitRect&&(f=f.getBBox(),t.hitRect.translate(t.tx2,s+f.y)),this.checkOverlapping(e,t,n,r,i+1))}},checkOverlappingReal:function(t,n,r){var i=!1,s=t.label,o=n.label;t.labelQuarter!=r||t.hidden||n.hidden||!o||(s=s.getBBox(),r={},r.width=s.width,r.height=s.height,r.y=t.ty,r.x=t.tx,t=o.getBBox(),o={},o.width=t.width,o.height=t.height,o.y=n.ty,o.x=n.tx,e.hitTest(r,o)&&(i=!0));return i}})})();(function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="serial";e.AmSerialChart.base.construct.call(this,t);this.cname="AmSerialChart";this.theme=t;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;this.updateScrollbar=!0;var n=new e.CategoryAxis(t);n.chart=this;this.categoryAxis=n;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;e.applyTheme(this,t,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var t=this.chartCursor;t&&t.updateData&&(t.updateData(),t.fullWidth&&(t.fullRectSet=this.cursorLineSet));var t=this.countColumns(),n=this.graphs,r;for(r=0;r<n.length;r++)n[r].columnCount=t;this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(e,t){if(!this.wheelBusy){var n=this.categoryAxis,r=n.parseDates,i=n.minDuration(),s=n=1;this.mouseWheelZoomEnabled?t||(n=-1):t&&(n=-1);var o=this.chartData.length,u=this.lastTime,a=this.firstTime;0>e?r?(o=this.endTime-this.startTime,r=this.startTime+n*i,i=this.endTime+s*i,0<s&&0<n&&i>=u&&(i=u,r=u-o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&this.end>=o-1&&(n=s=0),r=this.start+n,i=this.end+s,this.zoomToIndexes(r,i)):r?(o=this.endTime-this.startTime,r=this.startTime-n*i,i=this.endTime-s*i,0<s&&0<n&&r<=a&&(r=a,i=a+o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&1>this.start&&(n=s=0),r=this.start-n,i=this.end-s,this.zoomToIndexes(r,i))}},validateData:function(t){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);e.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){e.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){var n=this.chartScrollbar;n&&n.draw();var t=t.length-1,r,n=this.categoryAxis;if(n.parseDates&&!n.equalSpacing){if(n=this.startTime,r=this.endTime,isNaN(n)||isNaN(r))n=this.firstTime,r=this.lastTime}else if(n=this.start,r=this.end,isNaN(n)||isNaN(r))n=0,r=t;this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(n,r)}}else this.cleanChart();this.dispDUpd()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(t,n,r){t.chart=this;t.id=r;t.rotate=n;t.axisRenderer=e.RecAxis;t.guideFillRenderer=e.RecFill;t.axisItemRenderer=e.RecItem;t.setOrientation(!this.rotate);t.x=this.marginLeftReal;t.y=this.marginTopReal;t.dx=this.dx;t.dy=this.dy;t.width=this.plotAreaWidth-1;t.height=this.plotAreaHeight-1;t.viW=this.plotAreaWidth-1;t.viH=this.plotAreaHeight-1;t.viX=this.marginLeftReal;t.viY=this.marginTopReal;t.marginsChanged=!0},updateValueAxes:function(){e.AmSerialChart.base.updateValueAxes.call(this);var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],i=this.rotate;r.rotate=i;r.setOrientation(i);i=this.categoryAxis;if(!i.startOnAxis||i.parseDates)r.expandMinMax=!0}},updateData:function(){this.parseData();var e=this.graphs,t,n=this.chartData;for(t=0;t<e.length;t++)e[t].data=n;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time))},getStartTime:function(t){var n=this.categoryAxis;return e.resetDateToMin(new Date(t),n.minPeriod,1,n.firstDayOfWeek).getTime()},getEndTime:function(t){var n=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(t),n.period,n.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(e,t){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?this.timeZoom(e,t):this.indexZoom(e,t);this.updateLegendValues()},timeZoom:function(t,n){var r=this.maxSelectedTime;isNaN(r)||(n!=this.endTime&&n-t>r&&(t=n-r,this.updateScrollbar=!0),t!=this.startTime&&n-t>r&&(n=t+r,this.updateScrollbar=!0));var i=this.minSelectedTime;if(0<i&&n-t<i){var s=Math.round(t+(n-t)/2),i=Math.round(i/2);t=s-i;n=s+i}var o=this.chartData,s=this.categoryAxis;if(e.ifArray(o)&&(t!=this.startTime||n!=this.endTime)){var u=s.minDuration(),i=this.firstTime,a=this.lastTime;t||(t=i,isNaN(r)||(t=a-r));n||(n=a);t>a&&(t=a);n<i&&(n=i);t<i&&(t=i);n>a&&(n=a);n<t&&(n=t+u);n-t<u/5&&(n<a?n=t+u/5:t=n-u/5);this.startTime=t;this.endTime=n;r=o.length-1;u=this.getClosestIndex(o,"time",t,!0,0,r);o=this.getClosestIndex(o,"time",n,!1,u,r);s.timeZoom(t,n);s.zoom(u,o);this.start=e.fitToBounds(u,0,r);this.end=e.fitToBounds(o,0,r);this.zoomAxesAndGraphs();this.zoomScrollbar();t!=i||n!=a?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar();this.updateColumnsDepth()},indexZoom:function(e,t){var n=this.maxSelectedSeries;isNaN(n)||(t!=this.end&&t-e>n&&(e=t-n,this.updateScrollbar=!0),e!=this.start&&t-e>n&&(t=e+n,this.updateScrollbar=!0));if(e!=this.start||t!=this.end){var r=this.chartData.length-1;isNaN(e)&&(e=0,isNaN(n)||(e=r-n));isNaN(t)&&(t=r);t<e&&(t=e);t>r&&(t=r);e>r&&(e=r-1);0>e&&(e=0);this.start=e;this.end=t;this.categoryAxis.zoom(e,t);this.zoomAxesAndGraphs();this.zoomScrollbar();0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){e.AmSerialChart.base.updateGraphs.call(this);var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];r.columnWidthReal=this.columnWidth;r.categoryAxis=this.categoryAxis;e.isString(r.fillToGraph)&&(r.fillToGraph=this.getGraphById(r.fillToGraph))}},updateColumnsDepth:function(){var t,n=this.graphs,r;e.remove(this.columnsSet);this.columnsArray=[];for(t=0;t<n.length;t++){r=n[t];var i=r.columnsArray;if(i){var s;for(s=0;s<i.length;s++)this.columnsArray.push(i[s])}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){n=this.container.set();this.columnSet.push(n);for(t=0;t<this.columnsArray.length;t++)n.push(this.columnsArray[t].column.set);r&&n.translate(r.x,r.y);this.columnsSet=n}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;e&&this.updateScrollbar&&e.enabled&&e.dragger&&(e.dragger.stop(),t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t=this.trendLines,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.TrendLine,this.theme);t[n]=r;r.chart=this;r.id||(r.id="trendLineAuto"+n+"_"+(new Date).getTime());e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis));r.valueAxis||(r.valueAxis=this.valueAxes[0]);r.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e=this.valueAxes,t;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);e=this.graphs;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines();(t=this.chartCursor)&&t.zoom&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var e=0,t=this.valueAxes.length,n=this.graphs.length,r,i,s=!1,o,u;for(u=0;u<t;u++){i=this.valueAxes[u];var a=i.stackType;if("100%"==a||"regular"==a)for(s=!1,o=0;o<n;o++)r=this.graphs[o],r.tcc=1,r.valueAxis==i&&"column"==r.type&&(!s&&r.stackable&&(e++,s=!0),(!r.stackable&&r.clustered||r.newStack)&&e++,r.columnIndex=e-1,r.clustered||(r.columnIndex=0));if("none"==a||"3d"==a){s=!1;for(o=0;o<n;o++)r=this.graphs[o],r.valueAxis==i&&"column"==r.type&&(r.clustered?(r.tcc=1,r.newStack&&(e=0),r.hidden||(r.columnIndex=e,e++)):r.hidden||(s=!0,r.tcc=1,r.columnIndex=0));s&&0===e&&(e=1)}if("3d"==a){i=1;for(u=0;u<n;u++)r=this.graphs[u],r.newStack&&i++,r.depthCount=i,r.tcc=e;e=i}}return e},parseData:function(){e.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var t=this.chartData,n,r;for(r=0;r<t.length;r++)t[r].category==e&&(n=r);return n},handleCursorChange:function(e){this.updateLegendValues(e.index)},handleCursorZoom:function(e){this.updateScrollbar=!0;this.zoom(e.start,e.end)},handleScrollbarZoom:function(e){this.updateScrollbar=!1;this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime);t.endDate=new Date(this.endTime);t.startIndex=this.start;t.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=t.startDate;this.endDate=t.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var n=this.categoryAxis,r=e.extractPeriod(n.minPeriod).period,n=n.dateFormatsObject[r];t.startValue=e.formatDate(t.startDate,n,this);t.endValue=e.formatDate(t.endDate,n,this);t.chart=this;t.target=this;this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start;this.endIndex=this.end;var t=this.chartData;if(e.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var n={chart:this,target:this,type:"zoomed"};n.startIndex=this.start;n.endIndex=this.end;n.startValue=t[this.start].category;n.endValue=t[this.end].category;this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(n.type,n)}}},updateLegendValues:function(e){var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];isNaN(e)?r.currentDataItem=void 0:r.currentDataItem=this.chartData[e].axes[r.valueAxis.id].graphs[r.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,n,r,i,s){0>i&&(i=0);s>e.length-1&&(s=e.length-1);var o=i+Math.round((s-i)/2),u=e[o][t];if(n==u)return o;if(1>=s-i){if(r)return i;r=e[s][t];return Math.abs(e[i][t]-n)<Math.abs(r-n)?i:s}return n==u?o:n<u?this.getClosestIndex(e,t,n,r,i,o):this.getClosestIndex(e,t,n,r,o,s)},zoomToIndexes:function(e,t){this.updateScrollbar=!0;var n=this.chartData;if(n){var r=n.length;0<r&&(0>e&&(e=0),t>r-1&&(t=r-1),r=this.categoryAxis,r.parseDates&&!r.equalSpacing?this.zoom(n[e].time,this.getEndTime(n[t].time)):this.zoom(e,t))}},zoomToDates:function(t,n){this.updateScrollbar=!0;var r=this.chartData;if(this.categoryAxis.equalSpacing){var i=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length);n=e.resetDateToMin(n,this.categoryAxis.minPeriod,1);r=this.getClosestIndex(r,"time",n.getTime(),!1,0,r.length);this.zoom(i,r)}else this.zoom(t.getTime(),n.getTime())},zoomToCategoryValues:function(e,t){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,n){if(n){var r=["value","open","low","high","close"],i="value open low high close average sum count".split(" "),s=n.valueAxis,o=this.chartData,u=n.numberFormatter;u||(u=this.nf);for(var a=0;a<r.length;a++){for(var f=r[a],l=0,c=0,h,p,d,v,m,g=0,y=0,b,w,E,S,x,T=this.start;T<=this.end;T++){var N=o[T];if(N&&(N=N.axes[s.id].graphs[n.id])){if(N.values){var C=N.values[f];if(this.rotate){if(0>N.x||N.x>N.graph.height)C=NaN}else if(0>N.x||N.x>N.graph.width)C=NaN;if(!isNaN(C)){isNaN(h)&&(h=C);p=C;if(isNaN(d)||d>C)d=C;if(isNaN(v)||v<C)v=C;m=e.getDecimals(l);var k=e.getDecimals(C),l=l+C,l=e.roundTo(l,Math.max(m,k));c++;m=l/c}}if(N.percents&&(N=N.percents[f],!isNaN(N))){isNaN(b)&&(b=N);w=N;if(isNaN(E)||E>N)E=N;if(isNaN(S)||S<N)S=N;x=e.getDecimals(g);C=e.getDecimals(N);g+=N;g=e.roundTo(g,Math.max(x,C));y++;x=g/y}}}g={open:b,close:w,high:S,low:E,average:x,sum:g,count:y};t=e.formatValue(t,{open:h,close:p,high:v,low:d,average:m,sum:l,count:c},i,u,f+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);t=e.formatValue(t,g,i,this.pf,"percents\\."+f+"\\.")}}return t=e.cleanFromEmpty(t)},formatString:function(t,n,r){var i=n.graph;if(-1!=t.indexOf("[[category]]")){var s=n.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,u=this.chartCursor;u&&(o=u.categoryBalloonDateFormat);-1!=t.indexOf("[[category]]")&&(o=e.formatDate(s,o,this),-1!=o.indexOf("fff")&&(o=e.formatMilliseconds(o,s)),s=o)}t=t.replace(/\[\[category\]\]/g,String(s))}s=i.numberFormatter;s||(s=this.nf);o=n.graph.valueAxis;(u=o.duration)&&!isNaN(n.values.value)&&(u=e.formatDuration(n.values.value,u,"",o.durationUnits,o.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),u));"date"==o.type&&(o=e.formatDate(new Date(n.values.value),i.dateFormat,this),u=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(u,o),o=e.formatDate(new Date(n.values.open),i.dateFormat,this),u=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(u,o));i="value open low high close total".split(" ");o=this.pf;t=e.formatValue(t,n.percents,i,o,"percents\\.");t=e.formatValue(t,n.values,i,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);t=e.formatValue(t,n.values,["percents"],o);-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext));-1!=t.indexOf("[[")&&n.graph.customData&&(t=e.formatDataContextValue(t,n.graph.customData));return t=e.AmSerialChart.base.formatString.call(this,t,n,r)},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar]);t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight);this.chartScrollbar=t},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(t){e.AmSerialChart.base.handleReleaseOutside.call(this,t);e.callMethod("handleReleaseOutside",[this.chartScrollbar])},update:function(){e.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update()}})})();(function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set();this.container=e;this.h=Math.round(n);this.w=Math.round(t);this.dx=r;this.dy=i;this.colors=s;this.alpha=o;this.bwidth=u;this.bcolor=a;this.balpha=f;this.dashLength=p;this.topRadius=v;this.pattern=d;this.rotate=h;this.bcn=m;h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90);this.gradientRotation=l;0===r&&0===i&&(this.cornerRadius=c);this.draw()},draw:function(){var t=this.set;t.clear();var n=this.container,r=n.chart,i=this.w,s=this.h,o=this.dx,u=this.dy,a=this.colors,f=this.alpha,l=this.bwidth,c=this.bcolor,h=this.balpha,p=this.gradientRotation,d=this.cornerRadius,v=this.dashLength,m=this.pattern,g=this.topRadius,y=this.bcn,b=a,w=a;"object"==typeof a&&(b=a[0],w=a[a.length-1]);var E,S,x,T,N,C,k,L,A,O=f;m&&(f=0);var M,_,D,P,H=this.rotate;if(0<Math.abs(o)||0<Math.abs(u))if(isNaN(g))k=w,w=e.adjustLuminosity(b,-.2),w=e.adjustLuminosity(b,-.2),E=e.polygon(n,[0,o,i+o,i,0],[0,u,u,0,0],w,f,1,c,0,p),0<h&&(A=e.line(n,[0,o,i+o],[0,u,u],c,h,l,v)),S=e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],w,f,1,c,0,p),S.translate(o,u),0<h&&(x=e.line(n,[o,o],[u,u+s],c,h,l,v)),T=e.polygon(n,[0,0,o,o,0],[0,s,s+u,u,0],w,f,1,c,0,p),N=e.polygon(n,[i,i,i+o,i+o,i],[0,s,s+u,u,0],w,f,1,c,0,p),0<h&&(C=e.line(n,[i,i+o,i+o,i],[0,u,s+u,s],c,h,l,v)),w=e.adjustLuminosity(k,.2),k=e.polygon(n,[0,o,i+o,i,0],[s,s+u,s+u,s,s],w,f,1,c,0,p),0<h&&(L=e.line(n,[0,o,i+o],[s,s+u,s+u],c,h,l,v));else{var B,j,F;H?(B=s/2,w=o/2,F=s/2,j=i+o/2,_=Math.abs(s/2),M=Math.abs(o/2)):(w=i/2,B=u/2,j=i/2,F=s+u/2+1,M=Math.abs(i/2),_=Math.abs(u/2));D=M*g;P=_*g;.1<M&&.1<M&&(E=e.circle(n,M,b,f,l,c,h,!1,_),E.translate(w,B));.1<D&&.1<D&&(k=e.circle(n,D,e.adjustLuminosity(b,.5),f,l,c,h,!1,P),k.translate(j,F))}f=O;1>Math.abs(s)&&(s=0);1>Math.abs(i)&&(i=0);!isNaN(g)&&(0<Math.abs(o)||0<Math.abs(u))?(a=[b],a={fill:a,stroke:c,"stroke-width":l,"stroke-opacity":h,"fill-opacity":f},H?(f="M0,0 L"+i+","+(s/2-s/2*g),l=" B",0<i&&(l=" A"),e.VML?(f+=l+Math.round(i-D)+","+Math.round(s/2-P)+","+Math.round(i+D)+","+Math.round(s/2+P)+","+i+",0,"+i+","+s,f=f+(" L0,"+s)+(l+Math.round(-M)+","+Math.round(s/2-_)+","+Math.round(M)+","+Math.round(s/2+_)+",0,"+s+",0,0")):(f+="A"+D+","+P+",0,0,0,"+i+","+(s-s/2*(1-g))+"L0,"+s,f+="A"+M+","+_+",0,0,1,0,0"),M=90):(l=i/2-i/2*g,f="M0,0 L"+l+","+s,e.VML?(f="M0,0 L"+l+","+s,l=" B",0>s&&(l=" A"),f+=l+Math.round(i/2-D)+","+Math.round(s-P)+","+Math.round(i/2+D)+","+Math.round(s+P)+",0,"+s+","+i+","+s,f+=" L"+i+",0",f+=l+Math.round(i/2+M)+","+Math.round(_)+","+Math.round(i/2-M)+","+Math.round(-_)+","+i+",0,0,0"):(f+="A"+D+","+P+",0,0,0,"+(i-i/2*(1-g))+","+s+"L"+i+",0",f+="A"+M+","+_+",0,0,1,0,0"),M=180),n=n.path(f).attr(a),n.gradient("linearGradient",[b,e.adjustLuminosity(b,-.3),e.adjustLuminosity(b,-.3),b],M),H?n.translate(o/2,0):n.translate(0,u/2)):n=0===s?e.line(n,[0,i],[0,0],c,h,l,v):0===i?e.line(n,[0,0],[0,s],c,h,l,v):0<d?e.rect(n,i,s,a,f,l,c,h,d,p,v):e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],a,f,l,c,h,p,!1,v);i=isNaN(g)?0>s?[E,A,S,x,T,N,C,k,L,n]:[k,L,S,x,T,N,E,A,C,n]:H?0<i?[E,n,k]:[k,n,E]:0>s?[E,n,k]:[k,n,E];e.setCN(r,n,y+"front");e.setCN(r,S,y+"back");e.setCN(r,k,y+"top");e.setCN(r,E,y+"bottom");e.setCN(r,T,y+"left");e.setCN(r,N,y+"right");for(E=0;E<i.length;E++)if(S=i[E])t.push(S),e.setCN(r,S,y+"element");m&&n.pattern(m,NaN,r.path)},width:function(e){isNaN(e)&&(e=0);this.w=Math.round(e);this.draw()},height:function(e){isNaN(e)&&(e=0);this.h=Math.round(e);this.draw()},animateHeight:function(t,n){var r=this;r.easing=n;r.totalFrames=Math.round(1e3*t/e.updateRate);r.rh=r.h;r.frame=0;r.height(1);setTimeout(function(){r.updateHeight.call(r)},e.updateRate)},updateHeight:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rh-1,n),t.height(n),setTimeout(function(){t.updateHeight.call(t)},e.updateRate))},animateWidth:function(t,n){var r=this;r.easing=n;r.totalFrames=Math.round(1e3*t/e.updateRate);r.rw=r.w;r.frame=0;r.width(1);setTimeout(function(){r.updateWidth.call(r)},e.updateRate)},updateWidth:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rw-1,n),t.width(n),setTimeout(function(){t.updateWidth.call(t)},e.updateRate))}})})();(function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="CategoryAxis";e.CategoryAxis.base.construct.call(this,t);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;e.applyTheme(this,t,this.cname)},draw:function(){e.CategoryAxis.base.draw.call(this);this.generateDFObject();var t=this.chart.chartData;this.data=t;this.labelRotationR=this.labelRotation;if(e.ifArray(t)){var n,r=this.chart;"scrollbar"!=this.id?(e.setCN(r,this.set,"category-axis"),e.setCN(r,this.labelsSet,"category-axis"),e.setCN(r,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i=this.start,s=this.labelFrequency,o=0,u=this.end-i+1,a=this.gridCountR,f=this.showFirstLabel,l=this.showLastLabel,c,h,p="",p=e.extractPeriod(this.minPeriod),d=e.getPeriodDuration(p.period,p.count),v,m,g,y;v=this.rotate;c=this.firstDayOfWeek;h=this.boldPeriodBeginning;n=e.resetDateToMin(new Date(t[t.length-1].time+1.05*d),this.minPeriod,1,c).getTime();this.firstTime=r.firstTime;this.endTime>n&&(this.endTime=n);y=this.minorGridEnabled;var b=this.gridAlpha,w,E=0,S=0;if(this.widthField)for(n=0;n<this.data.length;n++)if(w=this.data[n]){var x=Number(this.data[n].dataContext[this.widthField]);isNaN(x)||(E+=x,w.widthValue=x)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*d),this.minPeriod,1,c).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(!this.parseDates){if(this.cellWidth=this.getStepWidth(u),u<a&&(a=u),o+=this.start,this.stepWidth=this.getStepWidth(u),0<a)for(a=Math.floor(u/a),u=this.chooseMinorFrequency(a),p=o,p/2==Math.round(p/2)&&p--,0>p&&(p=0),t=0,this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),n=p;n<=this.end+2;n++){h=!1;0<=n&&n<this.data.length?(m=this.data[n],p=m.category,h=m.forceShow):p="";if(y&&!isNaN(u))if(n/u==Math.round(n/u)||h)n/a==Math.round(n/a)||h||(this.gridAlpha=this.minorGridAlpha,p=void 0);else continue;else if(n/a!=Math.round(n/a)&&!h)continue;c=this.getCoordinate(n-o);g=0;"start"==this.gridPosition&&(c-=this.cellWidth/2,g=this.cellWidth/2);h=!0;w=g;"start"==this.tickPosition&&(w=0,h=!1,g=0);if(n==i&&!f||n==this.end&&!l)p=void 0;Math.round(t/s)!=t/s&&(p=void 0);t++;x=this.cellWidth;v&&(x=NaN,this.ignoreAxisWidth||!r.autoMargins)&&(x="right"==this.position?r.marginRight:r.marginLeft,x-=this.tickLength+10);this.labelFunction&&m&&(p=this.labelFunction(p,m,this));p=e.fixBrakes(p);d=!1;this.boldLabels&&(d=!0);n>this.end&&"start"==this.tickPosition&&(p=" ");this.rotate&&this.inside&&(g=-2);isNaN(m.widthValue)||(m.percentWidthValue=m.widthValue/E*100,x=this.rotate?this.height*m.widthValue/E:this.width*m.widthValue/E,c=S,S+=x,g=x/2);g=new this.axisItemRenderer(this,c,p,h,x,g,void 0,d,w,!1,m.labelColor,m.className);g.serialDataItem=m;this.pushAxisItem(g);this.gridAlpha=b}}else if(this.parseDates&&this.equalSpacing){o=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;n=this.choosePeriod(0);s=n.period;v=n.count;n=e.getPeriodDuration(s,v);n<d&&(s=p.period,v=p.count,n=d);m=s;"WW"==m&&(m="DD");this.stepWidth=this.getStepWidth(u);a=Math.ceil(this.timeDifference/n)+1;d=e.resetDateToMin(new Date(this.startTime-n),s,v,c).getTime();this.cellWidth=this.getStepWidth(u);p=Math.round(d/n);i=-1;p/2==Math.round(p/2)&&(i=-2,d-=n);p=this.start;p/2==Math.round(p/2)&&p--;0>p&&(p=0);b=this.end+2;b>=this.data.length&&(b=this.data.length);S=!1;S=!f;this.previousPos=-1e3;20<this.labelRotationR&&(this.safeDistance=5);t=p;if(this.data[p].time!=e.resetDateToMin(new Date(this.data[p].time),s,v,c).getTime())for(c=0,w=d,n=p;n<b;n++)u=this.data[n].time,this.checkPeriodChange(s,v,u,w)&&(c++,2<=c&&(t=n,n=b),w=u);y&&1<v&&(u=this.chooseMinorFrequency(v),e.getPeriodDuration(s,u));if(0<this.gridCountR)for(n=p;n<b;n++)if(u=this.data[n].time,this.checkPeriodChange(s,v,u,d)&&n>=t){c=this.getCoordinate(n-this.start);y=!1;this.nextPeriod[m]&&(y=this.checkPeriodChange(this.nextPeriod[m],1,u,d,m));d=!1;y&&this.markPeriodChange?(y=this.dateFormatsObject[this.nextPeriod[m]],d=!0):y=this.dateFormatsObject[m];p=e.formatDate(new Date(u),y,r);if(n==i&&!f||n==a&&!l)p=" ";S?S=!1:(h||(d=!1),c-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(p=this.labelFunction(p,new Date(u),this,s,v,g)),this.boldLabels&&(d=!0),g=new this.axisItemRenderer(this,c,p,void 0,void 0,void 0,void 0,d),y=g.graphics(),this.pushAxisItem(g),y=y.getBBox().width,e.isModern||(y-=c),this.previousPos=c+y));g=d=u}}for(n=0;n<this.data.length;n++)if(w=this.data[n])f=this.parseDates&&!this.equalSpacing?Math.round((w.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(n-o),isNaN(w.widthValue)||(w.percentWidthValue=w.widthValue/E*100,f=this.rotate?this.height*w.widthValue/E:this.width*w.widthValue/E),w.x[this.id]=f;f=this.guides.length;for(n=0;n<f;n++)l=this.guides[n],h=a=a=y=i=NaN,E=l.above,l.toCategory&&(a=r.getCategoryIndexByValue(l.toCategory),isNaN(a)||(i=this.getCoordinate(a-o),l.expand&&(i+=this.cellWidth/2),g=new this.axisItemRenderer(this,i,"",!0,NaN,NaN,l),this.pushAxisItem(g,E))),l.category&&(h=r.getCategoryIndexByValue(l.category),isNaN(h)||(y=this.getCoordinate(h-o),l.expand&&(y-=this.cellWidth/2),a=(i-y)/2,g=new this.axisItemRenderer(this,y,l.label,!0,NaN,a,l),this.pushAxisItem(g,E))),h=r.dataDateFormat,l.toDate&&(l.toDate=e.getDate(l.toDate,h,this.minPeriod),this.equalSpacing?(a=r.getClosestIndex(this.data,"time",l.toDate.getTime(),!1,0,this.data.length-1),isNaN(a)||(i=this.getCoordinate(a-o))):i=(l.toDate.getTime()-this.startTime)*this.stepWidth,g=new this.axisItemRenderer(this,i,"",!0,NaN,NaN,l),this.pushAxisItem(g,E)),l.date&&(l.date=e.getDate(l.date,h,this.minPeriod),this.equalSpacing?(h=r.getClosestIndex(this.data,"time",l.date.getTime(),!1,0,this.data.length-1),isNaN(h)||(y=this.getCoordinate(h-o))):y=(l.date.getTime()-this.startTime)*this.stepWidth,a=(i-y)/2,h=!0,l.toDate&&(h=!1),g="H"==this.orientation?new this.axisItemRenderer(this,y,l.label,h,2*a,NaN,l):new this.axisItemRenderer(this,y,l.label,!1,NaN,a,l),this.pushAxisItem(g,E)),(0<i||0<y)&&(i<this.width||y<this.width)&&(i=new this.guideFillRenderer(this,y,i,l),y=i.graphics(),this.pushAxisItem(i,E),l.graphics=y,y.index=n,l.balloonText&&this.addEventListeners(y,l))}this.axisCreated=!0;r=this.x;o=this.y;this.set.translate(r,o);this.labelsSet.translate(r,o);this.labelsSet.show();this.positionTitle();(r=this.axisLine.set)&&r.toFront();r=this.getBBox().height;2<r-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1);this.previousHeight=r},xToIndex:function(t){var n=this.data,r=this.chart,i=r.rotate,s=this.stepWidth;this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/s)-this.minDuration()/2,r=r.getClosestIndex(n,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=s/2),r=this.start+Math.round(t/s));var r=e.fitToBounds(r,0,n.length-1),o;n[r]&&(o=n[r].x[this.id]);i?o>this.height+1&&r--:o>this.width+1&&r--;0>o&&r++;return r=e.fitToBounds(r,0,n.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?(e=this.chart.getCategoryIndexByValue(e),this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},getCoordinate:function(e){e*=this.stepWidth;this.startOnAxis||(e+=this.stepWidth/2);return Math.round(e)}})})();AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.echarts=t():e.echarts=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(2),n(112),n(106),n(116),n(32)},function(e,t){function n(e){if(null==e||"object"!=typeof e)return e;var t=e,r=q.call(e);if("[object Array]"===r){t=[];for(var i=0,s=e.length;i<s;i++)t[i]=n(e[i])}else if(I[r]){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(var i=0,s=e.length;i<s;i++)t[i]=n(e[i])}}else if(!F[r]&&!P(e)&&!N(e)){t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=n(e[u]))}return t}function r(e,t,i){if(!x(t)||!x(e))return i?n(t):e;for(var s in t)if(t.hasOwnProperty(s)){var o=e[s],u=t[s];!x(u)||!x(o)||w(u)||w(o)||N(u)||N(o)||T(u)||T(o)||P(u)||P(o)?!i&&s in e||(e[s]=n(t[s],!0)):r(o,u,i)}return e}function i(e,t){for(var n=e[0],i=1,s=e.length;i<s;i++)n=r(n,e[i],t);return n}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r]);return e}function u(){return document.createElement("canvas")}function a(){return j||(j=Q.createCanvas().getContext("2d")),j}function f(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function l(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var i in r)e.prototype[i]=r[i];e.prototype.constructor=e,e.superClass=t}function c(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,o(e,t,n)}function h(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function p(e,t,n){if(e&&t)if(e.forEach&&e.forEach===U)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var s in e)e.hasOwnProperty(s)&&t.call(n,e[s],s,e)}function d(e,t,n){if(e&&t){if(e.map&&e.map===X)return e.map(t,n);for(var r=[],i=0,s=e.length;i<s;i++)r.push(t.call(n,e[i],i,e));return r}}function v(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===V)return e.reduce(t,n,r);for(var i=0,s=e.length;i<s;i++)n=t.call(r,n,e[i],i,e);return n}}function m(e,t,n){if(e&&t){if(e.filter&&e.filter===z)return e.filter(t,n);for(var r=[],i=0,s=e.length;i<s;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}}function g(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}function y(e,t){var n=W.call(arguments,2);return function(){return e.apply(t,n.concat(W.call(arguments)))}}function b(e){var t=W.call(arguments,1);return function(){return e.apply(this,t.concat(W.call(arguments)))}}function w(e){return"[object Array]"===q.call(e)}function E(e){return"function"==typeof e}function S(e){return"[object String]"===q.call(e)}function x(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function T(e){return!!F[q.call(e)]}function N(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function C(e){return e!==e}function k(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function L(e,t){return null!=e?e:t}function A(e,t,n){return null!=e?e:null!=t?t:n}function O(){return Function.call.apply(W,arguments)}function M(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function _(e,t){if(!e)throw new Error(t)}function D(e){e[$]=!0}function P(e){return e[$]}function H(e){e&&p(e,function(e,t){this.set(t,e)},this)}function B(e){return new H(e)}var j,F={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},I={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},q=Object.prototype.toString,R=Array.prototype,U=R.forEach,z=R.filter,W=R.slice,X=R.map,V=R.reduce,$="__ec_primitive__",J="_ec_",K=4;H.prototype={constructor:H,get:function(e){return this[J+e]},set:function(e,t){return this[J+e]=t,t},each:function(e,t){void 0!==t&&(e=y(e,t));for(var n in this)this.hasOwnProperty(n)&&e(this[n],n.slice(K))},removeKey:function(e){delete this[J+e]}};var Q={inherits:l,mixin:c,clone:n,merge:r,mergeAll:i,extend:s,defaults:o,getContext:a,createCanvas:u,indexOf:f,slice:O,find:g,isArrayLike:h,each:p,map:d,reduce:v,filter:m,bind:y,curry:b,isArray:w,isString:S,isObject:x,isFunction:E,isBuiltInObject:T,isDom:N,eqNaN:C,retrieve:k,retrieve2:L,retrieve3:A,assert:_,setAsPrimitive:D,createHashMap:B,normalizeCssArray:M,noop:function(){}};e.exports=Q},function(e,t,n){function r(e){return function(t,n,r){t=t&&t.toLowerCase(),I.prototype[e].call(this,t,n,r)}}function i(){I.call(this)}function s(e,t,n){function r(e,t){return e.prio-t.prio}n=n||{},"string"==typeof t&&(t=ft[t]),this.id,this.group,this._dom=e;var s=this._zr=B.init(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=H.throttle(j.bind(s.flush,s),17);var t=j.clone(t);t&&L(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new C,this._api=E(this),I.call(this),this._messageCenter=new i,this._initEvents(),this.resize=j.bind(this.resize,this),this._pendingActions=[],q(at,r),q(st,r),s.animation.on("frame",this._onframe,this),j.setAsPrimitive(this)}function o(e,t,n){var r,i=this._model,s=this._coordSysMgr.getCoordinateSystems();t=P.parseFinder(i,t);for(var o=0;o<s.length;o++){var u=s[o];if(u[e]&&null!=(r=u[e](i,t,n)))return r}}function u(e,t,n,r,i){function s(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,e._api,n)}var o=e._model;if(!r)return void R(e._componentsViews.concat(e._chartsViews),s);var u={};u[r+"Id"]=n[r+"Id"],u[r+"Index"]=n[r+"Index"],u[r+"Name"]=n[r+"Name"];var a={mainType:r,query:u};i&&(a.subType=i),o&&o.eachComponent(a,function(t,n){s(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)}function a(e,t){var n=e.type,r=e.escapeConnect,i=rt[n],s=i.actionInfo,o=(s.update||"update").split(":"),a=o.pop();o=null!=o[0]&&U(o[0]),this[Q]=!0;var f=[e],l=!1;e.batch&&(l=!0,f=j.map(e.batch,function(t){return t=j.defaults(j.extend({},t),e),t.batch=null,t}));var c,h=[],p="highlight"===n||"downplay"===n;R(f,function(e){c=i.action(e,this._model,this._api),c=c||j.extend({},e),c.type=s.event||c.type,h.push(c),p?u(this,a,e,"series"):o&&u(this,a,e,o.main,o.sub)},this),"none"===a||p||o||(this[Y]?(tt.prepareAndUpdate.call(this,e),this[Y]=!1):tt[a].call(this,e)),c=l?{type:s.event||n,escapeConnect:r,batch:h}:h[0],this[Q]=!1,!t&&this._messageCenter.trigger(c.type,c)}function f(e){for(var t=this._pendingActions;t.length;){var n=t.shift();a.call(this,n,e)}}function l(e){!e&&this.trigger("updated")}function c(e,t,n){var r=this._api;R(this._componentsViews,function(i){var s=i.__model;i[e](s,t,r,n),w(s,i)},this),t.eachSeries(function(i,s){var o=this._chartsMap[i.__viewId];o[e](i,t,r,n),w(i,o),b(i,o)},this),y(this._zr,t),R(ut,function(e){e(t,r)})}function h(e,t){for(var n="component"===e,r=n?this._componentsViews:this._chartsViews,i=n?this._componentsMap:this._chartsMap,s=this._zr,o=0;o<r.length;o++)r[o].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,o){if(n){if("series"===e)return}else o=e;var u="_ec_"+o.id+"_"+o.type,a=i[u];if(!a){var f=U(o.type),l=n?M.getClass(f.main,f.sub):_.getClass(f.sub);if(!l)return;a=new l,a.init(t,this._api),i[u]=a,r.push(a),s.add(a.group)}o.__viewId=a.__id=u,a.__alive=!0,a.__model=o,a.group.__ecComponentInfo={mainType:o.mainType,index:o.componentIndex}},this);for(var o=0;o<r.length;){var u=r[o];u.__alive?o++:(s.remove(u.group),u.dispose(t,this._api),r.splice(o,1),delete i[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function p(e,t){R(st,function(n){n.func(e,t)})}function d(e){var t={};e.eachSeries(function(e){var n=e.get("stack"),r=e.getData();if(n&&"list"===r.type){var i=t[n];t.hasOwnProperty(n)&&i&&(r.stackedOn=i),t[n]=r}})}function v(e,t){var n=this._api;R(at,function(r){r.isLayout&&r.func(e,n,t)})}function m(e,t,n){var r=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),R(at,function(i){(!n||!i.isLayout)&&i.func(e,r,t)})}function g(e,t){var n=this._api;R(this._componentsViews,function(r){var i=r.__model;r.render(i,e,n,t),w(i,r)},this),R(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(r,i){var s=this._chartsMap[r.__viewId];s.__alive=!0,s.render(r,e,n,t),s.group.silent=!!r.get("silent"),w(r,s),b(r,s)},this),y(this._zr,e),R(this._chartsViews,function(t){t.__alive||t.remove(e,n)},this)}function y(e,t){var n=e.storage,r=0;n.traverse(function(e){e.isGroup||r++}),r>t.get("hoverLayerThreshold")&&!x.node&&n.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function b(e,t){var n=0;t.group.traverse(function(e){"group"===e.type||e.ignore||n++});var r=+e.get("progressive"),i=n>e.get("progressiveThreshold")&&r&&!x.node;i&&t.group.traverse(function(e){e.isGroup||(e.progressive=i?Math.floor(n++/r):-1,i&&e.stopAnimation(!0))});var s=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.setStyle("blend",s)})}function w(e,t){var n=e.get("z"),r=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=r&&(e.zlevel=r))})}function E(e){var t=e._coordSysMgr;return j.extend(new N(e),{getCoordinateSystems:j.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}}})}function S(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[s]=t}}var n=0,r=1,i=2,s="__connectUpdateStatus";j.each(it,function(o,u){e._messageCenter.on(u,function(o){if(ht[e.group]&&e[s]!==n){if(o&&o.escapeConnect)return;var u=e.makeActionFromEvent(o),a=[];j.each(ct,function(t){t!==e&&t.group===e.group&&a.push(t)}),t(a,n),R(a,function(e){e[s]!==r&&e.dispatchAction(u)}),t(a,i)}})})}var x=n(10),T=n(143),N=n(105),C=n(26),k=n(144),L=n(151),A=n(13),O=n(17),M=n(67),_=n(30),D=n(3),P=n(5),H=n(37),B=n(92),j=n(1),F=n(22),I=n(23),q=n(52),R=j.each,U=A.parseClassType,z=1e3,W=5e3,X=1e3,V=2e3,$=3e3,J=4e3,K=5e3,Q="__flagInMainProcess",G="__hasGradientOrPatternBg",Y="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;i.prototype.on=r("on"),i.prototype.off=r("off"),i.prototype.one=r("one"),j.mixin(i,I);var et=s.prototype;et._onframe=function(){if(this[Y]){var e=this[Y].silent;this[Q]=!0,tt.prepareAndUpdate.call(this),this[Q]=!1,this[Y]=!1,f.call(this,e),l.call(this,e)}},et.getDom=function(){return this._dom},et.getZr=function(){return this._zr},et.setOption=function(e,t,n){var r;if(j.isObject(t)&&(n=t.lazyUpdate,r=t.silent,t=t.notMerge),this[Q]=!0,!this._model||t){var i=new k(this._api),s=this._theme,o=this._model=new T(null,null,s,i);o.init(null,null,s,i)}this._model.setOption(e,ot),n?(this[Y]={silent:r},this[Q]=!1):(tt.prepareAndUpdate.call(this),this._zr.flush(),this[Y]=!1,this[Q]=!1,f.call(this,r),l.call(this,r))},et.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},et.getModel=function(){return this._model},et.getOption=function(){return this._model&&this._model.getOption()},et.getWidth=function(){return this._zr.getWidth()},et.getHeight=function(){return this._zr.getHeight()},et.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},et.getRenderedCanvas=function(e){if(x.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,n=t.storage.getDisplayList();return j.each(n,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},et.getDataURL=function(e){e=e||{};var t=e.excludeComponents,n=this._model,r=[],i=this;R(t,function(e){n.eachComponent({mainType:e},function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)})});var s=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return R(r,function(e){e.group.ignore=!1}),s},et.getConnectedDataURL=function(e){if(x.canvasSupported){var t=this.group,n=Math.min,r=Math.max,i=1/0;if(ht[t]){var s=i,o=i,u=-i,a=-i,f=[],l=e&&e.pixelRatio||1;j.each(ct,function(i,l){if(i.group===t){var c=i.getRenderedCanvas(j.clone(e)),h=i.getDom().getBoundingClientRect();s=n(h.left,s),o=n(h.top,o),u=r(h.right,u),a=r(h.bottom,a),f.push({dom:c,left:h.left,top:h.top})}}),s*=l,o*=l,u*=l,a*=l;var c=u-s,h=a-o,p=j.createCanvas();p.width=c,p.height=h;var d=B.init(p);return R(f,function(e){var t=new D.Image({style:{x:e.left*l-s,y:e.top*l-o,image:e.dom}});d.add(t)}),d.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},et.convertToPixel=j.curry(o,"convertToPixel"),et.convertFromPixel=j.curry(o,"convertFromPixel"),et.containPixel=function(e,t){var n,r=this._model;return e=P.parseFinder(r,e),j.each(e,function(e,r){r.indexOf("Models")>=0&&j.each(e,function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(t);else if("seriesModels"===r){var s=this._chartsMap[e.__viewId];s&&s.containPoint&&(n|=s.containPoint(t,e))}},this)},this),!!n},et.getVisual=function(e,t){var n=this._model;e=P.parseFinder(n,e,{defaultMainType:"series"});var r=e.seriesModel,i=r.getData(),s=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=s?i.getItemVisual(s,t):i.getVisual(t)},et.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},et.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var tt={update:function(e){var t=this._model,n=this._api,r=this._coordSysMgr,i=this._zr;if(t){t.restoreData(),r.create(this._model,this._api),p.call(this,t,n),d.call(this,t),r.update(t,n),m.call(this,t,e),g.call(this,t,e);var s=t.get("backgroundColor")||"transparent",o=i.painter;if(o.isSingleCanvas&&o.isSingleCanvas())i.configLayer(0,{clearColor:s});else{if(!x.canvasSupported){var u=F.parse(s);s=F.stringify(u,"rgb"),0===u[3]&&(s="transparent")}s.colorStops||s.image?(i.configLayer(0,{clearColor:s}),this[G]=!0,this._dom.style.background="transparent"):(this[G]&&i.configLayer(0,{clearColor:null}),this[G]=!1,this._dom.style.background=s)}R(ut,function(e){e(t,n)})}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),m.call(this,t,e),c.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),m.call(this,t,e,!0),c.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(v.call(this,t,e),c.call(this,"updateLayout",t,e))},prepareAndUpdate:function(e){var t=this._model;h.call(this,"component",t),h.call(this,"chart",t),tt.update.call(this,e)}};et.resize=function(e){this[Q]=!0,this._zr.resize(e);var t=this._model&&this._model.resetOption("media"),n=t?"prepareAndUpdate":"update";tt[n].call(this),this._loadingFX&&this._loadingFX.resize(),this[Q]=!1;var r=e&&e.silent;f.call(this,r),l.call(this,r)},et.showLoading=function(e,t){if(j.isObject(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),lt[e]){var n=lt[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},et.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},et.makeActionFromEvent=function(e){var t=j.extend({},e);return t.type=it[e.type],t},et.dispatchAction=function(e,t){if(j.isObject(t)||(t={silent:!!t}),rt[e.type]&&this._model){if(this[Q])return void this._pendingActions.push(e);a.call(this,e,t.silent),t.flush?this._zr.flush(!0):t.flush!==!1&&x.browser.weChat&&this._throttledZrFlush(),f.call(this,t.silent),l.call(this,t.silent)}},et.on=r("on"),et.off=r("off"),et.one=r("one");var nt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];et._initEvents=function(){R(nt,function(e){this._zr.on(e,function(t){var n,r=this.getModel(),i=t.target;if("globalout"===e)n={};else if(i&&null!=i.dataIndex){var s=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=s&&s.getDataParams(i.dataIndex,i.dataType)||{}}else i&&i.eventData&&(n=j.extend({},i.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),R(it,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},et.isDisposed=function(){return this._disposed},et.clear=function(){this.setOption({series:[]},!0)},et.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api,t=this._model;R(this._componentsViews,function(n){n.dispose(t,e)}),R(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete ct[this.id]}},j.mixin(s,I);var rt={},it={},st=[],ot=[],ut=[],at=[],ft={},lt={},ct={},ht={},pt=new Date-0,dt=new Date-0,vt="_echarts_instance_",mt={version:"3.7.1",dependencies:{zrender:"3.6.1"}};mt.init=function(e,t,n){var r=mt.getInstanceByDom(e);if(r)return r;var i=new s(e,t,n);return i.id="ec_"+pt++,ct[i.id]=i,e.setAttribute?e.setAttribute(vt,i.id):e[vt]=i.id,S(i),i},mt.connect=function(e){if(j.isArray(e)){var t=e;e=null,j.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+dt++,j.each(t,function(t){t.group=e})}return ht[e]=!0,e},mt.disConnect=function(e){ht[e]=!1},mt.disconnect=mt.disConnect,mt.dispose=function(e){"string"==typeof e?e=ct[e]:e instanceof s||(e=mt.getInstanceByDom(e)),e instanceof s&&!e.isDisposed()&&e.dispose()},mt.getInstanceByDom=function(e){var t;return t=e.getAttribute?e.getAttribute(vt):e[vt],ct[t]},mt.getInstanceById=function(e){return ct[e]},mt.registerTheme=function(e,t){ft[e]=t},mt.registerPreprocessor=function(e){ot.push(e)},mt.registerProcessor=function(e,t){"function"==typeof e&&(t=e,e=z),st.push({prio:e,func:t})},mt.registerPostUpdate=function(e){ut.push(e)},mt.registerAction=function(e,t,n){"function"==typeof t&&(n=t,t="");var r=j.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,j.assert(Z.test(r)&&Z.test(t)),rt[r]||(rt[r]={action:n,actionInfo:e}),it[t]=r},mt.registerCoordinateSystem=function(e,t){C.register(e,t)},mt.getCoordinateSystemDimensions=function(e){var t=C.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},mt.registerLayout=function(e,t){"function"==typeof e&&(t=e,e=X),at.push({prio:e,func:t,isLayout:!0})},mt.registerVisual=function(e,t){"function"==typeof e&&(t=e,e=$),at.push({prio:e,func:t})},mt.registerLoading=function(e,t){lt[e]=t},mt.extendComponentModel=function(e){return A.extend(e)},mt.extendComponentView=function(e){return M.extend(e)},mt.extendSeriesModel=function(e){return O.extend(e)},mt.extendChartView=function(e){return _.extend(e)},mt.setCanvasCreator=function(e){j.createCanvas=e},mt.registerVisual(V,n(157)),mt.registerPreprocessor(L),mt.registerLoading("default",n(142)),mt.registerAction({type:"highlight",event:"highlight",update:"highlight"},j.noop),mt.registerAction({type:"downplay",event:"downplay",update:"downplay"},j.noop),mt.zrender=B,mt.List=n(14),mt.Model=n(11),mt.Axis=n(33),mt.graphic=n(3),mt.number=n(4),mt.format=n(7),mt.throttle=H.throttle,mt.matrix=n(19),mt.vector=n(6),mt.color=n(22),mt.util={},R(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){mt.util[e]=j[e]}),mt.helper=n(141),mt.PRIORITY={PROCESSOR:{FILTER:z,STATISTIC:W},VISUAL:{LAYOUT:X,GLOBAL:V,CHART:$,COMPONENT:J,BRUSH:K}},e.exports=mt},function(e,t,n){"use strict";function r(e){return null!=e&&"none"!=e}function i(e){return"string"==typeof e?N.lift(e,-.1):e}function s(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,s=e.__hoverStl;s.fill=s.fill||(r(n)?i(n):null),s.stroke=s.stroke||(r(t)?i(t):null);var o={};for(var u in s)null!=s[u]&&(o[u]=e.style[u]);e.__normalStl=o,e.__hoverStlDirty=!1}}function o(e){if(!e.__isHover){if(s(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,n=t.insideRollbackOpt;n&&w(t),t.extendFrom(e.__hoverStl),n&&(b(t,t.insideOriginalTextPosition,n),null==t.textFill&&(t.textFill=n.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function u(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function a(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&o(e)}):o(e)}function f(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&u(e)}):u(e)}function l(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&s(e)}function c(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&a(this)}function h(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&f(this)}function p(){this.__isEmphasis=!0,a(this)}function d(){this.__isEmphasis=!1,f(this)}function v(e,t,n,r){if(n=n||D,n.isRectText){var i=t.getShallow("position")||(r?null:"inside");"outside"===i&&(i="top"),e.textPosition=i,e.textOffset=t.getShallow("offset");var s=t.getShallow("rotate");null!=s&&(s*=Math.PI/180),e.textRotation=s,e.textDistance=S.retrieve2(t.getShallow("distance"),r?null:5)}var o,u=t.ecModel,a=u&&u.option.textStyle,f=m(t);if(f){o={};for(var l in f)if(f.hasOwnProperty(l)){var c=t.getModel(["rich",l]);g(o[l]={},c,a,n,r)}}return e.rich=o,g(e,t,a,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function m(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||D).rich;if(n){t=t||{};for(var r in n)n.hasOwnProperty(r)&&(t[r]=1)}e=e.parentModel}return t}function g(e,t,n,r,i,s){if(n=!i&&n||D,e.textFill=y(t.getShallow("color"),r)||n.color,e.textStroke=y(t.getShallow("textBorderColor"),r)||n.textBorderColor,e.textLineWidth=S.retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth),!i){if(s){var o=e.textPosition;e.insideRollback=b(e,o,r),e.insideOriginalTextPosition=o,e.insideRollbackOpt=r}null==e.textFill&&(e.textFill=r.autoColor)}e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),s&&r.disableBox||(e.textBackgroundColor=y(t.getShallow("backgroundColor"),r),e.textPadding=t.getShallow("padding"),e.textBorderColor=y(t.getShallow("borderColor"),r),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function y(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function b(e,t,n){var r,i=n.useInsideStyle;return null==e.textFill&&i!==!1&&(i===!0||n.isRectText&&t&&"string"==typeof t&&t.indexOf("inside")>=0)&&(r={textFill:null,textStroke:e.textStroke,textLineWidth:e.textLineWidth},e.textFill="#fff",null==e.textStroke&&(e.textStroke=n.autoColor,null==e.textLineWidth&&(e.textLineWidth=2))),r}function w(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textLineWidth=t.textLineWidth)}function E(e,t,n,r,i,s){"function"==typeof i&&(s=i,i=null);var o=r&&r.isAnimationEnabled();if(o){var u=e?"Update":"",a=r.getShallow("animationDuration"+u),f=r.getShallow("animationEasing"+u),l=r.getShallow("animationDelay"+u);"function"==typeof l&&(l=l(i,r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null)),"function"==typeof a&&(a=a(i)),a>0?t.animateTo(n,a,l||0,f,s,!!s):(t.stopAnimation(),t.attr(n),s&&s())}else t.stopAnimation(),t.attr(n),s&&s()}var S=n(1),x=n(185),T=n(8),N=n(22),C=n(19),k=n(6),L=n(60),A=n(12),O=Math.round,M=Math.max,_=Math.min,D={},P={};P.Group=n(36),P.Image=n(55),P.Text=n(90),P.Circle=n(176),P.Sector=n(182),P.Ring=n(181),P.Polygon=n(178),P.Polyline=n(179),P.Rect=n(180),P.Line=n(177),P.BezierCurve=n(175),P.Arc=n(174),P.CompoundPath=n(170),P.LinearGradient=n(104),P.RadialGradient=n(171),P.BoundingRect=A,P.extendShape=function(e){return T.extend(e)},P.extendPath=function(e,t){return x.extendFromString(e,t)},P.makePath=function(e,t,n,r){var i=x.createFromString(e,t),s=i.getBoundingRect();if(n){var o=s.width/s.height;if("center"===r){var u,a=n.height*o;a<=n.width?u=n.height:(a=n.width,u=a/o);var f=n.x+n.width/2,l=n.y+n.height/2;n.x=f-a/2,n.y=l-u/2,n.width=a,n.height=u}P.resizePath(i,n)}return i},P.mergePath=x.mergePath,P.resizePath=function(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}},P.subPixelOptimizeLine=function(e){var t=e.shape,n=e.style.lineWidth;return O(2*t.x1)===O(2*t.x2)&&(t.x1=t.x2=H(t.x1,n,!0)),O(2*t.y1)===O(2*t.y2)&&(t.y1=t.y2=H(t.y1,n,!0)),e},P.subPixelOptimizeRect=function(e){var t=e.shape,n=e.style.lineWidth,r=t.x,i=t.y,s=t.width,o=t.height;return t.x=H(t.x,n,!0),t.y=H(t.y,n,!0),t.width=Math.max(H(r+s,n,!1)-t.x,0===s?0:1),t.height=Math.max(H(i+o,n,!1)-t.y,0===o?0:1),e};var H=P.subPixelOptimize=function(e,t,n){var r=O(2*e);return(r+O(t))%2===0?r/2:(r+(n?1:-1))/2};P.setHoverStyle=function(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===e.type?e.traverse(function(e){"group"!==e.type&&l(e,t)}):l(e,t),e.on("mouseover",c).on("mouseout",h),e.on("emphasis",p).on("normal",d)},P.setLabelStyle=function(e,t,n,r,i,s,o){i=i||D;var u=i.labelFetcher,a=i.labelDataIndex,f=i.labelDimIndex,l=n.getShallow("show"),c=r.getShallow("show"),h=l||c?S.retrieve2(u?u.getFormattedLabel(a,"normal",null,f):null,i.defaultText):null,p=l?h:null,d=c?S.retrieve2(u?u.getFormattedLabel(a,"emphasis",null,f):null,h):null;null==p&&null==d||(B(e,n,s,i),B(t,r,o,i,!0)),e.text=p,t.text=d};var B=P.setTextStyle=function(e,t,n,r,i){return v(e,t,r,i),n&&S.extend(e,n),e.host&&e.host.dirty&&e.host.dirty(!1),e};P.setText=function(e,t,n){var r,i={isRectText:!0};n===!1?r=!0:i.autoColor=n,v(e,t,i,r),e.host&&e.host.dirty&&e.host.dirty(!1)},P.getFont=function(e,t){var n=t||t.getModel("textStyle");return[e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" ")},P.updateProps=function(e,t,n,r,i){E(!0,e,t,n,r,i)},P.initProps=function(e,t,n,r,i){E(!1,e,t,n,r,i)},P.getTransform=function(e,t){for(var n=C.identity([]);e&&e!==t;)C.mul(n,e.getLocalTransform(),n),e=e.parent;return n},P.applyTransform=function(e,t,n){return t&&!S.isArrayLike(t)&&(t=L.getLocalTransform(t)),n&&(t=C.invert([],t)),k.applyTransform([],e,t)},P.transformDirection=function(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),s=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return s=P.applyTransform(s,t,n),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"},P.groupTransition=function(e,t,n,r){function i(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}function s(e){var t={position:k.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=S.extend({},e.shape)),t}if(e&&t){var o=i(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=o[e.anid];if(t){var r=s(e);e.attr(s(t)),P.updateProps(e,r,n,e.dataIndex)}}})}},P.clipPointsByRect=function(e,t){return S.map(e,function(e){var n=e[0];n=M(n,t.x),n=_(n,t.x+t.width);var r=e[1];return r=M(r,t.y),r=_(r,t.y+t.height),[n,r]})},P.clipRectByRect=function(e,t){var n=M(e.x,t.x),r=_(e.x+e.width,t.x+t.width),i=M(e.y,t.y),s=_(e.y+e.height,t.y+t.height);if(r>=n&&s>=i)return{x:n,y:i,width:r-n,height:s-i}},P.createIcon=function(e,t,n){t=S.extend({rectHover:!0},t);var r=t.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(r.image=e.slice(8),S.defaults(r,n),new P.Image(t)):P.makePath(e.replace("path://",""),t,n,"center")},e.exports=P},function(e,t,n){function r(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(e){return Math.floor(Math.log(e)/Math.LN10)}var s=n(1),o={},u=1e-4;o.linearMap=function(e,t,n,r){var i=t[1]-t[0],s=n[1]-n[0];if(0===i)return 0===s?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*s+n[0]},o.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?r(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e},o.round=function(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e},o.asc=function(e){return e.sort(function(e,t){return e-t}),e},o.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},o.getPrecisionSafe=function(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var r=+t.slice(n+1);return r<0?-r:0}var i=t.indexOf(".");return i<0?0:t.length-1-i},o.getPixelPrecision=function(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),s=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+s,0),20);return isFinite(o)?o:20},o.getPercentWithPrecision=function(e,t,n){if(!e[t])return 0;var r=s.reduce(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===r)return 0;for(var i=Math.pow(10,n),o=s.map(e,function(e){return(isNaN(e)?0:e)/r*i*100}),u=100*i,a=s.map(o,function(e){return Math.floor(e)}),f=s.reduce(a,function(e,t){return e+t},0),l=s.map(o,function(e,t){return e-a[t]});f<u;){for(var c=Number.NEGATIVE_INFINITY,h=null,p=0,d=l.length;p<d;++p)l[p]>c&&(c=l[p],h=p);++a[h],l[h]=0,++f}return a[t]/i},o.MAX_SAFE_INTEGER=9007199254740991,o.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},o.isRadianAroundZero=function(e){return e>-u&&e<u};var a=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;o.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},o.parseDate=function(e){if(e instanceof Date)return e;if("string"==typeof e){var t=a.exec(e);if(!t)return new Date(NaN);var n=o.getTimezoneOffset(),r=t[8]?"Z"===t[8].toUpperCase()?n:60*+t[8].slice(0,3)+n:0;return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0)-r,+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))},o.quantity=function(e){return Math.pow(10,i(e))},o.nice=function(e,t){var n,r=i(e),s=Math.pow(10,r),o=e/s;return n=t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,e=n*s,r>=-20?+e.toFixed(r<0?-r:0):e},o.reformIntervals=function(e){function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]===(r?-1:1)||!r&&t(e,n,1))}e.sort(function(e,n){return t(e,n,0)?-1:1});for(var n=-(1/0),r=1,i=0;i<e.length;){for(var s=e[i].interval,o=e[i].close,u=0;u<2;u++)s[u]<=n&&(s[u]=n,o[u]=u?1:1-r),n=s[u],r=o[u];s[0]===s[1]&&o[0]*o[1]!==1?e.splice(i,1):i++}return e},o.isNumeric=function(e){return e-parseFloat(e)>=0},e.exports=o},function(e,t,n){function r(e,t){return e&&e.hasOwnProperty(t)}var i=n(7),s=n(4),o=n(11),u=n(1),a=u.each,f=u.isObject,l={};l.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]},l.defaultEmphasis=function(e,t){if(e)for(var n=e.emphasis=e.emphasis||{},r=e.normal=e.normal||{},i=0,s=t.length;i<s;i++){var o=t[i];!n.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(n[o]=r[o])}},l.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],l.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)},l.isDataItemOption=function(e){return f(e)&&!(e instanceof Array)},l.converDataValue=function(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+s.parseDate(e)),null==e||""===e?NaN:+e)},l.createDataFormatModel=function(e,t){var n=new o;return u.mixin(n,l.dataFormatMixin),n.seriesIndex=t.seriesIndex,n.name=t.name||"",n.mainType=t.mainType,n.subType=t.subType,n.getData=function(){return e},n},l.dataFormatMixin={getDataParams:function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),s=n.getRawIndex(e),o=n.getName(e,!0),u=n.getRawDataItem(e),a=n.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:s,data:u,dataType:t,value:r,color:a,marker:i.getTooltipMarker(a),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,r,s){t=t||"normal";var o=this.getData(n),u=o.getItemModel(e),a=this.getDataParams(e,n);null!=r&&a.value instanceof Array&&(a.value=a.value[r]);var f=u.get([s||"label",t,"formatter"]);return"function"==typeof f?(a.status=t,f(a)):"string"==typeof f?i.formatTpl(f,a):void 0},getRawValue:function(e,t){var n=this.getData(t),r=n.getRawDataItem(e);if(null!=r)return!f(r)||r instanceof Array?r:r.value},formatTooltip:u.noop},l.mappingToExists=function(e,t){t=(t||[]).slice();var n=u.map(e||[],function(e,t){return{exist:e}});return a(t,function(e,r){if(f(e)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=e.id&&n[i].exist.id===e.id+"")return n[i].option=e,void (t[r]=null);for(var i=0;i<n.length;i++){var s=n[i].exist;if(!(n[i].option||null!=s.id&&null!=e.id||null==e.name||l.isIdInner(e)||l.isIdInner(s)||s.name!==e.name+""))return n[i].option=e,void (t[r]=null)}}}),a(t,function(e,t){if(f(e)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!l.isIdInner(i)&&null==e.id){n[r].option=e;break}}r>=n.length&&n.push({option:e})}}),n},l.makeIdAndName=function(e){var t=u.createHashMap();a(e,function(e,n){var r=e.exist;r&&t.set(r.id,e)}),a(e,function(e,n){var r=e.option;u.assert(!r||null==r.id||!t.get(r.id)||t.get(r.id)===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&t.set(r.id,e),!e.keyInfo&&(e.keyInfo={})}),a(e,function(e,n){var r=e.exist,i=e.option,s=e.keyInfo;if(f(i)){if(s.name=null!=i.name?i.name+"":r?r.name:"\0-",r)s.id=r.id;else if(null!=i.id)s.id=i.id+"";else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,e)}})},l.isIdInner=function(e){return f(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")},l.compressBatches=function(e,t){function n(e,t,n){for(var r=0,i=e.length;r<i;r++)for(var s=e[r].seriesId,o=l.normalizeToArray(e[r].dataIndex),u=n&&n[s],a=0,f=o.length;a<f;a++){var c=o[a];u&&u[c]?u[c]=null:(t[s]||(t[s]={}))[c]=1}}function r(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var s=r(e[i],!0);s.length&&n.push({seriesId:i,dataIndex:s})}return n}var i={},s={};return n(e||[],i),n(t||[],s,i),[r(i),r(s)]},l.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?u.isArray(t.dataIndex)?u.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?u.isArray(t.name)?u.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0},l.makeGetter=function(){var e=0;return function(){var t="\0__ec_prop_getter_"+e++;return function(e){return e[t]||(e[t]={})}}}(),l.parseFinder=function(e,t,n){if(u.isString(t)){var i={};i[t+"Index"]=0,t=i}var s=n&&n.defaultMainType;!s||r(t,s+"Index")||r(t,s+"Id")||r(t,s+"Name")||(t[s+"Index"]=0);var o={};return a(t,function(r,i){var r=t[i];if("dataIndex"===i||"dataIndexInside"===i)return void (o[i]=r);var s=i.match(/^(\w+)(Index|Id|Name)$/)||[],a=s[1],f=(s[2]||"").toLowerCase();if(!(!a||!f||null==r||"index"===f&&"none"===r||n&&n.includeMainTypes&&u.indexOf(n.includeMainTypes,a)<0)){var l={mainType:a};"index"===f&&"all"===r||(l[f]=r);var c=e.queryComponents(l);o[a+"Models"]=c,o[a+"Model"]=c[0]}}),o},l.dataDimToCoordDim=function(e,t){var n=e.dimensions;t=e.getDimension(t);for(var r=0;r<n.length;r++){var i=e.getDimensionInfo(n[r]);if(i.name===t)return i.coordDim}},l.coordDimToDataDim=function(e,t){var n=[];return a(e.dimensions,function(r){var i=e.getDimensionInfo(r);i.coordDim===t&&(n[i.coordDimIndex]=i.name)}),n},l.otherDimToDataDim=function(e,t){var n=[];return a(e.dimensions,function(r){var i=e.getDimensionInfo(r),s=i.otherDims,o=s[t];null!=o&&o!==!1&&(n[o]=i.name)}),n},e.exports=l},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array,r={create:function(e,t){var r=new n(2);return null==e&&(e=0),null==t&&(t=0),r[0]=e,r[1]=t,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,t){var n=r.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e},applyTransform:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};r.length=r.len,r.lengthSquare=r.lenSquare,r.dist=r.distance,r.distSquare=r.distanceSquare,e.exports=r},function(e,t,n){var r=n(1),i=n(4),s=n(16),o={};o.addCommas=function(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))},o.toCamelCase=function(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e},o.normalizeCssArray=r.normalizeCssArray;var u=o.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},a=["a","b","c","d","e","f","g"],f=function(e,t){return"{"+e+(null==t?"":t)+"}"};o.formatTpl=function(e,t,n){r.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var s=t[0].$vars||[],o=0;o<s.length;o++){var l=a[o],c=f(l,0);e=e.replace(f(l),n?u(c):c)}for(var p=0;p<i;p++)for(var d=0;d<s.length;d++){var c=t[p][s[d]];e=e.replace(f(a[d],p),n?u(c):c)}return e},o.formatTplSimple=function(e,t,n){return r.each(t,function(t,r){e=e.replace("{"+r+"}",n?u(t):t)}),e},o.getTooltipMarker=function(e,t){return e?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+o.encodeHTML(e)+";"+(t||"")+'"></span>':""};var l=function(e){return e<10?"0"+e:e};o.formatTime=function(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var r=i.parseDate(t),s=n?"UTC":"",o=r["get"+s+"FullYear"](),u=r["get"+s+"Month"]()+1,a=r["get"+s+"Date"](),f=r["get"+s+"Hours"](),c=r["get"+s+"Minutes"](),h=r["get"+s+"Seconds"]();return e=e.replace("MM",l(u)).replace("M",u).replace("yyyy",o).replace("yy",o%100).replace("dd",l(a)).replace("d",a).replace("hh",l(f)).replace("h",f).replace("mm",l(c)).replace("m",c).replace("ss",l(h)).replace("s",h)},o.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},o.truncateText=s.truncateText,o.getTextRect=s.getBoundingRect,e.exports=o},function(e,t,n){function r(e){i.call(this,e),this.path=null}var i=n(38),s=n(1),o=n(27),u=n(167),a=n(74),f=a.prototype.getCanvasPattern,l=Math.abs,c=new o(!0);r.prototype={constructor:r,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n=this.style,r=this.path||c,i=n.hasStroke(),s=n.hasFill(),o=n.fill,u=n.stroke,a=s&&!!o.colorStops,l=i&&!!u.colorStops,p=s&&!!o.image,d=i&&!!u.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var v;a&&(v=v||this.getBoundingRect(),this._fillGradient=n.getGradient(e,o,v)),l&&(v=v||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,u,v))}a?e.fillStyle=this._fillGradient:p&&(e.fillStyle=f.call(o,e)),l?e.strokeStyle=this._strokeGradient:d&&(e.strokeStyle=f.call(u,e));var m=n.lineDash,g=n.lineDashOffset,y=!!e.setLineDash,b=this.getGlobalScale();r.setScale(b[0],b[1]),this.__dirtyPath||m&&!y&&i?(r.beginPath(e),m&&!y&&(r.setLineDash(m),r.setLineDashOffset(g)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s&&r.fill(e),m&&y&&(e.setLineDash(m),e.lineDashOffset=g),i&&r.stroke(e),m&&y&&e.setLineDash([]),this.restoreTransform(e),null!=n.text&&this.drawRectText(e,this.getBoundingRect())},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var r=this.path;r||(r=this.path=new o),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),e=r.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){i.copy(e);var s=t.lineWidth,u=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),u>1e-10&&(i.width+=s/u,i.height+=s/u,i.x-=s/u/2,i.y-=s/u/2)}return i}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var s=this.path.data;if(i.hasStroke()){var o=i.lineWidth,a=i.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),u.containStroke(s,o/a,e,t)))return!0}if(i.hasFill())return u.contain(s,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(s.isObject(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}},r.extend=function(e){var t=function(t){r.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var s in n)!i.hasOwnProperty(s)&&n.hasOwnProperty(s)&&(i[s]=n[s])}e.init&&e.init.call(this,t)};s.inherits(t,r);for(var n in e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},s.inherits(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){var s=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var u=0;t.eachChild(function(a,f){var l,c,h=a.position,p=a.getBoundingRect(),d=t.childAt(f+1),v=d&&d.getBoundingRect();if("horizontal"===e){var m=p.width+(v?-v.x+p.x:0);l=s+m,l>r||a.newline?(s=0,l=m,o+=u+n,u=p.height):u=Math.max(u,p.height)}else{var g=p.height+(v?-v.y+p.y:0);c=o+g,c>i||a.newline?(s+=u+n,o=0,c=g,u=p.width):u=Math.max(u,p.width)}a.newline||(h[0]=s,h[1]=o,"horizontal"===e?s=l+n:o=c+n)})}var i=n(1),s=n(12),o=n(4),u=n(7),a=o.parsePercent,f=i.each,l={},c=l.LOCATION_PARAMS=["left","right","top","bottom","width","height"],h=l.HV_NAMES=[["width","left","right"],["height","top","bottom"]];l.box=r,l.vbox=i.curry(r,"vertical"),l.hbox=i.curry(r,"horizontal"),l.getAvailableSize=function(e,t,n){var r=t.width,i=t.height,s=a(e.x,r),o=a(e.y,i),f=a(e.x2,r),l=a(e.y2,i);return(isNaN(s)||isNaN(parseFloat(e.x)))&&(s=0),(isNaN(f)||isNaN(parseFloat(e.x2)))&&(f=r),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=i),n=u.normalizeCssArray(n||0),{width:Math.max(f-s-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}},l.getLayoutRect=function(e,t,n){n=u.normalizeCssArray(n||0);var r=t.width,i=t.height,o=a(e.left,r),f=a(e.top,i),l=a(e.right,r),c=a(e.bottom,i),h=a(e.width,r),p=a(e.height,i),d=n[2]+n[0],v=n[1]+n[3],m=e.aspect;switch(isNaN(h)&&(h=r-l-v-o),isNaN(p)&&(p=i-c-d-f),null!=m&&(isNaN(h)&&isNaN(p)&&(m>r/i?h=.8*r:p=.8*i),isNaN(h)&&(h=m*p),isNaN(p)&&(p=h/m)),isNaN(o)&&(o=r-l-h-v),isNaN(f)&&(f=i-c-p-d),e.left||e.right){case"center":o=r/2-h/2-n[3];break;case"right":o=r-h-v}switch(e.top||e.bottom){case"middle":case"center":f=i/2-p/2-n[0];break;case"bottom":f=i-p-d}o=o||0,f=f||0,isNaN(h)&&(h=r-v-o-(l||0)),isNaN(p)&&(p=i-d-f-(c||0));var g=new s(o+n[3],f+n[0],h,p);return g.margin=n,g},l.positionElement=function(e,t,n,r,o){var u=!o||!o.hv||o.hv[0],a=!o||!o.hv||o.hv[1],f=o&&o.boundingMode||"all";if(u||a){var c;if("raw"===f)c="group"===e.type?new s(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();c=c.clone(),c.applyTransform(h)}t=l.getLayoutRect(i.defaults({width:c.width,height:c.height},t),n,r);var p=e.position,d=u?t.x-c.x:0,v=a?t.y-c.y:0;e.attr("position","raw"===f?[d,v]:[p[0]+d,p[1]+v])}},l.sizeCalculable=function(e,t){return null!=e[h[t][0]]||null!=e[h[t][1]]&&null!=e[h[t][2]]},l.mergeLayoutParam=function(e,t,n){function r(n,r){var i={},u=0,l={},c=0,h=2;if(f(n,function(t){l[t]=e[t]}),f(n,function(e){s(t,e)&&(i[e]=l[e]=t[e]),o(i,e)&&u++,o(l,e)&&c++}),a[r])return o(t,n[1])?l[n[2]]=null:o(t,n[2])&&(l[n[1]]=null),l;if(c!==h&&u){if(u>=h)return i;for(var p=0;p<n.length;p++){var d=n[p];if(!s(i,d)&&s(e,d)){i[d]=e[d];break}}return i}return l}function s(e,t){return e.hasOwnProperty(t)}function o(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){f(e,function(e){t[e]=n[e]})}!i.isObject(n)&&(n={});var a=n.ignoreSize;!i.isArray(a)&&(a=[a,a]);var l=r(h[0],0),c=r(h[1],1);u(h[0],e,l),u(h[1],e,c)},l.getLayoutParams=function(e){return l.copyLayoutParams({},e)},l.copyLayoutParams=function(e,t){return t&&e&&f(c,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},e.exports=l},function(e,t){function n(e){var t={},n={},r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),s=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),s&&(n.edge=!0,n.version=s[1]),o&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}}var r={};r="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:n(navigator.userAgent),e.exports=r},function(e,t,n){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function i(e,t,n){for(var r=0;r<t.length&&(!t[r]||(e=e&&"object"==typeof e?e[t[r]]:null,null!=e));r++);return null==e&&n&&(e=n.get(t)),e}function s(e,t){var n=u.get(e,"getParent");return n?n.call(e,t):e.parentModel}var o=n(1),u=n(15),a=n(10);r.prototype={constructor:r,init:null,mergeOption:function(e){o.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:i(this.option,this.parsePath(e),!t&&s(this,e))},getShallow:function(e,t){var n=this.option,r=null==n?n:n[e],i=!t&&s(this,e);return null==r&&i&&(r=i.getShallow(e)),r},getModel:function(e,t){var n,o=null==e?this.option:i(this.option,e=this.parsePath(e));return t=t||(n=s(this,e))&&n.getModel(e),new r(o,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(o.clone(this.option))},setReadOnly:function(e){u.setReadOnly(this,e)},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){u.set(this,"getParent",e)},isAnimationEnabled:function(){if(!a.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},u.enableClassExtend(r);var f=o.mixin;f(r,n(149)),f(r,n(146)),f(r,n(150)),f(r,n(148)),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}var i=n(6),s=n(19),o=i.applyTransform,u=Math.min,a=Math.max;r.prototype={constructor:r,union:function(e){var t=u(e.x,this.x),n=u(e.y,this.y);this.width=a(e.x+e.width,this.x+this.width)-t,this.height=a(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],r=[];return function(i){if(i){e[0]=n[0]=this.x,e[1]=r[1]=this.y,t[0]=r[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,o(e,e,i),o(t,t,i),o(n,n,i),o(r,r,i),this.x=u(e[0],t[0],n[0],r[0]),this.y=u(e[1],t[1],n[1],r[1]);var s=a(e[0],t[0],n[0],r[0]),f=a(e[1],t[1],n[1],r[1]);this.width=s-this.x,this.height=f-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,i=s.create();return s.translate(i,i,[-t.x,-t.y]),s.scale(i,i,[n,r]),s.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof r||(e=r.create(e));var t=this,n=t.x,i=t.x+t.width,s=t.y,o=t.y+t.height,u=e.x,a=e.x+e.width,f=e.y,l=e.y+e.height;return!(i<u||a<n||o<f||l<s)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new r(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},e.exports=r},function(e,t,n){function r(e){var t=[];return s.each(l.getClassesByMainType(e),function(e){o.apply(t,e.prototype.dependencies||[])}),s.map(t,function(e){return a.parseClassType(e).main})}var i=n(11),s=n(1),o=Array.prototype.push,u=n(50),a=n(15),f=n(9),l=i.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,r){i.call(this,e,t,n,r),this.uid=u.getUID("componentModel")},init:function(e,t,n,r){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?f.getLayoutParams(e):{},i=t.getTheme();s.merge(e,i.get(this.mainType)),s.merge(e,this.getDefaultOption()),n&&f.mergeLayoutParam(e,r,n)},mergeOption:function(e,t){s.merge(this.option,e,!0);var n=this.layoutMode;n&&f.mergeLayoutParam(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){if(!a.hasOwn(this,"__defaultOption")){for(var e=[],t=this.constructor;t;){var n=t.prototype.defaultOption;n&&e.push(n),t=t.superClass}for(var r={},i=e.length-1;i>=0;i--)r=s.merge(r,e[i],!0);a.set(this,"__defaultOption",r)}return a.get(this,"__defaultOption")},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});a.enableClassManagement(l,{registerWhenExtend:!0}),u.enableSubTypeDefaulter(l),u.enableTopologicalTravel(l,r),s.mixin(l,n(147)),e.exports=l},function(e,t,n){(function(t){function r(e,t){d.each(g.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods}function i(e){this._array=e||[]}function s(e){return d.isArray(e)||(e=[e]),e}function o(e,t){var n=e.dimensions,i=new y(d.map(n,e.getDimensionInfo,e),e.hostModel);r(i,e);for(var s=i._storage={},o=e._storage,u=0;u<n.length;u++){var a=n[u],f=o[a];d.indexOf(t,a)>=0?s[a]=new f.constructor(o[a].length):s[a]=o[a]}return i}var u="undefined",a="undefined"==typeof window?t:window,f=typeof a.Float64Array===u?Array:a.Float64Array,l=typeof a.Int32Array===u?Array:a.Int32Array,c={"float":f,"int":l,ordinal:Array,number:Array,time:Array},h=n(11),p=n(44),d=n(1),v=n(5),m=d.isObject,g=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];i.prototype.pure=!1,i.prototype.count=function(){return this._array.length},i.prototype.getItem=function(e){return this._array[e]};var y=function(e,t){e=e||["x","y"];for(var n={},r=[],i=0;i<e.length;i++){var s,o={};"string"==typeof e[i]?(s=e[i],o={name:s,coordDim:s,coordDimIndex:0,stackable:!1,type:"number"}):(o=e[i],s=o.name,o.type=o.type||"number",o.coordDim||(o.coordDim=s,o.coordDimIndex=0)),o.otherDims=o.otherDims||{},r.push(s),n[s]=o}this.dimensions=r,this._dimensionInfos=n,this.hostModel=t,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},b=y.prototype;b.type="list",b.hasItemOption=!0,b.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},b.getDimensionInfo=function(e){return d.clone(this._dimensionInfos[this.getDimension(e)])},b.initData=function(e,t,n){e=e||[];var r=d.isArray(e);r&&(e=new i(e)),this._rawData=e;var s,o=this._storage={},u=this.indices=[],a=this.dimensions,f=this._dimensionInfos,l=e.count(),h=[],p={};t=t||[];for(var m=0;m<a.length;m++){var g=f[a[m]];0===g.otherDims.itemName&&(s=m);var y=c[g.type];o[a[m]]=new y(l)}var b=this;n||(b.hasItemOption=!1),n=n||function(e,t,n,r){var i=v.getDataItemValue(e);return v.isDataItemOption(e)&&(b.hasItemOption=!0),v.converDataValue(i instanceof Array?i[r]:i,f[t])};for(var m=0;m<l;m++){for(var w=e.getItem(m),E=0;E<a.length;E++){var S=a[E],x=o[S];x[m]=n(w,S,m,E)}u.push(m)}for(var m=0;m<l;m++){var w=e.getItem(m);!t[m]&&w&&(null!=w.name?t[m]=w.name:null!=s&&(t[m]=o[a[s]][m]));var T=t[m]||"",N=w&&w.id;!N&&T&&(p[T]=p[T]||0,N=T,p[T]>0&&(N+="__ec__"+p[T]),p[T]++),N&&(h[m]=N)}this._nameList=t,this._idList=h},b.count=function(){return this.indices.length},b.get=function(e,t,n){var r=this._storage,i=this.indices[t];if(null==i||!r[e])return NaN;var s=r[e][i];if(n){var o=this._dimensionInfos[e];if(o&&o.stackable)for(var u=this.stackedOn;u;){var a=u.get(e,t);(s>=0&&a>0||s<=0&&a<0)&&(s+=a),u=u.stackedOn}}return s},b.getValues=function(e,t,n){var r=[];d.isArray(e)||(n=t,t=e,e=this.dimensions);for(var i=0,s=e.length;i<s;i++)r.push(this.get(e[i],t,n));return r},b.hasValue=function(e){for(var t=this.dimensions,n=this._dimensionInfos,r=0,i=t.length;r<i;r++)if("ordinal"!==n[t[r]].type&&isNaN(this.get(t[r],e)))return!1;return!0},b.getDataExtent=function(e,t,n){e=this.getDimension(e);var r=this._storage[e],i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var s,o=(this._extent||(this._extent={}))[e+!!t];if(o)return o;if(r){for(var u=1/0,a=-(1/0),f=0,l=this.count();f<l;f++)s=this.get(e,f,t),n&&!n(s,e,f)||(s<u&&(u=s),s>a&&(a=s));return this._extent[e+!!t]=[u,a]}return[1/0,-(1/0)]},b.getSum=function(e,t){var n=this._storage[e],r=0;if(n)for(var i=0,s=this.count();i<s;i++){var o=this.get(e,i,t);isNaN(o)||(r+=o)}return r},b.indexOf=function(e,t){var n=this._storage,r=n[e],i=this.indices;if(r)for(var s=0,o=i.length;s<o;s++){var u=i[s];if(r[u]===t)return s}return-1},b.indexOfName=function(e){for(var t=this.indices,n=this._nameList,r=0,i=t.length;r<i;r++){var s=t[r];if(n[s]===e)return r}return-1},b.indexOfRawIndex=function(e){var t=this.indices,n=t[e];if(null!=n&&n===e)return e;for(var r=0,i=t.length-1;r<=i;){var s=(r+i)/2|0;if(t[s]<e)r=s+1;else{if(!(t[s]>e))return s;i=s-1}}return-1},b.indicesOfNearest=function(e,t,n,r){var i=this._storage,s=i[e],o=[];if(!s)return o;null==r&&(r=1/0);for(var u=Number.MAX_VALUE,a=-1,f=0,l=this.count();f<l;f++){var c=t-this.get(e,f,n),h=Math.abs(c);c<=r&&h<=u&&((h<u||c>=0&&a<0)&&(u=h,a=c,o.length=0),o.push(f))}return o},b.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t},b.getRawDataItem=function(e){return this._rawData.getItem(this.getRawIndex(e))},b.getName=function(e){return this._nameList[this.indices[e]]||""},b.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""},b.each=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=[]),e=d.map(s(e),this.getDimension,this);var i=[],o=e.length,u=this.indices;r=r||this;for(var a=0;a<u.length;a++)switch(o){case 0:t.call(r,a);break;case 1:t.call(r,this.get(e[0],a,n),a);break;case 2:t.call(r,this.get(e[0],a,n),this.get(e[1],a,n),a);break;default:for(var f=0;f<o;f++)i[f]=this.get(e[f],a,n);i[f]=a,t.apply(r,i)}},b.filterSelf=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=[]),e=d.map(s(e),this.getDimension,this);var i=[],o=[],u=e.length,a=this.indices;r=r||this;for(var f=0;f<a.length;f++){var l;if(u)if(1===u)l=t.call(r,this.get(e[0],f,n),f);else{for(var c=0;c<u;c++)o[c]=this.get(e[c],f,n);o[c]=f,l=t.apply(r,o)}else l=t.call(r,f);l&&i.push(a[f])}return this.indices=i,this._extent={},this},b.mapArray=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=[]);var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n,r),i},b.map=function(e,t,n,r){e=d.map(s(e),this.getDimension,this);var i=o(this,e),u=i.indices=this.indices,a=i._storage,f=[];return this.each(e,function(){var n=arguments[arguments.length-1],r=t&&t.apply(this,arguments);if(null!=r){"number"==typeof r&&(f[0]=r,r=f);for(var i=0;i<r.length;i++){var s=e[i],o=a[s],l=u[n];o&&(o[l]=r[i])}}},n,r),i},b.downSample=function(e,t,n,r){for(var i=o(this,[e]),s=this._storage,u=i._storage,a=this.indices,f=i.indices=[],l=[],c=[],h=Math.floor(1/t),p=u[e],d=this.count(),v=0;v<s[e].length;v++)u[e][v]=s[e][v];for(var v=0;v<d;v+=h){h>d-v&&(h=d-v,l.length=h);for(var m=0;m<h;m++){var g=a[v+m];l[m]=p[g],c[m]=g}var y=n(l),g=c[r(l,y)||0];p[g]=y,f.push(g)}return i},b.getItemModel=function(e){var t=this.hostModel;return e=this.indices[e],new h(this._rawData.getItem(e),t,t&&t.ecModel)},b.diff=function(e){var t,n=this._idList,r=e&&e._idList,i="e\0\0";return new p(e?e.indices:[],this.indices,function(e){return null!=(t=r[e])?t:i+e},function(e){return null!=(t=n[e])?t:i+e})},b.getVisual=function(e){var t=this._visual;return t&&t[e]},b.setVisual=function(e,t){if(m(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},b.setLayout=function(e,t){if(m(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},b.getLayout=function(e){return this._layout[e]},b.getItemLayout=function(e){return this._itemLayouts[e]},b.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?d.extend(this._itemLayouts[e]||{},t):t},b.clearItemLayouts=function(){this._itemLayouts.length=0},b.getItemVisual=function(e,t,n){var r=this._itemVisuals[e],i=r&&r[t];return null!=i||n?i:this.getVisual(t)},b.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};if(this._itemVisuals[e]=r,m(t))for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);else r[t]=n},b.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var w=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};b.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(w,t)),this._graphicEls[e]=t},b.getItemGraphicEl=function(e){return this._graphicEls[e]},b.eachItemGraphicEl=function(e,t){d.each(this._graphicEls,function(n,r){n&&e&&e.call(t,n,r)})},b.cloneShallow=function(){var e=d.map(this.dimensions,this.getDimensionInfo,this),t=new y(e,this.hostModel);return t._storage=this._storage,r(t,this),t.indices=this.indices.slice(),this._extent&&(t._extent=d.extend({},this._extent)),t},b.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(d.slice(arguments)))})},b.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],b.CHANGABLE_METHODS=["filterSelf"],e.exports=y}).call(t,function(){return this}())},function(e,t,n){function r(e){o.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function i(e,t){var n=o.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function s(e,t,n){return this.superClass.prototype[t].apply(e,n)}var o=n(1),u={},a=".",f="___EC__COMPONENT__CONTAINER___",l="\0ec_\0";u.set=function(e,t,n){return e[l+t]=n},u.get=function(e,t){return e[l+t]},u.hasOwn=function(e,t){return e.hasOwnProperty(l+t)};var c=u.parseClassType=function(e){var t={main:"",sub:""};return e&&(e=e.split(a),t.main=e[0]||"",t.sub=e[1]||""),t};u.enableClassExtend=function(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return o.extend(n.prototype,e),n.extend=this.extend,n.superCall=i,n.superApply=s,o.inherits(n,this),n.superClass=t,n}},u.enableClassManagement=function(e,t){function n(e){var t=i[e.main];return t&&t[f]||(t=i[e.main]={},t[f]=!0),t}t=t||{};var i={};if(e.registerClass=function(e,t){if(t)if(r(t),t=c(t),t.sub){if(t.sub!==f){var s=n(t);s[t.sub]=e}}else i[t.main]=e;return e},e.getClass=function(e,t,n){var r=i[e];if(r&&r[f]&&(r=t?r[t]:null),n&&!r)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){e=c(e);var t=[],n=i[e.main];return n&&n[f]?o.each(n,function(e,n){n!==f&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=c(e),!!i[e.main]},e.getAllClassMainTypes=function(){var e=[];return o.each(i,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=c(e);var t=i[e.main];return t&&t[f]},e.parseClassType=c,t.registerWhenExtend){var s=e.extend;s&&(e.extend=function(t){var n=s.call(this,t);return e.registerClass(n,t.type)})}return e},u.setReadOnly=function(e,t){},e.exports=u},function(e,t,n){function r(e,t){t=t||k;var n=e+":"+t;if(x[n])return x[n];for(var r=(e+"").split("\n"),i=0,s=0,o=r.length;s<o;s++)i=Math.max(O.measureText(r[s],t).width,i);return T>N&&(T=0,x={}),T++,x[n]=i,i}function i(e,t,n,r,i,u,a){return u?o(e,t,n,r,i,u,a):s(e,t,n,r,i,a)}function s(e,t,n,i,s,o){var f=m(e,t,s,o),l=r(e,t);s&&(l+=s[1]+s[3]);var c=f.outerHeight,h=u(0,l,n),p=a(0,c,i),d=new E(h,p,l,c);return d.lineHeight=f.lineHeight,d}function o(e,t,n,r,i,s,o){var f=g(e,{rich:s,truncate:o,font:t,textAlign:n,textPadding:i}),l=f.outerWidth,c=f.outerHeight,h=u(0,l,n),p=a(0,c,r);return new E(h,p,l,c)}function u(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function a(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function f(e,t,n){var r=t.x,i=t.y,s=t.height,o=t.width,u=s/2,a="left",f="top";switch(e){case"left":r-=n,i+=u,a="right",f="middle";break;case"right":r+=n+o,i+=u,f="middle";break;case"top":r+=o/2,i-=n,a="center",f="bottom";break;case"bottom":r+=o/2,i+=s+n,a="center";break;case"inside":r+=o/2,i+=u,a="center",f="middle";break;case"insideLeft":r+=n,i+=u,f="middle";break;case"insideRight":r+=o-n,i+=u,a="right",f="middle";break;case"insideTop":r+=o/2,i+=n,a="center";break;case"insideBottom":r+=o/2,i+=s-n,a="center",f="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,a="right";break;case"insideBottomLeft":r+=n,i+=s-n,f="bottom";break;case"insideBottomRight":r+=o-n,i+=s-n,a="right",f="bottom"}return{x:r,y:i,textAlign:a,textVerticalAlign:f}}function l(e,t,n,r,i){if(!t)return"";var s=(e+"").split("\n");i=c(t,n,r,i);for(var o=0,u=s.length;o<u;o++)s[o]=h(s[o],i);return s.join("\n")}function c(e,t,n,i){i=w.extend({},i),i.font=t;var n=L(n,"...");i.maxIterations=L(i.maxIterations,2);var s=i.minChar=L(i.minChar,0);i.cnCharWidth=r("国",t);var o=i.ascCharWidth=r("a",t);i.placeholder=L(i.placeholder,"");for(var u=e=Math.max(0,e-1),a=0;a<s&&u>=o;a++)u-=o;var f=r(n);return f>u&&(n="",f=0),u=e-f,i.ellipsis=n,i.ellipsisWidth=f,i.contentWidth=u,i.containerWidth=e,i}function h(e,t){var n=t.containerWidth,i=t.font,s=t.contentWidth;if(!n)return"";var o=r(e,i);if(o<=n)return e;for(var u=0;;u++){if(o<=s||u>=t.maxIterations){e+=t.ellipsis;break}var a=0===u?p(e,s,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*s/o):0;e=e.substr(0,a),o=r(e,i)}return""===e&&(e=t.placeholder),e}function p(e,t,n,r){for(var i=0,s=0,o=e.length;s<o&&i<t;s++){var u=e.charCodeAt(s);i+=0<=u&&u<=127?n:r}return s}function d(e){return r("国",e)}function v(e,t){var n=w.getContext();return n.font=t||k,n.measureText(e)}function m(e,t,n,r){null!=e&&(e+="");var i=d(t),s=e?e.split("\n"):[],o=s.length*i,u=o;if(n&&(u+=n[0]+n[2]),e&&r){var a=r.outerHeight,f=r.outerWidth;if(null!=a&&u>a)e="",s=[];else if(null!=f)for(var l=c(f-(n?n[1]+n[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),p=0,v=s.length;p<v;p++)s[p]=h(s[p],l)}return{lines:s,height:o,outerHeight:u,lineHeight:i}}function g(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var r,i=C.lastIndex=0;null!=(r=C.exec(e));){var s=r.index;s>i&&y(n,e.substring(i,s)),y(n,r[2],r[1]),i=C.lastIndex}i<e.length&&y(n,e.substring(i,e.length));var o=n.lines,u=0,a=0,f=[],c=t.textPadding,h=t.truncate,p=h&&h.outerWidth,d=h&&h.outerHeight;c&&(null!=p&&(p-=c[1]+c[3]),null!=d&&(d-=c[0]+c[2]));for(var v=0;v<o.length;v++){for(var m=o[v],g=0,b=0,w=0;w<m.tokens.length;w++){var E=m.tokens[w],x=E.styleName&&t.rich[E.styleName]||{},T=E.textPadding=x.textPadding,N=E.font=x.font||t.font,k=E.textHeight=L(x.textHeight,O.getLineHeight(N));if(T&&(k+=T[0]+T[2]),E.height=k,E.lineHeight=A(x.textLineHeight,t.textLineHeight,k),E.textAlign=x&&x.textAlign||t.textAlign,E.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=d&&u+E.lineHeight>d)return{lines:[],width:0,height:0};E.textWidth=O.getWidth(E.text,N);var M=x.textWidth,_=null==M||"auto"===M;if("string"==typeof M&&"%"===M.charAt(M.length-1))E.percentWidth=M,f.push(E),M=0;else{if(_){M=E.textWidth;var D=x.textBackgroundColor,H=D&&D.image;H&&(H=S.findExistImage(H),S.isImageReady(H)&&(M=Math.max(M,H.width*k/H.height)))}var B=T?T[1]+T[3]:0;M+=B;var j=null!=p?p-b:null;null!=j&&j<M&&(!_||j<B?(E.text="",E.textWidth=M=0):(E.text=l(E.text,j-B,N,h.ellipsis,{minChar:h.minChar}),E.textWidth=O.getWidth(E.text,N),M=E.textWidth+B))}b+=E.width=M,x&&(g=Math.max(g,E.lineHeight))}m.width=b,m.lineHeight=g,u+=g,a=Math.max(a,b)}n.outerWidth=n.width=L(t.textWidth,a),n.outerHeight=n.height=L(t.textHeight,u),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var v=0;v<f.length;v++){var E=f[v],F=E.percentWidth;E.width=parseInt(F,10)/100*a}return n}function y(e,t,n){for(var r=""===t,i=t.split("\n"),s=e.lines,o=0;o<i.length;o++){var u=i[o],a={styleName:n,text:u,isLineHolder:!u&&!r};if(o)s.push({tokens:[a]});else{var f=(s[s.length-1]||(s[0]={tokens:[]})).tokens,l=f.length;1===l&&f[0].isLineHolder?f[0]=a:(u||!l||r)&&f.push(a)}}}function b(e){return(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ")||e.textFont||e.font}var w=n(1),E=n(12),S=n(53),x={},T=0,N=5e3,C=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,k="12px sans-serif",L=w.retrieve2,A=w.retrieve3,O={getWidth:r,getBoundingRect:i,adjustTextPositionOnRect:f,truncateText:l,measureText:v,getLineHeight:d,parsePlainText:m,parseRichText:g,adjustTextX:u,adjustTextY:a,makeFont:b,DEFAULT_FONT:k};e.exports=O},function(e,t,n){"use strict";var r=n(1),i=n(7),s=n(15),o=n(5),u=n(13),a=n(64),f=n(10),l=n(9),c=s.set,h=s.get,p=i.encodeHTML,d=i.addCommas,v=u.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(e,t,n,r){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(e,n);var i=this.getInitialData(e,n);c(this,"dataBeforeProcessed",i),this.restoreData()},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?l.getLayoutParams(e):{},s=this.subType;u.hasClass(s)&&(s+="Series"),r.merge(e,t.getTheme().get(this.subType)),r.merge(e,this.getDefaultOption()),o.defaultEmphasis(e.label,["show"]),this.fillDataTextStyle(e.data),n&&l.mergeLayoutParam(e,i,n)},mergeOption:function(e,t){e=r.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&l.mergeLayoutParam(this.option,e,n);var i=this.getInitialData(e,t);i&&(c(this,"data",i),c(this,"dataBeforeProcessed",i.cloneShallow()))},fillDataTextStyle:function(e){if(e)for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&o.defaultEmphasis(e[n].label,t)},getInitialData:function(){},getData:function(e){var t=h(this,"data");return null==e?t:t.getLinkedData(e)},setData:function(e){c(this,"data",e)},getRawData:function(){return h(this,"dataBeforeProcessed")},coordDimToDataDim:function(e){return o.coordDimToDataDim(this.getData(),e)},dataDimToCoordDim:function(e){return o.dataDimToCoordDim(this.getData(),e)},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){function s(n){function s(e,n){var r=u.getDimensionInfo(n);if(r&&r.otherDims.tooltip!==!1){var s=r.type,o=(a?"- "+(r.tooltipName||r.name)+": ":"")+("ordinal"===s?e+"":"time"===s?t?"":i.formatTime("yyyy/MM/dd hh:mm:ss",e):d(e));o&&f.push(p(o))}}var a=r.reduce(n,function(e,t,n){var r=u.getDimensionInfo(n);return e|=r&&r.tooltip!==!1&&null!=r.tooltipName},0),f=[],l=o.otherDimToDataDim(u,"tooltip");return l.length?r.each(l,function(t){s(u.get(t,e),t)}):r.each(n,s),(a?"<br/>":"")+f.join(a?"<br/>":", ")}var u=h(this,"data"),a=this.getRawValue(e),f=r.isArray(a)?s(a):p(d(a)),l=u.getName(e),c=u.getItemVisual(e,"color");r.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var v=i.getTooltipMarker(c),m=this.name;return"\0-"===m&&(m=""),m=m?p(m)+(t?": ":"<br/>"):"",t?v+m+f:m+v+(l?p(l)+": "+f:f)},isAnimationEnabled:function(){if(f.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){c(this,"data",h(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(e,t){var n=this.ecModel,r=a.getColorFromPalette.call(this,e,t);return r||(r=n.getColorFromPalette(e,t)),r},getAxisTooltipData:null,getTooltipPosition:null});r.mixin(v,o.dataFormatMixin),r.mixin(v,a),e.exports=v},function(e,t,n){var r=n(155),i=n(45);n(156),n(154);var s=n(34),o=n(4),u=n(1),a=n(16),f={};f.getScaleExtent=function(e,t){var n,r,i,s=e.type,a=t.getMin(),f=t.getMax(),l=null!=a,c=null!=f,h=e.getExtent();return"ordinal"===s?n=(t.get("data")||[]).length:(r=t.get("boundaryGap"),u.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=o.parsePercent(r[0],1),r[1]=o.parsePercent(r[1],1),i=h[1]-h[0]||Math.abs(h[0])),null==a&&(a="ordinal"===s?n?0:NaN:h[0]-r[0]*i),null==f&&(f="ordinal"===s?n?n-1:NaN:h[1]+r[1]*i),"dataMin"===a?a=h[0]:"function"==typeof a&&(a=a({min:h[0],max:h[1]})),"dataMax"===f?f=h[1]:"function"==typeof f&&(f=f({min:h[0],max:h[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==f||!isFinite(f))&&(f=NaN),e.setBlank(u.eqNaN(a)||u.eqNaN(f)),t.getNeedCrossZero()&&(a>0&&f>0&&!l&&(a=0),a<0&&f<0&&!c&&(f=0)),[a,f]},f.niceScaleExtent=function(e,t){var n=f.getScaleExtent(e,t),r=null!=t.getMin(),i=null!=t.getMax(),s=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var o=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:s,fixMin:r,fixMax:i,minInterval:"interval"===o||"time"===o?t.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?t.get("maxInterval"):null});var u=t.get("interval");null!=u&&e.setInterval&&e.setInterval(u)},f.createScaleByModel=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new r(e.getCategories(),[1/0,-(1/0)]);case"value":return new i;default:return(s.getClass(t)||i).create(e)}},f.ifAxisCrossZero=function(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)},f.getAxisLabelInterval=function(e,t,n,r){var i,s=0,o=0,u=1;t.length>40&&(u=Math.floor(t.length/40));for(var f=0;f<e.length;f+=u){var c=e[f],h=a.getBoundingRect(t[f],n,"center","top");h[r?"x":"y"]+=c,h[r?"width":"height"]*=1.3,i?i.intersect(h)?(o++,s=Math.max(s,o)):(i.union(h),o=0):i=h.clone()}return 0===s&&u>1?u:(s+1)*u-1},f.getFormattedLabels=function(e,t){var n=e.scale,r=n.getTicksLabels(),i=n.getTicks();return"string"==typeof t?(t=function(e){return function(t){return e.replace("{value}",null!=t?t:"")}}(t),u.map(r,t)):"function"==typeof t?u.map(i,function(n,r){return t(f.getAxisRawValue(e,n),r)},this):r},f.getAxisRawValue=function(e,t){return"category"===e.type?e.scale.getLabel(t):t},e.exports=f},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array,r={create:function(){var e=new n(6);return r.identity(e),e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],u=t[0]*n[4]+t[2]*n[5]+t[4],a=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=u,e[5]=a,e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var r=t[0],i=t[2],s=t[4],o=t[1],u=t[3],a=t[5],f=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*f,e[1]=-r*f+o*l,e[2]=i*l+u*f,e[3]=-i*f+l*u,e[4]=l*s+f*a,e[5]=l*a-f*s,e},scale:function(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e},invert:function(e,t){var n=t[0],r=t[2],i=t[4],s=t[1],o=t[3],u=t[5],a=n*o-s*r;return a?(a=1/a,e[0]=o*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,e[4]=(r*u-o*i)*a,e[5]=(s*i-n*u)*a,e):null}};e.exports=r},function(e,t,n){"use strict";function r(e){return e>-S&&e<S}function i(e){return e>S||e<-S}function s(e,t,n,r,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*r+3*s*n)}function o(e,t,n,r,i){var s=1-i;return 3*(((t-e)*s+2*(n-t)*i)*s+(r-n)*i*i)}function u(e,t,n,i,s,o){var u=i+3*(t-n)-e,a=3*(n-2*t+e),f=3*(t-e),l=e-s,c=a*a-3*u*f,h=a*f-9*u*l,p=f*f-3*a*l,d=0;if(r(c)&&r(h))if(r(a))o[0]=0;else{var v=-f/a;v>=0&&v<=1&&(o[d++]=v)}else{var m=h*h-4*c*p;if(r(m)){var g=h/c,v=-a/u+g,y=-g/2;v>=0&&v<=1&&(o[d++]=v),y>=0&&y<=1&&(o[d++]=y)}else if(m>0){var b=E(m),S=c*a+1.5*u*(-h+b),x=c*a+1.5*u*(-h-b);S=S<0?-w(-S,N):w(S,N),x=x<0?-w(-x,N):w(x,N);var v=(-a-(S+x))/(3*u);v>=0&&v<=1&&(o[d++]=v)}else{var C=(2*c*a-3*u*h)/(2*E(c*c*c)),k=Math.acos(C)/3,L=E(c),A=Math.cos(k),v=(-a-2*L*A)/(3*u),y=(-a+L*(A+T*Math.sin(k)))/(3*u),O=(-a+L*(A-T*Math.sin(k)))/(3*u);v>=0&&v<=1&&(o[d++]=v),y>=0&&y<=1&&(o[d++]=y),O>=0&&O<=1&&(o[d++]=O)}}return d}function a(e,t,n,s,o){var u=6*n-12*t+6*e,a=9*t+3*s-3*e-9*n,f=3*t-3*e,l=0;if(r(a)){if(i(u)){var c=-f/u;c>=0&&c<=1&&(o[l++]=c)}}else{var h=u*u-4*a*f;if(r(h))o[0]=-u/(2*a);else if(h>0){var p=E(h),c=(-u+p)/(2*a),d=(-u-p)/(2*a);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function f(e,t,n,r,i,s){var o=(t-e)*i+e,u=(n-t)*i+t,a=(r-n)*i+n,f=(u-o)*i+o,l=(a-u)*i+u,c=(l-f)*i+f;s[0]=e,s[1]=o,s[2]=f,s[3]=c,s[4]=c,s[5]=l,s[6]=a,s[7]=r}function l(e,t,n,r,i,o,u,a,f,l,c){var h,p,d,v,m,g=.005,y=1/0;C[0]=f,C[1]=l;for(var w=0;w<1;w+=.05)k[0]=s(e,n,i,u,w),k[1]=s(t,r,o,a,w),v=b(C,k),v<y&&(h=w,y=v);y=1/0;for(var S=0;S<32&&!(g<x);S++)p=h-g,d=h+g,k[0]=s(e,n,i,u,p),k[1]=s(t,r,o,a,p),v=b(k,C),p>=0&&v<y?(h=p,y=v):(L[0]=s(e,n,i,u,d),L[1]=s(t,r,o,a,d),m=b(L,C),d<=1&&m<y?(h=d,y=m):g*=.5);return c&&(c[0]=s(e,n,i,u,h),c[1]=s(t,r,o,a,h)),E(y)}function c(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function h(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function p(e,t,n,s,o){var u=e-2*t+n,a=2*(t-e),f=e-s,l=0;if(r(u)){if(i(a)){var c=-f/a;c>=0&&c<=1&&(o[l++]=c)}}else{var h=a*a-4*u*f;if(r(h)){var c=-a/(2*u);c>=0&&c<=1&&(o[l++]=c)}else if(h>0){var p=E(h),c=(-a+p)/(2*u),d=(-a-p)/(2*u);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function d(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function v(e,t,n,r,i){var s=(t-e)*r+e,o=(n-t)*r+t,u=(o-s)*r+s;i[0]=e,i[1]=s,i[2]=u,i[3]=u,i[4]=o,i[5]=n}function m(e,t,n,r,i,s,o,u,a){var f,l=.005,h=1/0;C[0]=o,C[1]=u;for(var p=0;p<1;p+=.05){k[0]=c(e,n,i,p),k[1]=c(t,r,s,p);var d=b(C,k);d<h&&(f=p,h=d)}h=1/0;for(var v=0;v<32&&!(l<x);v++){var m=f-l,g=f+l;k[0]=c(e,n,i,m),k[1]=c(t,r,s,m);var d=b(k,C);if(m>=0&&d<h)f=m,h=d;else{L[0]=c(e,n,i,g),L[1]=c(t,r,s,g);var y=b(L,C);g<=1&&y<h?(f=g,h=y):l*=.5}}return a&&(a[0]=c(e,n,i,f),a[1]=c(t,r,s,f)),E(h)}var g=n(6),y=g.create,b=g.distSquare,w=Math.pow,E=Math.sqrt,S=1e-8,x=1e-4,T=E(3),N=1/3,C=y(),k=y(),L=y();e.exports={cubicAt:s,cubicDerivativeAt:o,cubicRootAt:u,cubicExtrema:a,cubicSubdivide:f,cubicProjectPoint:l,quadraticAt:c,quadraticDerivativeAt:h,quadraticRootAt:p,quadraticExtremum:d,quadraticSubdivide:v,quadraticProjectPoint:m}},function(e,t,n){"use strict";function r(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function i(e,t,n,r){return n=n||{},r||!l.canvasSupported?s(e,t,n):l.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):s(e,t,n),n}function s(e,t,n){var i=r(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function o(e,t,n){if(t=t||window.event,null!=t.zrX)return t;var r=t.type,s=r&&r.indexOf("touch")>=0;if(s){var o="touchend"!=r?t.targetTouches[0]:t.changedTouches[0];o&&i(e,o,t,n)}else i(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;return t}function u(e,t,n){c?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function a(e,t,n){c?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}var f=n(23),l=n(10),c="undefined"!=typeof window&&!!window.addEventListener,h=c?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};e.exports={clientToLocal:i,normalizeEvent:o,addEventListener:u,removeEventListener:a,stop:h,Dispatcher:f}},function(e,t,n){function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function i(e){return e=Math.round(e),e<0?0:e>360?360:e}function s(e){return e<0?0:e>1?1:e}function o(e){return r(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function u(e){return s(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function f(e,t,n){return e+(t-e)*n}function l(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function h(e,t){C&&c(C,t),C=N.put(e,C||t.slice())}function p(e,t){if(e){t=t||[];var n=N.get(e);if(n)return c(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in T)return c(t,T[r]),h(e,t),t;if("#"!==r.charAt(0)){var i=r.indexOf("("),s=r.indexOf(")");if(i!==-1&&s+1===r.length){var a=r.substr(0,i),f=r.substr(i+1,s-(i+1)).split(","),p=1;switch(a){case"rgba":if(4!==f.length)return void l(t,0,0,0,1);p=u(f.pop());case"rgb":return 3!==f.length?void l(t,0,0,0,1):(l(t,o(f[0]),o(f[1]),o(f[2]),p),h(e,t),t);case"hsla":return 4!==f.length?void l(t,0,0,0,1):(f[3]=u(f[3]),d(f,t),h(e,t),t);case"hsl":return 3!==f.length?void l(t,0,0,0,1):(d(f,t),h(e,t),t);default:return}}l(t,0,0,0,1)}else{if(4===r.length){var v=parseInt(r.substr(1),16);return v>=0&&v<=4095?(l(t,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1),h(e,t),t):void l(t,0,0,0,1)}if(7===r.length){var v=parseInt(r.substr(1),16);return v>=0&&v<=16777215?(l(t,(16711680&v)>>16,(65280&v)>>8,255&v,1),h(e,t),t):void l(t,0,0,0,1)}}}}function d(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=u(e[1]),s=u(e[2]),o=s<=.5?s*(i+1):s+i-s*i,f=2*s-o;return t=t||[],l(t,r(255*a(f,o,n+1/3)),r(255*a(f,o,n)),r(255*a(f,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function v(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),u=Math.max(r,i,s),a=u-o,f=(u+o)/2;if(0===a)t=0,n=0;else{n=f<.5?a/(u+o):a/(2-u-o);var l=((u-r)/6+a/2)/a,c=((u-i)/6+a/2)/a,h=((u-s)/6+a/2)/a;r===u?t=h-c:i===u?t=1/3+l-h:s===u&&(t=2/3+c-l),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,f];return null!=e[3]&&p.push(e[3]),p}}function m(e,t){var n=p(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0;return S(n,4===n.length?"rgba":"rgb")}}function g(e,t){var n=p(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function y(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),u=Math.ceil(i),a=t[o],l=t[u],c=i-o;return n[0]=r(f(a[0],l[0],c)),n[1]=r(f(a[1],l[1],c)),n[2]=r(f(a[2],l[2],c)),n[3]=s(f(a[3],l[3],c)),n}}function b(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),u=Math.ceil(i),a=p(t[o]),l=p(t[u]),c=i-o,h=S([r(f(a[0],l[0],c)),r(f(a[1],l[1],c)),r(f(a[2],l[2],c)),s(f(a[3],l[3],c))],"rgba");return n?{color:h,leftIndex:o,rightIndex:u,value:i}:h}}function w(e,t,n,r){if(e=p(e))return e=v(e),null!=t&&(e[0]=i(t)),null!=n&&(e[1]=u(n)),null!=r&&(e[2]=u(r)),S(d(e),"rgba")}function E(e,t){if(e=p(e),e&&null!=t)return e[3]=s(t),S(e,"rgba")}function S(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}var x=n(72),T={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},N=new x(20),C=null;e.exports={parse:p,lift:m,toHex:g,fastMapToColor:y,mapToColor:b,modifyHSL:w,modifyAlpha:E,stringify:S}},function(e,t){var n=Array.prototype.slice,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(e,t,n){var r=this._$handlers;if(!t||!e)return this;r[e]||(r[e]=[]);for(var i=0;i<r[e].length;i++)if(r[e][i].h===t)return this;return r[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var r=this._$handlers;if(!t||!e)return this;r[e]||(r[e]=[]);for(var i=0;i<r[e].length;i++)if(r[e][i].h===t)return this;return r[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,s=n[e].length;i<s;i++)n[e][i].h!=t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>3&&(t=n.call(t,1));for(var i=this._$handlers[e],s=i.length,o=0;o<s;){switch(r){case 1:i[o].h.call(i[o].ctx);break;case 2:i[o].h.call(i[o].ctx,t[1]);break;case 3:i[o].h.call(i[o].ctx,t[1],t[2]);break;default:i[o].h.apply(i[o].ctx,t)}i[o].one?(i.splice(o,1),s--):o++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>4&&(t=n.call(t,1,t.length-1));for(var i=t[t.length-1],s=this._$handlers[e],o=s.length,u=0;u<o;){switch(r){case 1:s[u].h.call(i);break;case 2:s[u].h.call(i,t[1]);break;case 3:s[u].h.call(i,t[1],t[2]);break;default:s[u].h.apply(i,t)}s[u].one?(s.splice(u,1),o--):u++}}return this}},e.exports=r},function(e,t,n){"use strict";var r=n(3),i=n(12),s=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r+s),e.lineTo(n-i,r+s),e.closePath()}}),o=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r),e.lineTo(n,r+s),e.lineTo(n-i,r),e.closePath()}}),u=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,s=Math.max(i,t.height),o=i/2,u=o*o/(s-o),a=r-s+o+u,f=Math.asin(u/o),l=Math.cos(f)*o,c=Math.sin(f),h=Math.cos(f);e.arc(n,a,o,Math.PI-f,2*Math.PI+f);var p=.6*o,d=.7*o;e.bezierCurveTo(n+l-c*p,a+u+h*p,n,r-d,n,r),e.bezierCurveTo(n,r-d,n-l+c*p,a+u+h*p,n-l,a+u),e.closePath()}}),a=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,s=t.y,o=r/3*2;e.moveTo(i,s),e.lineTo(i+o,s+n),e.lineTo(i,s+n/4*3),e.lineTo(i-o,s+n),e.lineTo(i,s),e.closePath()}}),f={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:o,pin:u,arrow:a,triangle:s},l={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var s=Math.min(n,r);i.x=e,i.y=t,i.width=s,i.height=s},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},c={};for(var h in f)f.hasOwnProperty(h)&&(c[h]=new f[h]);var p=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style,t=this.shape;"pin"===t.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var r=t.symbolType,i=c[r];"none"!==t.symbolType&&(i||(r="rect",i=c[r]),l[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n))}}),d=function(e){if("image"!==this.type){var t=this.style,n=this.shape;n&&"line"===n.symbolType?t.stroke=e:this.__isEmptyBrush?(t.stroke=e,t.fill="#fff"):(t.fill&&(t.fill=e),t.stroke&&(t.stroke=e)),this.dirty(!1)}},v={createSymbol:function(e,t,n,s,o,u){var a=0===e.indexOf("empty");a&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var f;return f=0===e.indexOf("image://")?new r.Image({style:{image:e.slice(8),x:t,y:n,width:s,height:o}}):0===e.indexOf("path://")?r.makePath(e.slice(7),{},new i(t,n,s,o)):new p({shape:{symbolType:e,x:t,y:n,width:s,height:o}}),f.__isEmptyBrush=a,f.setColor=d,f.setColor(u),f}};e.exports=v},function(e,t,n){function r(e,t,n){function r(e,t,n){c[t]?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,m.set(t,!0))}function o(e,t,n){if(n||null!=t.get(e)){for(var r=0;null!=t.get(e+r);)r++;e+=r}return t.set(e,!0),e}t=t||[],n=n||{},e=(e||[]).slice();var p=(n.dimsDef||[]).slice(),d=s.createHashMap(n.encodeDef),v=s.createHashMap(),m=s.createHashMap(),g=[],y=n.dimCount;if(null==y){var b=i(t[0]);y=Math.max(s.isArray(b)&&b.length||1,e.length,p.length),u(e,function(e){var t=e.dimsDef;t&&(y=Math.max(y,t.length))})}for(var w=0;w<y;w++){var E=a(p[w])?{name:p[w]}:p[w]||{},S=E.name,x=g[w]={otherDims:{}};null!=S&&null==v.get(S)&&(x.name=x.tooltipName=S,v.set(S,w)),null!=E.type&&(x.type=E.type)}d.each(function(e,t){e=d.set(t,l(e).slice()),u(e,function(n,i){a(n)&&(n=v.get(n)),null!=n&&n<y&&(e[i]=n,r(g[n],t,i))})});var T=0;u(e,function(e,t){var n,e,i,o;a(e)?(n=e,e={}):(n=e.name,e=s.clone(e),i=e.dimsDef,o=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null);var c=l(d.get(n));if(!c.length)for(var h=0;h<(i&&i.length||1);h++){for(;T<g.length&&null!=g[T].coordDim;)T++;T<g.length&&c.push(T++)}u(c,function(t,s){var u=g[t];r(f(u,e),n,s),null==u.name&&i&&(u.name=u.tooltipName=i[s]),o&&f(u.otherDims,o)})});for(var N=n.extraPrefix||"value",C=0;C<y;C++){var x=g[C]=g[C]||{},k=x.coordDim;null==k&&(x.coordDim=o(N,m,n.extraFromZero),x.coordDimIndex=0,x.isExtraCoord=!0),null==x.name&&(x.name=o(x.coordDim,v)),null==x.type&&h(t,C)&&(x.type="ordinal")}return g}function i(e){return s.isArray(e)?e:s.isObject(e)?e.value:e}var s=n(1),o=n(5),u=s.each,a=s.isString,f=s.defaults,l=o.normalizeToArray,c={tooltip:1,label:1,itemName:1},h=r.guessOrdinal=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=i(e[n]);if(!s.isArray(o))return!1;var o=o[t];if(null!=o&&isFinite(o)&&""!==o)return!1;if(a(o)&&"-"!==o)return!0}return!1};e.exports=r},function(e,t,n){"use strict";function r(){this._coordinateSystems=[]}var i=n(1),s={};r.prototype={constructor:r,create:function(e,t){var n=[];i.each(s,function(r,i){var s=r.create(e,t);n=n.concat(s||[])}),this._coordinateSystems=n},update:function(e,t){i.each(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(e,t){s[e]=t},r.get=function(e){return s[e]},e.exports=r},function(e,t,n){"use strict";var r=n(20),i=n(6),s=n(89),o=n(12),u=n(35).devicePixelRatio,a={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},f=[],l=[],c=[],h=[],p=Math.min,d=Math.max,v=Math.cos,m=Math.sin,g=Math.sqrt,y=Math.abs,b="undefined"!=typeof Float32Array,w=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};w.prototype={constructor:w,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=y(1/u/e)||0,this._uy=y(1/u/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(a.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=y(e-this._xi)>this._ux||y(t-this._yi)>this._uy||this._len<5;return this.addData(a.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,r,i,s){return this.addData(a.C,e,t,n,r,i,s),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,r,i,s):this._ctx.bezierCurveTo(e,t,n,r,i,s)),this._xi=i,this._yi=s,this},quadraticCurveTo:function(e,t,n,r){return this.addData(a.Q,e,t,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},arc:function(e,t,n,r,i,s){return this.addData(a.A,e,t,n,n,r,i-r,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,s),this._xi=v(i)*n+e,this._yi=m(i)*n+e,this},arcTo:function(e,t,n,r,i){return this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},rect:function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(a.R,e,t,n,r),this},closePath:function(){this.addData(a.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!b||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;i<t;i++)n+=e[i].len();b&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var i=0;i<t;i++)for(var s=e[i].data,o=0;o<s.length;o++)this.data[r++]=s[o];this._len=r},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,r,i=this._dashSum,s=this._dashOffset,o=this._lineDash,u=this._ctx,a=this._xi,f=this._yi,l=e-a,c=t-f,h=g(l*l+c*c),v=a,m=f,y=o.length;for(l/=h,c/=h,s<0&&(s=i+s),s%=i,v-=s*l,m-=s*c;l>0&&v<=e||l<0&&v>=e||0==l&&(c>0&&m<=t||c<0&&m>=t);)r=this._dashIdx,n=o[r],v+=l*n,m+=c*n,this._dashIdx=(r+1)%y,l>0&&v<a||l<0&&v>a||c>0&&m<f||c<0&&m>f||u[r%2?"moveTo":"lineTo"](l>=0?p(v,e):d(v,e),c>=0?p(m,t):d(m,t));l=v-e,c=m-t,this._dashOffset=-g(l*l+c*c)},_dashedBezierTo:function(e,t,n,i,s,o){var u,a,f,l,c,h=this._dashSum,p=this._dashOffset,d=this._lineDash,v=this._ctx,m=this._xi,y=this._yi,b=r.cubicAt,w=0,E=this._dashIdx,S=d.length,x=0;for(p<0&&(p=h+p),p%=h,u=0;u<1;u+=.1)a=b(m,e,n,s,u+.1)-b(m,e,n,s,u),f=b(y,t,i,o,u+.1)-b(y,t,i,o,u),w+=g(a*a+f*f);for(;E<S&&(x+=d[E],!(x>p));E++);for(u=(x-p)/w;u<=1;)l=b(m,e,n,s,u),c=b(y,t,i,o,u),E%2?v.moveTo(l,c):v.lineTo(l,c),u+=d[E]/w,E=(E+1)%S;E%2!==0&&v.lineTo(s,o),a=s-l,f=o-c,this._dashOffset=-g(a*a+f*f)},_dashedQuadraticTo:function(e,t,n,r){var i=n,s=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,i,s)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,b&&(this.data=new Float32Array(e)))},getBoundingRect:function(){f[0]=f[1]=c[0]=c[1]=Number.MAX_VALUE,l[0]=l[1]=h[0]=h[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,r=0,u=0,p=0;p<e.length;){var d=e[p++];switch(1==p&&(t=e[p],n=e[p+1],r=t,u=n),d){case a.M:r=e[p++],u=e[p++],t=r,n=u,c[0]=r,c[1]=u,h[0]=r,h[1]=u;break;case a.L:s.fromLine(t,n,e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.C:s.fromCubic(t,n,e[p++],e[p++],e[p++],e[p++],e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.Q:s.fromQuadratic(t,n,e[p++],e[p++],e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.A:var g=e[p++],y=e[p++],b=e[p++],w=e[p++],E=e[p++],S=e[p++]+E,x=(e[p++],1-e[p++]);1==p&&(r=v(E)*b+g,u=m(E)*w+y),s.fromArc(g,y,b,w,E,S,x,c,h),t=v(S)*b+g,n=m(S)*w+y;break;case a.R:r=t=e[p++],u=n=e[p++];var T=e[p++],N=e[p++];s.fromLine(r,u,r+T,u+N,c,h);break;case a.Z:t=r,n=u}i.min(f,f,c),i.max(l,l,h)}return 0===p&&(f[0]=f[1]=l[0]=l[1]=0),new o(f[0],f[1],l[0]-f[0],l[1]-f[1])},rebuildPath:function(e){for(var t,n,r,i,s,o,u=this.data,f=this._ux,l=this._uy,c=this._len,h=0;h<c;){var p=u[h++];switch(1==h&&(r=u[h],i=u[h+1],t=r,n=i),p){case a.M:t=r=u[h++],n=i=u[h++],e.moveTo(r,i);break;case a.L:s=u[h++],o=u[h++],(y(s-r)>f||y(o-i)>l||h===c-1)&&(e.lineTo(s,o),r=s,i=o);break;case a.C:e.bezierCurveTo(u[h++],u[h++],u[h++],u[h++],u[h++],u[h++]),r=u[h-2],i=u[h-1];break;case a.Q:e.quadraticCurveTo(u[h++],u[h++],u[h++],u[h++]),r=u[h-2],i=u[h-1];break;case a.A:var d=u[h++],g=u[h++],b=u[h++],w=u[h++],E=u[h++],S=u[h++],x=u[h++],T=u[h++],N=b>w?b:w,C=b>w?1:b/w,k=b>w?w/b:1,L=Math.abs(b-w)>.001,A=E+S;L?(e.translate(d,g),e.rotate(x),e.scale(C,k),e.arc(0,0,N,E,A,1-T),e.scale(1/C,1/k),e.rotate(-x),e.translate(-d,-g)):e.arc(d,g,N,E,A,1-T),1==h&&(t=v(E)*b+d,n=m(E)*w+g),r=v(A)*b+d,i=m(A)*w+g;break;case a.R:t=r=u[h],n=i=u[h+1],e.rect(u[h++],u[h++],u[h++],u[h++]);break;case a.Z:e.closePath(),r=t,i=n}}}},w.CMD=a,e.exports=w},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}function i(e){var t=r(e);return null!=t&&!c.isArray(d(t))}function s(e,t,n){e=e||[];var r=t.get("coordinateSystem"),s=m[r],o=p.get(r),u={encodeDef:t.get("encode"),dimsDef:t.get("dimensions")},y=s&&s(e,t,n,u),b=y&&y.dimensions;b||(b=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"],b=l(b,e,u));var w=y?y.categoryIndex:-1,E=new f(b,t),S=a(y,e),x={},T=w>=0&&i(e)?function(e,t,n,r){return h.isDataItemOption(e)&&(E.hasItemOption=!0),r===w?n:v(d(e),b[r])}:function(e,t,n,r){var i=d(e),s=v(i&&i[r],b[r]);h.isDataItemOption(e)&&(E.hasItemOption=!0);var o=y&&y.categoryAxesModels;return o&&o[t]&&"string"==typeof s&&(x[t]=x[t]||o[t].getCategories(),s=c.indexOf(x[t],s),s<0&&!isNaN(s)&&(s=+s)),s};return E.hasItemOption=!1,E.initData(e,S,T),E}function o(e){return"category"!==e&&"time"!==e}function u(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function a(e,t){var n,r=[],i=e&&e.dimensions[e.categoryIndex];if(i&&(n=e.categoryAxesModels[i.name]),n){var s=n.getCategories();if(s){var o=t.length;if(c.isArray(t[0])&&t[0].length>1){r=[];for(var u=0;u<o;u++)r[u]=s[t[u][e.categoryIndex||0]]}else r=s.slice(0)}}return r}var f=n(14),l=n(25),c=n(1),h=n(5),p=n(26),d=h.getDataItemValue,v=h.converDataValue,m={cartesian2d:function(e,t,n,r){var i=c.map(["xAxis","yAxis"],function(e){return n.queryComponents({mainType:e,index:t.get(e+"Index"),id:t.get(e+"Id")})[0]}),s=i[0],a=i[1],f=s.get("type"),h=a.get("type"),p=[{name:"x",type:u(f),stackable:o(f)},{name:"y",type:u(h),stackable:o(h)}],d="category"===f,v="category"===h;p=l(p,e,r);var m={};return d&&(m.x=s),v&&(m.y=a),{dimensions:p,categoryIndex:d?0:v?1:-1,categoryAxesModels:m}},singleAxis:function(e,t,n,r){var i=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],s=i.get("type"),a="category"===s,f=[{name:"single",type:u(s),stackable:o(s)}];f=l(f,e,r);var c={};return a&&(c.single=i),{dimensions:f,categoryIndex:a?0:-1,categoryAxesModels:c}},polar:function(e,t,n,r){var i=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],s=i.findAxisModel("angleAxis"),a=i.findAxisModel("radiusAxis"),f=a.get("type"),c=s.get("type"),h=[{name:"radius",type:u(f),stackable:o(f)},{name:"angle",type:u(c),stackable:o(c)}],p="category"===c,d="category"===f;h=l(h,e,r);var v={};return d&&(v.radius=a),p&&(v.angle=s),{dimensions:h,categoryIndex:p?1:d?0:-1,categoryAxesModels:v}},geo:function(e,t,n,r){return{dimensions:l([{name:"lng"},{name:"lat"}],e,r)}}};e.exports=s},,function(e,t,n){function r(){this.group=new o,this.uid=u.getUID("viewChart")}function i(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var n=0;n<e.childCount();n++)i(e.childAt(n),t)}function s(e,t,n){var r=f.queryDataIndex(e,t);null!=r?l.each(f.normalizeToArray(r),function(t){i(e.getItemGraphicEl(t),n)}):e.eachItemGraphicEl(function(e){i(e,n)})}var o=n(36),u=n(50),a=n(15),f=n(5),l=n(1);r.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,r){},highlight:function(e,t,n,r){s(e.getData(),r,"emphasis")},downplay:function(e,t,n,r){s(e.getData(),r,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){}};var c=r.prototype;c.updateView=c.updateLayout=c.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},a.enableClassExtend(r,["dispose"]),a.enableClassManagement(r,{registerWhenExtend:!0}),e.exports=r},function(e,t,n){var r=n(1);e.exports=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n){for(var s={},o=0;o<e.length;o++){var u=e[o][1];if(!(t&&r.indexOf(t,u)>=0||n&&r.indexOf(n,u)<0)){var a=this.getShallow(u);null!=a&&(s[e[o][0]]=a)}}return s}}},function(e,t,n){"use strict";var r=n(3),i=n(1),s=n(2);n(59),n(121),s.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new r.Rect({shape:e.coordinateSystem.getRect(),style:i.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),s.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})},function(e,t,n){function r(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}var i=n(4),s=i.linearMap,o=n(1),u=n(18),a=[0,1],f=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};f.prototype={constructor:f,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return i.getPixelPrecision(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&(n=n.slice(),r(n,i.count())),s(e,a,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(n=n.slice(),r(n,i.count()));var o=s(e,n,a,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],r=0;r<t.length;r++)n.push(t[r][0]);return t[r-1]&&n.push(t[r-1][1]),n}return o.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return o.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),r=e[0],i=e[1],s=i-r,o=0;o<n;o++)t.push([s*o/n+r,s*(o+1)/n+r]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel("axisLabel"),r=n.get("interval");"category"!==this.type||"auto"!==r?e="auto"===r?0:r:this.isHorizontal&&(e=u.getAxisLabelInterval(o.map(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getFont(),this.isHorizontal())),this._labelInterval=e}return e}},e.exports=f},function(e,t,n){function r(e){this._setting=e||{},this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var i=n(15),s=r.prototype;s.parse=function(e){return e},s.getSetting=function(e){return this._setting[e]},s.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},s.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},s.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},s.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},s.unionExtentFromData=function(e,t){this.unionExtent(e.getDataExtent(t,!0))},s.getExtent=function(){return this._extent.slice()},s.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},s.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},s.isBlank=function(){return this._isBlank},s.setBlank=function(e){this._isBlank=e},i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),e.exports=r},function(e,t){var n=1;"undefined"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var r={debugMode:0,devicePixelRatio:n};e.exports=r},function(e,t,n){var r=n(1),i=n(68),s=n(12),o=function(e){e=e||{},i.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof o&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,s=r.indexOf(i,e);return s<0?this:(i.splice(s,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(n)),t&&t.refresh(),this)},removeAll:function(){var e,t,n=this._children,r=this.__storage;for(t=0;t<n.length;t++)e=n[t],r&&(r.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(r)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n];e.call(t,r),"group"===r.type&&r.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof o&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new s(0,0,0,0),r=e||this._children,i=[],o=0;o<r.length;o++){var u=r[o];if(!u.ignore&&!u.invisible){var f=u.getBoundingRect(),l=u.getLocalTransform(i);l?(n.copy(f),n.applyTransform(l),t=t||n.clone(),t.union(n)):(t=t||f.clone(),t.union(f))}}return t||n}},r.inherits(o,i),e.exports=o},function(e,t){var n={},r="\0__throttleOriginMethod",i="\0__throttleRate",s="\0__throttleType";n.throttle=function(e,t,n){function r(){l=(new Date).getTime(),c=null,e.apply(o,u||[])}var i,s,o,u,a,f=0,l=0,c=null;t=t||0;var h=function(){i=(new Date).getTime(),o=this,u=arguments;var e=a||t,h=a||n;a=null,s=i-(h?f:l)-e,clearTimeout(c),h?c=setTimeout(r,e):s>=0?r():c=setTimeout(r,-s),f=i};return h.clear=function(){c&&(clearTimeout(c),c=null)},h.debounceNextCall=function(e){a=e},h},n.createOrUpdate=function(e,t,o,u){var f=e[t];if(f){var l=f[r]||f,c=f[s],h=f[i];if(h!==o||c!==u){if(null==o||!u)return e[t]=l;f=e[t]=n.throttle(l,o,"debounce"===u),f[r]=l,f[s]=u,f[i]=o}return f}},n.clear=function(e,t){var n=e[t];n&&n[r]&&(e[t]=n[r])},e.exports=n},function(e,t,n){function r(e){e=e||{},o.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new s(e.style,this),this._rect=null,this.__clipPaths=[]}var i=n(1),s=n(75),o=n(68),u=n(91);r.prototype={constructor:r,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?o.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new s(e,this),this.dirty(!1),this}},i.inherits(r,o),i.mixin(r,u),e.exports=r},function(e,t){var n=function(e){this.colorStops=e||[]};n.prototype={constructor:n,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},e.exports=n},function(e,t,n){function r(e){if(e){e.font=m.makeFont(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||S[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||x[n]?n:"top";var r=e.textPadding;r&&(e.textPadding=g.normalizeCssArray(e.textPadding))}}function i(e,t,n,r,i){var s=p(t,"font",r.font||m.DEFAULT_FONT),o=r.textPadding,a=e.__textCotentBlock;a&&!e.__dirty||(a=e.__textCotentBlock=m.parsePlainText(n,s,o,r.truncate));var c=a.outerHeight,d=a.lines,g=a.lineHeight,y=h(c,r,i),b=y.baseX,w=y.baseY,E=y.textAlign,S=y.textVerticalAlign;u(t,r,i,b,w);var x=m.adjustTextY(w,c,S),T=b,k=x,L=f(r);if(L||o){var O=m.getWidth(n,s),_=O;o&&(_+=o[1]+o[3]);var D=m.adjustTextX(b,_,E);L&&l(e,t,r,D,x,_,c),o&&(T=v(b,E,o),k+=o[0])}p(t,"textAlign",E||"left"),p(t,"textBaseline","middle"),p(t,"shadowBlur",r.textShadowBlur||0),p(t,"shadowColor",r.textShadowColor||"transparent"),p(t,"shadowOffsetX",r.textShadowOffsetX||0),p(t,"shadowOffsetY",r.textShadowOffsetY||0),k+=g/2;var P=r.textLineWidth,H=N(r.textStroke,P),B=C(r.textFill);H&&(p(t,"lineWidth",P),p(t,"strokeStyle",H)),B&&p(t,"fillStyle",B);for(var j=0;j<d.length;j++)H&&t.strokeText(d[j],T,k),B&&t.fillText(d[j],T,k),k+=g}function s(e,t,n,r,i){var s=e.__textCotentBlock;s&&!e.__dirty||(s=e.__textCotentBlock=m.parseRichText(n,r)),o(e,t,s,r,i)}function o(e,t,n,r,i){var s=n.width,o=n.outerWidth,c=n.outerHeight,p=r.textPadding,d=h(c,r,i),v=d.baseX,g=d.baseY,y=d.textAlign,b=d.textVerticalAlign;u(t,r,i,v,g);var w=m.adjustTextX(v,o,y),E=m.adjustTextY(g,c,b),S=w,x=E;p&&(S+=p[3],x+=p[0]);var T=S+s;f(r)&&l(e,t,r,w,E,o,c);for(var N=0;N<n.lines.length;N++){for(var C,k=n.lines[N],L=k.tokens,A=L.length,O=k.lineHeight,M=k.width,_=0,D=S,P=T,H=A-1;_<A&&(C=L[_],!C.textAlign||"left"===C.textAlign);)a(e,t,C,r,O,x,D,"left"),M-=C.width,D+=C.width,_++;for(;H>=0&&(C=L[H],"right"===C.textAlign);)a(e,t,C,r,O,x,P,"right"),M-=C.width,P-=C.width,H--;for(D+=(s-(D-S)-(T-P)-M)/2;_<=H;)C=L[_],a(e,t,C,r,O,x,D+C.width/2,"center"),D+=C.width,_++;x+=O}}function u(e,t,n,r,i){if(n&&t.textRotation){var s=t.textOrigin;"center"===s?(r=n.width/2+n.x,i=n.height/2+n.y):s&&(r=s[0]+n.x,i=s[1]+n.y),e.translate(r,i),e.rotate(-t.textRotation),e.translate(-r,-i)}}function a(e,t,n,r,i,s,o,u){var a=r.rich[n.styleName]||{},c=n.textVerticalAlign,h=s+i/2;"top"===c?h=s+n.height/2:"bottom"===c&&(h=s+i-n.height/2),!n.isLineHolder&&f(a)&&l(e,t,a,"right"===u?o-n.width:"center"===u?o-n.width/2:o,h-n.height/2,n.width,n.height);var d=n.textPadding;d&&(o=v(o,u,d),h-=n.height/2-d[2]-n.textHeight/2),p(t,"shadowBlur",w(a.textShadowBlur,r.textShadowBlur,0)),p(t,"shadowColor",a.textShadowColor||r.textShadowColor||"transparent"),p(t,"shadowOffsetX",w(a.textShadowOffsetX,r.textShadowOffsetX,0)),p(t,"shadowOffsetY",w(a.textShadowOffsetY,r.textShadowOffsetY,0)),p(t,"textAlign",u),p(t,"textBaseline","middle"),p(t,"font",n.font||m.DEFAULT_FONT);var g=N(a.textStroke||r.textStroke,b),y=C(a.textFill||r.textFill),b=E(a.textLineWidth,r.textLineWidth);g&&(p(t,"lineWidth",b),p(t,"strokeStyle",g),t.strokeText(n.text,o,h)),y&&(p(t,"fillStyle",y),t.fillText(n.text,o,h))}function f(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function l(e,t,n,r,i,s,o){var u=n.textBackgroundColor,a=n.textBorderWidth,f=n.textBorderColor,l=g.isString(u);if(p(t,"shadowBlur",n.textBoxShadowBlur||0),p(t,"shadowColor",n.textBoxShadowColor||"transparent"),p(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),p(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),l||a&&f){t.beginPath();var h=n.textBorderRadius;h?y.buildPath(t,{x:r,y:i,width:s,height:o,r:h}):t.rect(r,i,s,o),t.closePath()}if(l)p(t,"fillStyle",u),t.fill();else if(g.isObject(u)){var d=u.image;d=b.createOrUpdateImage(d,null,e,c,u),d&&b.isImageReady(d)&&t.drawImage(d,r,i,s,o)}a&&f&&(p(t,"lineWidth",a),p(t,"strokeStyle",f),t.stroke())}function c(e,t){t.image=e}function h(e,t,n){var r=t.x||0,i=t.y||0,s=t.textAlign,o=t.textVerticalAlign;if(n){var u=t.textPosition;if(u instanceof Array)r=n.x+d(u[0],n.width),i=n.y+d(u[1],n.height);else{var a=m.adjustTextPositionOnRect(u,n,t.textDistance);r=a.x,i=a.y,s=s||a.textAlign,o=o||a.textVerticalAlign}var f=t.textOffset;f&&(r+=f[0],i+=f[1])}return{baseX:r,baseY:i,textAlign:s,textVerticalAlign:o}}function p(e,t,n){return e[t]=e.__currentValues[t]=n,e[t]}function d(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function v(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}var m=n(16),g=n(1),y=n(78),b=n(53),w=g.retrieve3,E=g.retrieve2,S={left:1,right:1,center:1},x={top:1,bottom:1,middle:1},T={};T.normalizeTextStyle=function(e){return r(e),g.each(e.rich,r),e},T.renderText=function(e,t,n,r,o){r.rich?s(e,t,n,r,o):i(e,t,n,r,o)};var N=T.getStroke=function(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e},C=T.getFill=function(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e};T.needDrawText=function(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)},e.exports=T},function(e,t,n){function r(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function i(e,t,n,r){var i,s,o=p(n-e.rotation),u=r[0]>r[1],a="start"===t&&!u||"start"!==t&&u;return d(o-b/2)?(s=a?"bottom":"top",i="center"):d(o-1.5*b)?(s=a?"top":"bottom",i="center"):(s="middle",i=o<1.5*b&&o>b/2?a?"left":"right":a?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:s}}function s(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function o(e,t){var n=e.get("axisLabel.showMinLabel"),r=e.get("axisLabel.showMaxLabel"),i=t[0],s=t[1],o=t[t.length-1],a=t[t.length-2];n===!1?i.ignore=!0:null!=e.getMin()&&u(i,s)&&(n?s.ignore=!0:i.ignore=!0),r===!1?o.ignore=!0:null!=e.getMax()&&u(a,o)&&(r?a.ignore=!0:o.ignore=!0)}function u(e,t,n){var r=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(r&&i){var s=m.identity([]);return m.rotate(s,s,-e.rotation),r.applyTransform(m.mul([],s,e.getLocalTransform())),i.applyTransform(m.mul([],s,t.getLocalTransform())),r.intersect(i)}}var a=n(1),f=n(7),l=n(3),c=n(11),h=n(4),p=h.remRadian,d=h.isRadianAroundZero,v=n(6),m=n(19),g=v.applyTransform,y=a.retrieve,b=Math.PI,w=function(e,t){this.opt=t,this.axisModel=e,a.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var n=new l.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};w.prototype={constructor:w,hasBuilder:function(e){return!!E[e]},add:function(e){E[e].call(this)},getGroup:function(){return this.group}};var E={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],s=[n[1],0];r&&(g(i,i,r),g(s,s,r)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"line",shape:{x1:i[0],y1:i[1],x2:s[0],y2:s[1]},style:a.extend({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var e=this.axisModel,t=e.axis;if(e.get("axisTick.show")&&!t.scale.isBlank())for(var n=e.getModel("axisTick"),r=this.opt,i=n.getModel("lineStyle"),s=n.get("length"),o=T(n,r.labelInterval),u=t.getTicksCoords(n.get("alignWithLabel")),f=t.scale.getTicks(),c=[],h=[],p=this._transform,d=0;d<u.length;d++)if(!x(t,d,o)){var v=u[d];c[0]=v,c[1]=0,h[0]=v,h[1]=r.tickDirection*s,p&&(g(c,c,p),g(h,h,p)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"tick_"+f[d],shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:a.defaults(i.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){var e=this.opt,t=this.axisModel,n=t.axis,i=y(e.axisLabelShow,t.get("axisLabel.show"));if(i&&!n.scale.isBlank()){var u=t.getModel("axisLabel"),f=u.get("margin"),h=n.scale.getTicks(),p=t.getFormattedLabels(),d=(y(e.labelRotate,u.get("rotate"))||0)*b/180,v=S(e.rotation,d,e.labelDirection),m=t.get("data"),g=[],w=s(t),E=t.get("triggerEvent");a.each(h,function(i,s){if(!x(n,s,e.labelInterval)){var o=u;m&&m[i]&&m[i].textStyle&&(o=new c(m[i].textStyle,u,t.ecModel));var a=o.getTextColor()||t.get("axisLine.lineStyle.color"),h=n.dataToCoord(i),d=[h,e.labelOffset+e.labelDirection*f],y=n.scale.getLabel(i),b=new l.Text({anid:"label_"+i,position:d,rotation:v.rotation,silent:w,z2:10});l.setTextStyle(b.style,o,{text:p[s],textAlign:o.getShallow("align",!0)||v.textAlign,textVerticalAlign:o.getShallow("verticalAlign",!0)||o.getShallow("baseline",!0)||v.textVerticalAlign,textFill:"function"==typeof a?a("category"===n.type?y:"value"===n.type?i+"":i,s):a}),E&&(b.eventData=r(t),b.eventData.targetType="axisLabel",b.eventData.value=y),this._dumbGroup.add(b),b.updateTransform(),g.push(b),this.group.add(b),b.decomposeTransform()}},this),o(t,g)}},axisName:function(){var e=this.opt,t=this.axisModel,n=y(e.axisName,t.get("name"));if(n){var o,u=t.get("nameLocation"),c=e.nameDirection,h=t.getModel("nameTextStyle"),p=t.get("nameGap")||0,d=this.axisModel.axis.getExtent(),v=d[0]>d[1]?-1:1,m=["start"===u?d[0]-v*p:"end"===u?d[1]+v*p:(d[0]+d[1])/2,"middle"===u?e.labelOffset+c*p:0],g=t.get("nameRotate");null!=g&&(g=g*b/180);var w;"middle"===u?o=S(e.rotation,null!=g?g:e.rotation,c):(o=i(e,u,g||0,d),w=e.axisNameAvailableWidth,null!=w&&(w=Math.abs(w/Math.sin(o.rotation)),!isFinite(w)&&(w=null)));var E=h.getFont(),x=t.get("nameTruncate",!0)||{},T=x.ellipsis,N=y(e.nameTruncateMaxWidth,x.maxWidth,w),C=null!=T&&null!=N?f.truncateText(n,N,E,T,{minChar:2,placeholder:x.placeholder}):n,k=t.get("tooltip",!0),L=t.mainType,A={componentType:L,name:n,$vars:["name"]};A[L+"Index"]=t.componentIndex;var O=new l.Text({anid:"name",__fullText:n,__truncatedText:C,position:m,rotation:o.rotation,silent:s(t),z2:1,tooltip:k&&k.show?a.extend({content:n,formatter:function(){return n},formatterParams:A},k):null});l.setTextStyle(O.style,h,{text:C,textFont:E,textFill:h.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:o.textAlign,textVerticalAlign:o.textVerticalAlign}),t.get("triggerEvent")&&(O.eventData=r(t),O.eventData.targetType="axisName",O.eventData.name=n),this._dumbGroup.add(O),O.updateTransform(),this.group.add(O),O.decomposeTransform()}}},S=w.innerTextLayout=function(e,t,n){var r,i,s=p(t-e);return d(s)?(i=n>0?"top":"bottom",r="center"):d(s-b)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=s>0&&s<b?n>0?"right":"left":n>0?"left":"right"),{rotation:s,textAlign:r,textVerticalAlign:i}},x=w.ifIgnoreOnTick=function(e,t,n){var r,i=e.scale;return"ordinal"===i.type&&("function"==typeof n?(r=i.getTicks()[t],!n(r,i.getLabel(r))):t%(n+1))},T=w.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n};e.exports=w},function(e,t,n){function r(e,t,n,r,u,f){var l=o.getAxisPointerClass(e.axisPointerClass);if(l){var c=s.getAxisPointerModel(t);c?(e._axisPointer||(e._axisPointer=new l)).render(t,c,r,f):i(e,r)}}function i(e,t,n){var r=e._axisPointer;r&&r.dispose(t,n),e._axisPointer=null}var s=n(47),o=n(2).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&s.fixValue(e),o.superApply(this,"render",arguments),r(this,e,t,n,i,!0)},updateAxisPointer:function(e,t,n,i,s){r(this,e,t,n,i,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),o.superApply(this,"remove",arguments)},dispose:function(e,t){i(this,t),o.superApply(this,"dispose",arguments)}}),u=[];o.registerAxisPointerClass=function(e,t){u[e]=t},o.getAxisPointerClass=function(e){return e&&u[e]},e.exports=o},function(e,t,n){function r(e){return i.isObject(e)&&null!=e.value?e.value:e+""}var i=n(1),s=n(18);e.exports={getFormattedLabels:function(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&i.map(this.get("data"),r)},getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:i.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(e,t){"use strict";function n(e){return e}function r(e,t,r,i,s){this._old=e,this._new=t,this._oldKeyGetter=r||n,this._newKeyGetter=i||n,this.context=s}function i(e,t,n,r,i){for(var s=0;s<e.length;s++){var o="_ec_"+i[r](e[s],s),u=t[o];null==u?(n.push(o),t[o]=s):(u.length||(t[o]=u=[u]),u.push(s))}}r.prototype={constructor:r,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,n=this._new,r={},s={},o=[],u=[];for(i(t,r,o,"_oldKeyGetter",this),i(n,s,u,"_newKeyGetter",this),e=0;e<t.length;e++){var a=o[e],f=s[a];if(null!=f){var l=f.length;l?(1===l&&(s[a]=null),f=f.unshift()):s[a]=null,this._update&&this._update(f,e)}else this._remove&&this._remove(e)}for(var e=0;e<u.length;e++){var a=u[e];if(s.hasOwnProperty(a)){var f=s[a];if(null==f)continue;if(f.length)for(var c=0,l=f.length;c<l;c++)this._add&&this._add(f[c]);else this._add&&this._add(f)}}}},e.exports=r},function(e,t,n){var r=n(4),i=n(7),s=n(34),o=n(66),u=r.round,a=s.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),a.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(e)},getTicks:function(){return o.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=r.getPrecisionSafe(e)||0:"auto"===n&&(n=this._intervalPrecision),e=u(e,n,!0),i.addCommas(e)},niceTicks:function(e,t,n){e=e||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var s=o.intervalScaleNiceTicks(r,e,t,n);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax?t[0]-=n/2:(t[1]+=n/2,t[0]-=n/2)}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=u(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=u(Math.ceil(t[1]/i)*i))}});a.create=function(){return new a},e.exports=a},function(e,t,n){function r(e){this.group=new s.Group,this._symbolCtor=e||o}function i(e,t,n){var r=e.getItemLayout(t);return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(n&&n(t))&&"none"!==e.getItemVisual(t,"symbol")}var s=n(3),o=n(56),u=r.prototype;u.updateData=function(e,t){var n=this.group,r=e.hostModel,o=this._data,u=this._symbolCtor,f={itemStyle:r.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:r.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:r.get("symbolRotate"),symbolOffset:r.get("symbolOffset"),hoverAnimation:r.get("hoverAnimation"),labelModel:r.getModel("label.normal"),hoverLabelModel:r.getModel("label.emphasis"),cursorStyle:r.get("cursor")};e.diff(o).add(function(r){var s=e.getItemLayout(r);if(i(e,r,t)){var o=new u(e,r,f);o.attr("position",s),e.setItemGraphicEl(r,o),n.add(o)}}).update(function(c,h){var p=o.getItemGraphicEl(h),d=e.getItemLayout(c);return i(e,c,t)?(p?(p.updateData(e,c,f),s.updateProps(p,{position:d},r)):(p=new u(e,c),p.attr("position",d)),n.add(p),void e.setItemGraphicEl(c,p)):void n.remove(p)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute(),this._data=e},u.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var r=e.getItemLayout(n);t.attr("position",r)})},u.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll())},e.exports=r},function(e,t,n){function r(e,t,n){var r=t.getComponent("tooltip"),s=t.getComponent("axisPointer"),u=s.get("link",!0)||[],f=[];c(n.getCoordinateSystems(),function(n){function l(r,l,c){var h=c.model.getModel("axisPointer",s),p=h.get("show");if(p&&("auto"!==p||r||a(h))){null==l&&(l=h.get("triggerTooltip")),h=r?i(c,g,s,t,r,l):h;var m=h.get("snap"),y=d(c.model),b=l||m||"category"===c.type,w=e.axesInfo[y]={key:y,axis:c,coordSys:n,axisPointerModel:h,triggerTooltip:l,involveSeries:b,snap:m,useHandle:a(h),seriesModels:[]};v[y]=w,e.seriesInvolved|=b;var E=o(u,c);if(null!=E){var S=f[E]||(f[E]={axesInfo:{}});S.axesInfo[y]=w,S.mapper=u[E].mapper,w.linkGroup=S}}}if(n.axisPointerEnabled){var p=d(n.model),v=e.coordSysAxesInfo[p]={};e.coordSysMap[p]=n;var m=n.model,g=m.getModel("tooltip",r);if(c(n.getAxes(),h(l,!1,null)),n.getTooltipAxes&&r&&g.get("show")){var y="axis"===g.get("trigger"),b="cross"===g.get("axisPointer.type"),w=n.getTooltipAxes(g.get("axisPointer.axis"));(y||b)&&c(w.baseAxes,h(l,!b||"cross",y)),b&&c(w.otherAxes,h(l,"cross",!1))}}})}function i(e,t,n,r,i,s){var o=t.getModel("axisPointer"),u={};c(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){u[e]=f.clone(o.get(e))}),u.snap="category"!==e.type&&!!s,"cross"===o.get("type")&&(u.type="line");var a=u.label||(u.label={});if(null==a.show&&(a.show=!1),"cross"===i&&(a.show=!0,!s)){var h=u.lineStyle=o.get("crossStyle");h&&f.defaults(a,h.textStyle)}return e.model.getModel("axisPointer",new l(u,n,r))}function s(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,r=t.get("tooltip.trigger",!0),i=t.get("tooltip.show",!0);n&&"none"!==r&&r!==!1&&"item"!==r&&i!==!1&&t.get("axisPointer.show",!0)!==!1&&c(e.coordSysAxesInfo[d(n.model)],function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}function o(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var s=e[i]||{};if(u(s[r+"AxisId"],n.id)||u(s[r+"AxisIndex"],n.componentIndex)||u(s[r+"AxisName"],n.name))return i}}function u(e,t){return"all"===e||f.isArray(e)&&f.indexOf(e,t)>=0||e===t}function a(e){return!!e.get("handle.show")}var f=n(1),l=n(11),c=f.each,h=f.curry,p={};p.collect=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r(n,e,t),n.seriesInvolved&&s(n,e),n},p.fixValue=function(e){var t=p.getAxisInfo(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,s=n.get("status"),o=n.get("value");null!=o&&(o=r.parse(o));var u=a(n);null==s&&(i.status=u?"show":"hide");var f=r.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==o||o>f[1])&&(o=f[1]),o<f[0]&&(o=f[0]),i.value=o,u&&(i.status=t.axis.scale.isBlank()?"hide":"show")}},p.getAxisInfo=function(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[d(e)]},p.getAxisPointerModel=function(e){var t=p.getAxisInfo(e);return t&&t.axisPointerModel};var d=p.makeKey=function(e){return e.type+"||"+e.id};e.exports=p},,,function(e,t,n){var r=n(1),i=n(15),s=i.parseClassType,o=0,u={},a="_";u.getUID=function(e){return[e||"",o++,Math.random()].join(a)},u.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=s(e),t[e.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var o=s(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](r))}return i},e},u.enableTopologicalTravel=function(e,t){function n(e){var n={},o=[];return r.each(e,function(u){var a=i(n,u),f=a.originalDeps=t(u),l=s(f,e);a.entryCount=l.length,0===a.entryCount&&o.push(u),r.each(l,function(e){r.indexOf(a.predecessor,e)<0&&a.predecessor.push(e);var t=i(n,e);r.indexOf(t.successor,e)<0&&t.successor.push(u)})}),{graph:n,noEntryList:o}}function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function s(e,t){var n=[];return r.each(e,function(e){r.indexOf(t,e)>=0&&n.push(e)}),n}e.topologicalTravel=function(e,t,i,s){function o(e){f[e].entryCount--,0===f[e].entryCount&&l.push(e)}function u(e){c[e]=!0,o(e)}if(e.length){var a=n(t),f=a.graph,l=a.noEntryList,c={};for(r.each(e,function(e){c[e]=!0});l.length;){var h=l.pop(),p=f[h],d=!!c[h];d&&(i.call(s,h,p.originalDeps.slice()),delete c[h]),r.each(p.successor,d?u:o)}r.each(c,function(){throw new Error("Circle dependency may exists")})}}},e.exports=u},function(e,t){e.exports=function(e,t,n,r,i){r.eachRawSeriesByType(e,function(e){var i=e.getData(),s=e.get("symbol")||t,o=e.get("symbolSize");i.setVisual({legendSymbol:n||s,symbol:s,symbolSize:o}),r.isSeriesFiltered(e)||("function"==typeof o&&i.each(function(t){var n=e.getRawValue(t),r=e.getDataParams(t);i.setItemVisual(t,"symbolSize",o(n,r))}),i.each(function(e){var t=i.getItemModel(e),n=t.getShallow("symbol",!0),r=t.getShallow("symbolSize",!0);null!=n&&i.setItemVisual(e,"symbol",n),null!=r&&i.setItemVisual(e,"symbolSize",r)}))})}},function(e,t){function n(e){for(var t=0;e>=l;)t|=1&e,e>>=1;return e+t}function r(e,t,n,r){var s=t+1;if(s===n)return 1;if(r(e[s++],e[t])<0){for(;s<n&&r(e[s],e[s-1])<0;)s++;i(e,t,s)}else for(;s<n&&r(e[s],e[s-1])>=0;)s++;return s-t}function i(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function s(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var s,o=e[r],u=t,a=r;u<a;)s=u+a>>>1,i(o,e[s])<0?a=s:u=s+1;var f=r-u;switch(f){case 3:e[u+3]=e[u+2];case 2:e[u+2]=e[u+1];case 1:e[u+1]=e[u];break;default:for(;f>0;)e[u+f]=e[u+f-1],f--}e[u]=o}}function o(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])>0){for(u=r-i;a<u&&s(e,t[n+i+a])>0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),o+=i,a+=i}else{for(u=i+1;a<u&&s(e,t[n+i-a])<=0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}for(o++;o<a;){var l=o+(a-o>>>1);s(e,t[n+l])>0?o=l+1:a=l}return a}function u(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])<0){for(u=i+1;a<u&&s(e,t[n+i-a])<0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}else{for(u=r-i;a<u&&s(e,t[n+i+a])>=0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),o+=i,a+=i}for(o++;o<a;){var l=o+(a-o>>>1);s(e,t[n+l])<0?a=l:o=l+1}return a}function a(e,t){function n(e,t){l[y]=e,p[y]=t,y+=1}function r(){for(;y>1;){var e=y-2;if(e>=1&&p[e-1]<=p[e]+p[e+1]||e>=2&&p[e-2]<=p[e]+p[e-1])p[e-1]<p[e+1]&&e--;else if(p[e]>p[e+1])break;s(e)}}function i(){for(;y>1;){var e=y-2;e>0&&p[e-1]<p[e+1]&&e--,s(e)}}function s(n){var r=l[n],i=p[n],s=l[n+1],c=p[n+1];p[n]=i+c,n===y-3&&(l[n+1]=l[n+2],p[n+1]=p[n+2]),y--;var h=u(e[s],e,r,i,0,t);r+=h,i-=h,0!==i&&(c=o(e[r+i-1],e,s,c,c-1,t),0!==c&&(i<=c?a(r,i,s,c):f(r,i,s,c)))}function a(n,r,i,s){var a=0;for(a=0;a<r;a++)b[a]=e[n+a];var f=0,l=i,h=n;if(e[h++]=e[l++],0!==--s){if(1===r){for(a=0;a<s;a++)e[h+a]=e[l+a];return void (e[h+s]=b[f])}for(var p,v,m,g=d;;){p=0,v=0,m=!1;do if(t(e[l],b[f])<0){if(e[h++]=e[l++],v++,p=0,0===--s){m=!0;break}}else if(e[h++]=b[f++],p++,v=0,1===--r){m=!0;break}while((p|v)<g);if(m)break;do{if(p=u(e[l],b,f,r,0,t),0!==p){for(a=0;a<p;a++)e[h+a]=b[f+a];if(h+=p,f+=p,r-=p,r<=1){m=!0;break}}if(e[h++]=e[l++],0===--s){m=!0;break}if(v=o(b[f],e,l,s,0,t),0!==v){for(a=0;a<v;a++)e[h+a]=e[l+a];if(h+=v,l+=v,s-=v,0===s){m=!0;break}}if(e[h++]=b[f++],1===--r){m=!0;break}g--}while(p>=c||v>=c);if(m)break;g<0&&(g=0),g+=2}if(d=g,d<1&&(d=1),1===r){for(a=0;a<s;a++)e[h+a]=e[l+a];e[h+s]=b[f]}else{if(0===r)throw new Error;for(a=0;a<r;a++)e[h+a]=b[f+a]}}else for(a=0;a<r;a++)e[h+a]=b[f+a]}function f(n,r,i,s){var a=0;for(a=0;a<s;a++)b[a]=e[i+a];var f=n+r-1,l=s-1,h=i+s-1,p=0,v=0;if(e[h--]=e[f--],0!==--r){if(1===s){for(h-=r,f-=r,v=h+1,p=f+1,a=r-1;a>=0;a--)e[v+a]=e[p+a];return void (e[h]=b[l])}for(var m=d;;){var g=0,y=0,w=!1;do if(t(b[l],e[f])<0){if(e[h--]=e[f--],g++,y=0,0===--r){w=!0;break}}else if(e[h--]=b[l--],y++,g=0,1===--s){w=!0;break}while((g|y)<m);if(w)break;do{if(g=r-u(b[l],e,n,r,r-1,t),0!==g){for(h-=g,f-=g,r-=g,v=h+1,p=f+1,a=g-1;a>=0;a--)e[v+a]=e[p+a];if(0===r){w=!0;break}}if(e[h--]=b[l--],1===--s){w=!0;break}if(y=s-o(e[f],b,0,s,s-1,t),0!==y){for(h-=y,l-=y,s-=y,v=h+1,p=l+1,a=0;a<y;a++)e[v+a]=b[p+a];if(s<=1){w=!0;break}}if(e[h--]=e[f--],0===--r){w=!0;break}m--}while(g>=c||y>=c);if(w)break;m<0&&(m=0),m+=2}if(d=m,d<1&&(d=1),1===s){for(h-=r,f-=r,v=h+1,p=f+1,a=r-1;a>=0;a--)e[v+a]=e[p+a];e[h]=b[l]}else{if(0===s)throw new Error;for(p=h-(s-1),a=0;a<s;a++)e[p+a]=b[a]}}else for(p=h-(s-1),a=0;a<s;a++)e[p+a]=b[a]}var l,p,d=c,v=0,m=h,g=0,y=0;v=e.length,v<2*h&&(m=v>>>1);var b=[];g=v<120?5:v<1542?10:v<119151?19:40,l=[],p=[],this.mergeRuns=r,this.forceMergeRuns=i,this.pushRun=n}function f(e,t,i,o){i||(i=0),o||(o=e.length);var u=o-i;if(!(u<2)){var f=0;if(u<l)return f=r(e,i,o,t),void s(e,i,o,i+f,t);var c=new a(e,t),h=n(u);do{if(f=r(e,i,o,t),f<h){var p=u;p>h&&(p=h),s(e,i,i+p,i+f,t),f=p}c.pushRun(i,f),c.mergeRuns(),u-=f,i+=f}while(0!==u);c.forceMergeRuns()}}var l=32,c=7,h=256;e.exports=f},function(e,t,n){function r(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}var i=n(72),s=new i(50),o={};o.findExistImage=function(e){if("string"==typeof e){var t=s.get(e);return t&&t.image}return e},o.createOrUpdateImage=function(e,t,n,i,o){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var f=s.get(e),l={hostEl:n,cb:i,cbPayload:o};return f?(t=f.image,!u(t)&&f.pending.push(l)):(!t&&(t=new Image),t.onload=r,s.put(e,t.__cachedImgObj={image:t,pending:[l]}),t.src=t.__zrImageSrc=e),t}return e}return t};var u=o.isImageReady=function(e){return e&&e.width&&e.height};e.exports=o},function(e,t,n){var r=n(35);e.exports=function(){if(0!==r.debugMode)if(1==r.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(r.debugMode>1)for(var e in arguments)console.log(arguments[e])}},function(e,t,n){function r(e){i.call(this,e)}var i=n(38),s=n(12),o=n(1),u=n(53);r.prototype={constructor:r,type:"image",brush:function(e,t){var n=this.style,r=n.image;n.bind(e,this,t);var i=this._image=u.createOrUpdateImage(r,this._image,this);if(i&&u.isImageReady(i)){var s=n.x||0,o=n.y||0,a=n.width,f=n.height,l=i.width/i.height;if(null==a&&null!=f?a=f*l:null==f&&null!=a?f=a/l:null==a&&null==f&&(a=i.width,f=i.height),this.setTransform(e),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;e.drawImage(i,c,h,n.sWidth,n.sHeight,s,o,a,f)}else if(n.sx&&n.sy){var c=n.sx,h=n.sy,p=a-c,d=f-h;e.drawImage(i,c,h,p,d,s,o,a,f)}else e.drawImage(i,s,o,a,f);this.restoreTransform(e),null!=n.text&&this.drawRectText(e,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new s(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},o.inherits(r,i),e.exports=r},function(e,t,n){function r(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}function i(e){return[e[0]/2,e[1]/2]}function s(e,t,n){f.Group.call(this),this.updateData(e,t,n)}function o(e,t){this.parent.drift(e,t)}var u=n(1),a=n(24),f=n(3),l=n(4),c=n(96),h=s.prototype;h._createSymbol=function(e,t,n,r){this.removeAll();var s=t.hostModel,u=t.getItemVisual(n,"color"),l=a.createSymbol(e,-1,-1,2,2,u);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=o,f.initProps(l,{scale:i(r)},s,n),this._symbolType=e,this.add(l)},h.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},h.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},h.updateData=function(e,t,n){this.silent=!1;var s=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,u=r(e,t);if(s!==this._symbolType)this._createSymbol(s,e,t,u);else{var a=this.childAt(0);a.silent=!1,f.updateProps(a,{scale:i(u)},o,t)}this._updateCommon(e,t,u,n),this._seriesModel=o};var p=["itemStyle","normal"],d=["itemStyle","emphasis"],v=["label","normal"],m=["label","emphasis"];h._updateCommon=function(e,t,n,r){var s=this.childAt(0),o=e.hostModel,a=e.getItemVisual(t,"color");"image"!==s.type&&s.useStyle({strokeNoScale:!0}),r=r||null;var h=r&&r.itemStyle,y=r&&r.hoverItemStyle,b=r&&r.symbolRotate,w=r&&r.symbolOffset,E=r&&r.labelModel,S=r&&r.hoverLabelModel,x=r&&r.hoverAnimation,T=r&&r.cursorStyle;if(!r||e.hasItemOption){var N=e.getItemModel(t);h=N.getModel(p).getItemStyle(["color"]),y=N.getModel(d).getItemStyle(),b=N.getShallow("symbolRotate"),w=N.getShallow("symbolOffset"),E=N.getModel(v),S=N.getModel(m),x=N.getShallow("hoverAnimation"),T=N.getShallow("cursor")}else y=u.extend({},y);var C=s.style;s.attr("rotation",(b||0)*Math.PI/180||0),w&&s.attr("position",[l.parsePercent(w[0],n[0]),l.parsePercent(w[1],n[1])]),T&&s.attr("cursor",T),s.setColor(a),s.setStyle(h);var k=e.getItemVisual(t,"opacity");null!=k&&(C.opacity=k);var L=c.findLabelValueDim(e);null!=L&&f.setLabelStyle(C,y,E,S,{labelFetcher:o,labelDataIndex:t,defaultText:e.get(L,t),isRectText:!0,autoColor:a}),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.hoverStyle=y,f.setHoverStyle(s);var A=i(n);if(x&&o.isAnimationEnabled()){var O=function(){var e=A[1]/A[0];this.animateTo({scale:[Math.max(1.1*A[0],A[0]+3),Math.max(1.1*A[1],A[1]+3*e)]},400,"elasticOut")},M=function(){this.animateTo({scale:A},400,"elasticOut")};s.on("mouseover",O).on("mouseout",M).on("emphasis",O).on("normal",M)}},h.fadeOut=function(e){var t=this.childAt(0);this.silent=t.silent=!0,t.style.text=null,f.updateProps(t,{scale:[0,0]},this._seriesModel,this.dataIndex,e)},u.inherits(s,f.Group),e.exports=s},,,function(e,t,n){function r(e,t,n){return e.getCoordSysModel()===t}function i(e){var t,n=e.model,r=n.getFormattedLabels(),i=n.getModel("axisLabel"),s=1,o=r.length;o>40&&(s=Math.ceil(o/40));for(var u=0;u<o;u+=s)if(!e.isLabelIgnored(u)){var a=i.getTextRect(r[u]);t?t.union(a):t=a}return t}function s(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function o(e,t,n){var r=e[t];if(n.onZero){var i=n.onZeroAxisIndex;if(null!=i){var s=r[i];return void (s&&u(s)&&(n.onZero=!1))}for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];if(s&&!u(s)){i=+o;break}}null==i&&(n.onZero=!1),n.onZeroAxisIndex=i}}function u(e){return"category"===e.type||"time"===e.type||!g(e)}function a(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}function f(e,t){return p.map(w,function(t){var n=e.getReferringComponents(t)[0];return n})}function l(e){return"cartesian2d"===e.get("coordinateSystem")}var c=n(9),h=n(18),p=n(1),d=n(139),v=n(137),m=p.each,g=h.ifAxisCrossZero,y=h.niceScaleExtent;n(140);var b=s.prototype;b.type="grid",b.axisPointerEnabled=!0,b.getRect=function(){return this._rect},b.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),m(n.x,function(e){y(e.scale,e.model)}),m(n.y,function(e){y(e.scale,e.model)}),m(n.x,function(e){o(n,"y",e)}),m(n.y,function(e){o(n,"x",e)}),this.resize(this.model,t)},b.resize=function(e,t,n){function r(){m(o,function(e){var t=e.isHorizontal(),n=t?[0,s.width]:[0,s.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),a(e,t?s.x:s.y)})}var s=c.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;r(),!n&&e.get("containLabel")&&(m(o,function(e){if(!e.model.get("axisLabel.inside")){var t=i(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get("axisLabel.margin");s[n]-=t[n]+r,"top"===e.position?s.y+=t.height+r:"left"===e.position&&(s.x+=t.width+r)}}}),r())},b.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[t]}},b.getAxes=function(){return this._axesList.slice()},b.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}p.isObject(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===t)return i[r]},b.getCartesians=function(){return this._coordsList.slice()},b.convertToPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},b.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},b._findConvertTarget=function(e,t){var n,r,i=t.seriesModel,s=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],u=t.gridModel,a=this._coordsList;if(i)n=i.coordinateSystem,p.indexOf(a,n)<0&&(n=null);else if(s&&o)n=this.getCartesian(s.componentIndex,o.componentIndex);else if(s)r=this.getAxis("x",s.componentIndex);else if(o)r=this.getAxis("y",o.componentIndex);else if(u){var f=u.coordinateSystem;f===this&&(n=this._coordsList[0])}return{cartesian:n,axis:r}},b.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},b._initCartesian=function(e,t,n){function i(n){return function(i,a){if(r(i,e,t)){var f=i.get("position");"x"===n?"top"!==f&&"bottom"!==f&&(f="bottom",s[f]&&(f="top"===f?"bottom":"top")):"left"!==f&&"right"!==f&&(f="left",s[f]&&(f="left"===f?"right":"left")),s[f]=!0;var l=new v(n,h.createScaleByModel(i),[0,0],i.get("type"),f),c="category"===l.type;l.onBand=c&&i.get("boundaryGap"),l.inverse=i.get("inverse"),l.onZero=i.get("axisLine.onZero"),l.onZeroAxisIndex=i.get("axisLine.onZeroAxisIndex"),i.axis=l,l.model=i,l.grid=this,l.index=a,this._axesList.push(l),o[n][a]=l,u[n]++}}}var s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},u={x:0,y:0};return t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),u.x&&u.y?(this._axesMap=o,void m(o.x,function(t,n){m(o.y,function(r,i){var s="x"+n+"y"+i,o=new d(s);o.grid=this,o.model=e,this._coordsMap[s]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(r)},this)},this)):(this._axesMap={},void (this._axesList=[]))},b._updateScale=function(e,t){function n(e,t,n){m(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtentFromData(e,n)})}p.each(this._axesList,function(e){e.scale.setExtent(1/0,-(1/0))}),e.eachSeries(function(i){if(l(i)){var s=f(i,e),o=s[0],u=s[1];if(!r(o,t,e)||!r(u,t,e))return;var a=this.getCartesian(o.componentIndex,u.componentIndex),c=i.getData(),h=a.getAxis("x"),p=a.getAxis("y");"list"===c.type&&(n(c,h,i),n(c,p,i))}},this)},b.getTooltipAxes=function(e){var t=[],n=[];return m(this.getCartesians(),function(r){var i=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(i);p.indexOf(t,i)<0&&t.push(i),p.indexOf(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}};var w=["xAxis","yAxis"];s.create=function(e,t){var n=[];return e.eachComponent("grid",function(r,i){var o=new s(r,e,t);o.name="grid_"+i,o.resize(r,t,!0),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if(l(t)){var n=f(t,e),r=n[0],i=n[1],s=r.getCoordSysModel(),o=s.coordinateSystem;t.coordinateSystem=o.getCartesian(r.componentIndex,i.componentIndex)}}),n},s.dimensions=s.prototype.dimensions=d.prototype.dimensions,n(26).register("cartesian2d",s),e.exports=s},function(e,t,n){"use strict";function r(e){return e>u||e<-u}var i=n(19),s=n(6),o=i.identity,u=5e-5,a=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},f=a.prototype;f.transform=null,f.needLocalTransform=function(){return r(this.rotation)||r(this.position[0])||r(this.position[1])||r(this.scale[0]-1)||r(this.scale[1]-1)},f.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;return n||t?(r=r||i.create(),n?this.getLocalTransform(r):o(r),t&&(n?i.mul(r,e.transform,r):i.copy(r,e.transform)),this.transform=r,this.invTransform=this.invTransform||i.create(),void i.invert(this.invTransform,r)):void (r&&o(r))},f.getLocalTransform=function(e){return a.getLocalTransform(this,e)},f.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},f.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var l=[];f.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(i.mul(l,e.invTransform,t),t=l);var n=t[0]*t[0]+t[1]*t[1],s=t[2]*t[2]+t[3]*t[3],o=this.position,u=this.scale;r(n-1)&&(n=Math.sqrt(n)),r(s-1)&&(s=Math.sqrt(s)),t[0]<0&&(n=-n),t[3]<0&&(s=-s),o[0]=t[4],o[1]=t[5],u[0]=n,u[1]=s,this.rotation=Math.atan2(-t[1]/s,t[0]/n)}},f.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},f.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&s.applyTransform(n,n,r),n},f.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&s.applyTransform(n,n,r),n},a.getLocalTransform=function(e,t){t=t||[],o(t);var n=e.origin,r=e.scale||[1,1],s=e.rotation||0,u=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),i.scale(t,t,r),s&&i.rotate(t,t,s),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=u[0],t[5]+=u[1],t},e.exports=a},function(e,t,n){var r=n(100),i=n(1),s=n(13),o=n(9),u=["value","category","time","log"];e.exports=function(e,t,n,f){i.each(u,function(s){t.extend({type:e+"Axis."+s,mergeDefaultAndTheme:function(t,r){var u=this.layoutMode,f=u?o.getLayoutParams(t):{},l=r.getTheme();i.merge(t,l.get(s+"Axis")),i.merge(t,this.getDefaultOption()),t.type=n(e,t),u&&o.mergeLayoutParam(t,f,u)},defaultOption:i.mergeAll([{},r[s+"Axis"],f],!0)})}),s.registerSubTypeDefaulter(e+"Axis",i.curry(n,e))}},function(e,t,n){"use strict";function r(e,t){return t.type||(t.data?"category":"value")}var i=n(13),s=n(1),o=n(61),u=i.extend({type:"cartesian2dAxis",axis:null,init:function(){u.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){u.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){u.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});s.merge(u.prototype,n(43));var a={offset:0};o("x",u,r,a),o("y",u,r,a),e.exports=u},function(e,t){e.exports=function(e,t){t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.coordinateSystem;if(n){for(var r=[],i=n.dimensions,s=0;s<i.length;s++)r.push(e.coordDimToDataDim(n.dimensions[s])[0]);1===r.length?t.each(r[0],function(e,r){t.setItemLayout(r,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))}):2===r.length&&t.each(r,function(e,r,i){t.setItemLayout(i,isNaN(e)||isNaN(r)?[NaN,NaN]:n.dataToPoint([e,r]))},!0)}})}},function(e,t,n){var r=n(15),i=r.set,s=r.get;e.exports={clearColorPalette:function(){i(this,"colorIdx",0),i(this,"colorNameMap",{})},getColorFromPalette:function(e,t){t=t||this;var n=s(t,"colorIdx")||0,r=s(t,"colorNameMap")||i(t,"colorNameMap",{});if(r.hasOwnProperty(e))return r[e];var o=this.get("color",!0)||[];if(o.length){var u=o[n];return e&&(r[e]=u),i(t,"colorIdx",(n+1)%o.length),u}}}},function(e,t){e.exports=function(e,t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){for(var r=t.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(r))return!1;return!0},this)},this)}},function(e,t,n){function r(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}var i=n(4),s=i.round,o={};o.intervalScaleNiceTicks=function(e,t,n,r){var u={},f=e[1]-e[0],l=u.interval=i.nice(f/t,!0);null!=n&&l<n&&(l=u.interval=n),null!=r&&l>r&&(l=u.interval=r);var c=u.intervalPrecision=o.getIntervalPrecision(l),h=u.niceTickExtent=[s(Math.ceil(e[0]/l)*l,c),s(Math.floor(e[1]/l)*l,c)];return o.fixExtent(h,e),u},o.getIntervalPrecision=function(e){return i.getPrecisionSafe(e)+2},o.fixExtent=function(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),r(e,0,t),r(e,1,t),e[0]>e[1]&&(e[0]=e[1])},o.intervalScaleGetTicks=function(e,t,n,r){var i=[];if(!e)return i;var o=1e4;t[0]<n[0]&&i.push(t[0]);for(var u=n[0];u<=n[1]&&(i.push(u),u=s(u+e,r),u!==i[i.length-1]);)if(i.length>o)return[];return t[1]>(i.length?i[i.length-1]:n[1])&&i.push(t[1]),i},e.exports=o},function(e,t,n){var r=n(36),i=n(50),s=n(15),o=function(){this.group=new r,this.uid=i.getUID("viewComponent")};o.prototype={constructor:o,init:function(e,t){},render:function(e,t,n,r){},dispose:function(){}};var u=o.prototype;u.updateView=u.updateLayout=u.updateVisual=function(e,t,n,r){},s.enableClassExtend(o),s.enableClassManagement(o,{registerWhenExtend:!0}),e.exports=o},function(e,t,n){"use strict";var r=n(73),i=n(23),s=n(60),o=n(183),u=n(1),a=function(e){s.call(this,e),i.call(this,e),o.call(this,e),this.id=e.id||r()};a.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(u.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},u.mixin(a,o),u.mixin(a,s),u.mixin(a,i),e.exports=a},function(e,t,n){function r(e,t){return e[t]}function i(e,t,n){e[t]=n}function s(e,t,n){return(t-e)*n+e}function o(e,t,n){return n>.5?t:e}function u(e,t,n,r,i){var o=e.length;if(1==i)for(var u=0;u<o;u++)r[u]=s(e[u],t[u],n);else for(var a=o&&e[0].length,u=0;u<o;u++)for(var f=0;f<a;f++)r[u][f]=s(e[u][f],t[u][f],n)}function a(e,t,n){var r=e.length,i=t.length;if(r!==i){var s=r>i;if(s)e.length=i;else for(var o=r;o<i;o++)e.push(1===n?t[o]:w.call(t[o]))}for(var u=e[0]&&e[0].length,o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var a=0;a<u;a++)isNaN(e[o][a])&&(e[o][a]=t[o][a])}function f(e,t,n){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;if(1===n){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1}else for(var s=e[0].length,i=0;i<r;i++)for(var o=0;o<s;o++)if(e[i][o]!==t[i][o])return!1;return!0}function l(e,t,n,r,i,s,o,u,a){var f=e.length;if(1==a)for(var l=0;l<f;l++)u[l]=c(e[l],t[l],n[l],r[l],i,s,o);else for(var h=e[0].length,l=0;l<f;l++)for(var p=0;p<h;p++)u[l][p]=c(e[l][p],t[l][p],n[l][p],r[l][p],i,s,o)}function c(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}function h(e){if(b(e)){var t=e.length;if(b(e[0])){for(var n=[],r=0;r<t;r++)n.push(w.call(e[r]));return n}return w.call(e)}return e}function p(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function d(e){var t=e[e.length-1].value;return b(t&&t[0])?2:1}function v(e,t,n,r,i,h){var v=e._getter,y=e._setter,w="spline"===t,E=r.length;if(E){var S,T=r[0].value,N=b(T),C=!1,k=!1,L=N?d(r):0;r.sort(function(e,t){return e.time-t.time}),S=r[E-1].time;for(var A=[],O=[],M=r[0].value,_=!0,D=0;D<E;D++){A.push(r[D].time/S);var P=r[D].value;if(N&&f(P,M,L)||!N&&P===M||(_=!1),M=P,"string"==typeof P){var H=g.parse(P);H?(P=H,C=!0):k=!0}O.push(P)}if(h||!_){for(var B=O[E-1],D=0;D<E-1;D++)N?a(O[D],B,L):!isNaN(O[D])||isNaN(B)||k||C||(O[D]=B);N&&a(v(e._target,i),B,L);var j,F,I,q,R,U,z=0,W=0;if(C)var X=[0,0,0,0];var V=function(e,t){var n;if(t<0)n=0;else if(t<W){for(j=Math.min(z+1,E-1),n=j;n>=0&&!(A[n]<=t);n--);n=Math.min(n,E-2)}else{for(n=z;n<E&&!(A[n]>t);n++);n=Math.min(n-1,E-2)}z=n,W=t;var r=A[n+1]-A[n];if(0!==r)if(F=(t-A[n])/r,w)if(q=O[n],I=O[0===n?n:n-1],R=O[n>E-2?E-1:n+1],U=O[n>E-3?E-1:n+2],N)l(I,q,R,U,F,F*F,F*F*F,v(e,i),L);else{var a;if(C)a=l(I,q,R,U,F,F*F,F*F*F,X,1),a=p(X);else{if(k)return o(q,R,F);a=c(I,q,R,U,F,F*F,F*F*F)}y(e,i,a)}else if(N)u(O[n],O[n+1],F,v(e,i),L);else{var a;if(C)u(O[n],O[n+1],F,X,1),a=p(X);else{if(k)return o(O[n],O[n+1],F);a=s(O[n],O[n+1],F)}y(e,i,a)}},$=new m({target:e._target,life:S,loop:e._loop,delay:e._delay,onframe:V,ondestroy:n});return t&&"spline"!==t&&($.easing=t),$}}}var m=n(163),g=n(22),y=n(1),b=y.isArrayLike,w=Array.prototype.slice,E=function(e,t,n,s){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||r,this._setter=s||i,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};E.prototype={when:function(e,t){var n=this._tracks;for(var r in t)if(t.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==e&&n[r].push({time:0,value:h(i)})}n[r].push({time:e,value:t[r]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,r=this,i=0,s=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var u=v(this,e,s,this._tracks[o],o,t);u&&(this._clipList.push(u),i++,this.animation&&this.animation.addClip(u),n=u)}if(n){var a=n.onframe;n.onframe=function(e,t){a(e,t);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,r=0;r<t.length;r++){var i=t[r];e&&i.onframe(this._target,1),n&&n.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},e.exports=E},function(e,t){e.exports="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)}},function(e,t){var n=2*Math.PI;e.exports={normalizeRadian:function(e){return e%=n,e<0&&(e+=n),e}}},function(e,t){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(e){var t=new i(e);return this.insertEntry(t),t},r.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},s=function(e){this._list=new n,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=s.prototype;o.put=function(e,t){var n=this._list,r=this._map,s=null;if(null==r[e]){var o=n.len(),u=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var a=n.head;n.remove(a),delete r[a.key],s=a.value,this._lastRemovedEntry=a}u?u.value=t:u=new i(t),u.key=e,n.insertEntry(u),r[e]=u}return s},o.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}},e.exports=s},function(e,t){var n=2311;e.exports=function(){return n++}},function(e,t){var n=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};n.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")},e.exports=n},function(e,t,n){function r(e,t,n){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,s=null==t.y?0:t.y,o=null==t.y2?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,s=s*n.height+n.y,o=o*n.height+n.y);var u=e.createLinearGradient(r,s,i,o);return u}function i(e,t,n){var r=n.width,i=n.height,s=Math.min(r,i),o=null==t.x?.5:t.x,u=null==t.y?.5:t.y,a=null==t.r?.5:t.r;t.global||(o=o*r+n.x,u=u*i+n.y,a*=s);var f=e.createRadialGradient(o,u,0,o,u,a);return f}var s=(n(40),[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]]),o=function(e,t){this.extendFrom(e,!1),this.host=t};o.prototype={constructor:o,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textLineWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){for(var r=this,i=n&&n.style,o=!i,u=0;u<s.length;u++){var a=s[u],f=a[0];(o||r[f]!==i[f])&&(e[f]=r[f]||a[1])}if((o||r.fill!==i.fill)&&(e.fillStyle=r.fill),(o||r.stroke!==i.stroke)&&(e.strokeStyle=r.stroke),(o||r.opacity!==i.opacity)&&(e.globalAlpha=null==r.opacity?1:r.opacity),(o||r.blend!==i.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var l=r.lineWidth;e.lineWidth=l/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||t!==!0&&(t===!1?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var s="radial"===t.type?i:r,o=s(e,t,n),u=t.colorStops,a=0;a<u.length;a++)o.addColorStop(u[a].offset,u[a].color);return o}};for(var u=o.prototype,a=0;a<s.length;a++){var f=s[a];f[0]in u||(u[f[0]]=f[1])}o.getGradient=u.getGradient,e.exports=o},function(e,t,n){var r=n(10),i=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];e.exports=function(e){return r.browser.ie&&r.browser.version>=11?function(){var t,n=this.__clipPaths,r=this.style;if(n)for(var s=0;s<n.length;s++){var o=n[s],u=o&&o.shape,a=o&&o.type;if(u&&("sector"===a&&u.startAngle===u.endAngle||"rect"===a&&(!u.width||!u.height))){for(var f=0;f<i.length;f++)i[f][2]=r[i[f][0]],r[i[f][0]]=i[f][1];t=!0;break}}if(e.apply(this,arguments),t)for(var f=0;f<i.length;f++)r[i[f][0]]=i[f][2]}:e}},function(e,t,n){var r=n(173),i=n(172);e.exports={buildPath:function(e,t,n){var s=t.points,o=t.smooth;if(s&&s.length>=2){if(o&&"spline"!==o){var u=i(s,o,n,t.smoothConstraint);e.moveTo(s[0][0],s[0][1]);for(var a=s.length,f=0;f<(n?a:a-1);f++){var l=u[2*f],c=u[2*f+1],h=s[(f+1)%a];e.bezierCurveTo(l[0],l[1],c[0],c[1],h[0],h[1])}}else{"spline"===o&&(s=r(s,n)),e.moveTo(s[0][0],s[0][1]);for(var f=1,p=s.length;f<p;f++)e.lineTo(s[f][0],s[f][1])}n&&e.closePath()}}}},function(e,t){e.exports={buildPath:function(e,t){var n,r,i,s,o=t.x,u=t.y,a=t.width,f=t.height,l=t.r;a<0&&(o+=a,a=-a),f<0&&(u+=f,f=-f),"number"==typeof l?n=r=i=s=l:l instanceof Array?1===l.length?n=r=i=s=l[0]:2===l.length?(n=i=l[0],r=s=l[1]):3===l.length?(n=l[0],r=s=l[1],i=l[2]):(n=l[0],r=l[1],i=l[2],s=l[3]):n=r=i=s=0;var c;n+r>a&&(c=n+r,n*=a/c,r*=a/c),i+s>a&&(c=i+s,i*=a/c,s*=a/c),r+i>f&&(c=r+i,r*=f/c,i*=f/c),n+s>f&&(c=n+s,n*=f/c,s*=f/c),e.moveTo(o+n,u),e.lineTo(o+a-r,u),0!==r&&e.quadraticCurveTo(o+a,u,o+a,u+r),e.lineTo(o+a,u+f-i),0!==i&&e.quadraticCurveTo(o+a,u+f,o+a-i,u+f),e.lineTo(o+s,u+f),0!==s&&e.quadraticCurveTo(o,u+f,o,u+f-s),e.lineTo(o,u+n),0!==n&&e.quadraticCurveTo(o,u,o+n,u)}}},function(e,t,n){var r=n(1),i={};i.layout=function(e,t,n){n=n||{};var i=e.coordinateSystem,s=t.axis,o={},u=s.position,a=s.onZero?"onZero":u,f=s.dim,l=i.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,d="x"===f?[c[2]-p,c[3]+p]:[c[0]-p,c[1]+p];if(s.onZero){var v=i.getAxis("x"===f?"y":"x",s.onZeroAxisIndex),m=v.toGlobalCoord(v.dataToCoord(0));d[h.onZero]=Math.max(Math.min(m,d[1]),d[0])}o.position=["y"===f?d[h[a]]:c[0],"x"===f?d[h[a]]:c[3]],o.rotation=Math.PI/2*("x"===f?0:1);var g={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=g[u],o.labelOffset=s.onZero?d[h[u]]-d[h.onZero]:0,t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),r.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var y=t.get("axisLabel.rotate");return o.labelRotate="top"===a?-y:y,o.labelInterval=s.getLabelInterval(),o.z2=1,o},e.exports=i},,,function(e,t,n){var r=n(1);e.exports={updateSelectedMap:function(e){this._targetList=e.slice(),this._selectTargetMap=r.reduce(e||[],function(e,t){return e.set(t.name,t),e},r.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e),r=this.get("selectedMode");"single"===r&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}}},,,,function(e,t,n){"use strict";function r(e){return e.get("stack")||h+e.seriesIndex}function i(e){return e.dim+e.index}function s(e,t){var n=[],r=e.axis,i="axis0";if("category"===r.type){for(var s=r.getBandWidth(),o=0;o<e.count;o++)n.push(f.defaults({bandWidth:s,axisKey:i,stackId:h+o},e));for(var a=u(n,t),l=[],o=0;o<e.count;o++){var c=a[i][h+o];c.offsetCenter=c.offset+c.width/2,l.push(c)}return l}}function o(e,t){var n=f.map(e,function(e){var t=e.getData(),n=e.coordinateSystem,s=n.getBaseAxis(),o=s.getExtent(),u="category"===s.type?s.getBandWidth():Math.abs(o[1]-o[0])/t.count(),a=c(e.get("barWidth"),u),f=c(e.get("barMaxWidth"),u),l=e.get("barGap"),h=e.get("barCategoryGap");return{bandWidth:u,barWidth:a,barMaxWidth:f,barGap:l,barCategoryGap:h,axisKey:i(s),stackId:r(e)}});return u(n,t)}function u(e,t){var n={};f.each(e,function(e,t){var r=e.axisKey,i=e.bandWidth,s=n[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=s.stacks;n[r]=s;var u=e.stackId;o[u]||s.autoWidthCount++,o[u]=o[u]||{width:0,maxWidth:0};var a=e.barWidth;a&&!o[u].width&&(o[u].width=a,a=Math.min(s.remainedWidth,a),s.remainedWidth-=a);var f=e.barMaxWidth;f&&(o[u].maxWidth=f);var l=e.barGap;null!=l&&(s.gap=l);var c=e.barCategoryGap;null!=c&&(s.categoryGap=c)});var r={};return f.each(n,function(e,t){r[t]={};var n=e.stacks,i=e.bandWidth,s=c(e.categoryGap,i),o=c(e.gap,1),u=e.remainedWidth,a=e.autoWidthCount,l=(u-s)/(a+(a-1)*o);l=Math.max(l,0),f.each(n,function(e,t){var n=e.maxWidth;n&&n<l&&(n=Math.min(n,u),e.width&&(n=Math.min(n,e.width)),u-=n,e.width=n,a--)}),l=(u-s)/(a+(a-1)*o),l=Math.max(l,0);var h,p=0;f.each(n,function(e,t){e.width||(e.width=l),h=e,p+=e.width*(1+o)}),h&&(p-=h.width*o);var d=-p/2;f.each(n,function(e,n){r[t][n]=r[t][n]||{offset:d,width:e.width},d+=e.width*(1+o)})}),r}function a(e,t,n){var s=o(f.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),u={},a={};t.eachSeriesByType(e,function(e){if("cartesian2d"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),f=r(e),l=s[i(o)][f],c=l.offset,h=l.width,p=n.getOtherAxis(o),d=e.get("barMinHeight")||0,v=o.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],m=[e.coordDimToDataDim("x")[0],e.coordDimToDataDim("y")[0]],g=t.mapArray(m,function(e,t){return n.dataToPoint([e,t])},!0);u[f]=u[f]||[],a[f]=a[f]||[],t.setLayout({offset:c,size:h}),t.each(e.coordDimToDataDim(p.dim)[0],function(e,n){if(!isNaN(e)){u[f][n]||(u[f][n]={p:v,n:v},a[f][n]={p:v,n:v});var r,i,s,o,l=e>=0?"p":"n",m=g[n],y=u[f][n][l],b=a[f][n][l];p.isHorizontal()?(r=y,i=m[1]+c,s=m[0]-b,o=h,a[f][n][l]+=s,Math.abs(s)<d&&(s=(s<0?-1:1)*d),u[f][n][l]+=s):(r=m[0]+c,i=y,s=h,o=m[1]-b,a[f][n][l]+=o,Math.abs(o)<d&&(o=(o<=0?-1:1)*d),u[f][n][l]+=o),t.setItemLayout(n,{x:r,y:i,width:s,height:o})}},!0)}},this)}var f=n(1),l=n(4),c=l.parsePercent,h="__ec_stack_";a.getLayoutOnAxis=s,e.exports=a},,function(e,t){e.exports=function(e,t){var n={};t.eachRawSeriesByType(e,function(e){var r=e.getRawData(),i={};if(!t.isSeriesFiltered(e)){var s=e.getData();s.each(function(e){var t=s.getRawIndex(e);i[t]=e}),r.each(function(t){var o=i[t],u=null!=o&&s.getItemVisual(o,"color",!0);if(u)r.setItemVisual(t,"color",u);else{var f=r.getItemModel(t),l=f.get("itemStyle.normal.color")||e.getColorFromPalette(r.getName(t),n);r.setItemVisual(t,"color",l),null!=o&&s.setItemVisual(o,"color",l)}})}})}},function(e,t,n){var r=n(6),i=n(20),s={},o=Math.min,u=Math.max,a=Math.sin,f=Math.cos,l=r.create(),c=r.create(),h=r.create(),p=2*Math.PI;s.fromPoints=function(e,t,n){if(0!==e.length){var r,i=e[0],s=i[0],a=i[0],f=i[1],l=i[1];for(r=1;r<e.length;r++)i=e[r],s=o(s,i[0]),a=u(a,i[0]),f=o(f,i[1]),l=u(l,i[1]);t[0]=s,t[1]=f,n[0]=a,n[1]=l}},s.fromLine=function(e,t,n,r,i,s){i[0]=o(e,n),i[1]=o(t,r),s[0]=u(e,n),s[1]=u(t,r)};var d=[],v=[];s.fromCubic=function(e,t,n,r,s,a,f,l,c,h){var p,m=i.cubicExtrema,y=i.cubicAt,b=m(e,n,s,f,d);for(c[0]=1/0,c[1]=1/0,h[0]=-(1/0),h[1]=-(1/0),p=0;p<b;p++){var w=y(e,n,s,f,d[p]);c[0]=o(w,c[0]),h[0]=u(w,h[0])}for(b=m(t,r,a,l,v),p=0;p<b;p++){var E=y(t,r,a,l,v[p]);c[1]=o(E,c[1]),h[1]=u(E,h[1])}c[0]=o(e,c[0]),h[0]=u(e,h[0]),c[0]=o(f,c[0]),h[0]=u(f,h[0]),c[1]=o(t,c[1]),h[1]=u(t,h[1]),c[1]=o(l,c[1]),h[1]=u(l,h[1])},s.fromQuadratic=function(e,t,n,r,s,a,f,l){var c=i.quadraticExtremum,h=i.quadraticAt,p=u(o(c(e,n,s),1),0),d=u(o(c(t,r,a),1),0),v=h(e,n,s,p),m=h(t,r,a,d);f[0]=o(e,s,v),f[1]=o(t,a,m),l[0]=u(e,s,v),l[1]=u(t,a,m)},s.fromArc=function(e,t,n,i,s,o,u,d,v){var m=r.min,g=r.max,y=Math.abs(s-o);if(y%p<1e-4&&y>1e-4)return d[0]=e-n,d[1]=t-i,v[0]=e+n,void (v[1]=t+i);if(l[0]=f(s)*n+e,l[1]=a(s)*i+t,c[0]=f(o)*n+e,c[1]=a(o)*i+t,m(d,l,c),g(v,l,c),s%=p,s<0&&(s+=p),o%=p,o<0&&(o+=p),s>o&&!u?o+=p:s<o&&u&&(s+=p),u){var b=o;o=s,s=b}for(var w=0;w<o;w+=Math.PI/2)w>s&&(h[0]=f(w)*n+e,h[1]=a(w)*i+t,m(d,h,d),g(v,h,v))},e.exports=s},function(e,t,n){var r=n(38),i=n(1),s=n(16),o=n(40),u=function(e){r.call(this,e)};u.prototype={constructor:u,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&o.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),n.bind(e,this,t),o.needDrawText(r,n)&&(this.setTransform(e),o.renderText(this,e,r,n),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&o.normalizeTextStyle(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var n=s.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,o.getStroke(e.textStroke,e.textLineWidth)){var r=e.textLineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},i.inherits(u,r),e.exports=u},function(e,t,n){var r=n(40),i=n(12),s=new i,o=function(){};o.prototype={constructor:o,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&r.normalizeTextStyle(n,!0);var i=n.text;if(null!=i&&(i+=""),r.needDrawText(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(s.copy(t),s.applyTransform(o),t=s),r.renderText(this,e,i,n,t),e.restore()}}},e.exports=o},function(e,t,n){function r(e){delete p[e]}var i=n(73),s=n(10),o=n(1),u=n(158),a=n(161),f=n(162),l=n(169),c=!s.canvasSupported,h={canvas:n(160)},p={},d={};d.version="3.6.1",d.init=function(e,t){var n=new v(i(),e,t);return p[n.id]=n,n},d.dispose=function(e){if(e)e.dispose();else{for(var t in p)p.hasOwnProperty(t)&&p[t].dispose();p={}}return d},d.getInstance=function(e){return p[e]},d.registerPainter=function(e,t){h[e]=t};var v=function(e,t,n){n=n||{},this.dom=t,this.id=e;var r=this,i=new a,p=n.renderer;if(c){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else p&&h[p]||(p="canvas");var d=new h[p](t,i,n);this.storage=i,this.painter=d;var v=s.node?null:new l(d.getViewportRoot());this.handler=new u(i,d,v,d.root),this.animation=new f({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=i.delFromStorage,g=i.addToStorage;i.delFromStorage=function(e){m.call(i,e),e&&e.removeSelfFromZr(r)},i.addToStorage=function(e){g.call(i,e),e.addSelfToZr(r)}};v.prototype={constructor:v,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,r(this.id)}},e.exports=d},function(e,t,n){var r=n(2),i=n(1);e.exports=function(e,t){i.each(t,function(t){t.update="updateView",r.registerAction(t,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var r=e.getData();r.each(function(t){var n=r.getName(t);i[n]=e.isSelected(n)||!1})}),{name:n.name,selected:i}})})}},function(e,t,n){"use strict";var r=n(17),i=n(28);e.exports=r.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(e.data,this,t)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(e,!0),r=this.getData(),i=r.getLayout("offset"),s=r.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return n[o]+=i+s/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{normal:{},emphasis:{}}}})},function(e,t,n){function r(e,t){"outside"===e.textPosition&&(e.textPosition=t)}var i=n(3),s={};s.setLabel=function(e,t,n,s,o,u,a){var f=n.getModel("label.normal"),l=n.getModel("label.emphasis");i.setLabelStyle(e,t,f,l,{labelFetcher:o,labelDataIndex:u,defaultText:o.getRawValue(u),isRectText:!0,autoColor:s}),r(e),r(t)},e.exports=s},function(e,t,n){var r=n(5),i={};i.findLabelValueDim=function(e){var t,n=r.otherDimToDataDim(e,"label");if(n.length)t=n[0];else for(var i,s=e.dimensions.slice();s.length&&(t=s.pop(),i=e.getDimensionInfo(t).type,"ordinal"===i||"time"===i););return t},e.exports=i},function(e,t,n){function r(e){return isNaN(e[0])||isNaN(e[1])}function i(e,t,n,i,s,o,a,m,y,b,w){for(var E=0,S=n,x=0;x<i;x++){var T=t[S];if(S>=s||S<0)break;if(r(T)){if(w){S+=o;continue}break}if(S===n)e[o>0?"moveTo":"lineTo"](T[0],T[1]),h(d,T);else if(y>0){var N=S+o,C=t[N];if(w)for(;C&&r(t[N]);)N+=o,C=t[N];var k=.5,L=t[E],C=t[N];if(!C||r(C))h(v,T);else{r(C)&&!w&&(C=T),u.sub(p,C,L);var A,O;if("x"===b||"y"===b){var M="x"===b?0:1;A=Math.abs(T[M]-L[M]),O=Math.abs(T[M]-C[M])}else A=u.dist(T,L),O=u.dist(T,C);k=O/(O+A),c(v,T,p,-y*(1-k))}f(d,d,m),l(d,d,a),f(v,v,m),l(v,v,a),e.bezierCurveTo(d[0],d[1],v[0],v[1],T[0],T[1]),c(d,T,p,y*k)}else e.lineTo(T[0],T[1]);E=S,S+=o}return x}function s(e,t){var n=[1/0,1/0],r=[-(1/0),-(1/0)];if(t)for(var i=0;i<e.length;i++){var s=e[i];s[0]<n[0]&&(n[0]=s[0]),s[1]<n[1]&&(n[1]=s[1]),s[0]>r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])}return{min:t?n:r,max:t?r:n}}var o=n(8),u=n(6),a=n(76),f=u.min,l=u.max,c=u.scaleAndAdd,h=u.copy,p=[],d=[],v=[];e.exports={Polyline:o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:a(o.prototype.brush),buildPath:function(e,t){var n=t.points,o=0,u=n.length,a=s(n,t.smoothConstraint);if(t.connectNulls){for(;u>0&&r(n[u-1]);u--);for(;o<u&&r(n[o]);o++);}for(;o<u;)o+=i(e,n,o,u,u,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Polygon:o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:a(o.prototype.brush),buildPath:function(e,t){var n=t.points,o=t.stackedOnPoints,u=0,a=n.length,f=t.smoothMonotone,l=s(n,t.smoothConstraint),c=s(o,t.smoothConstraint);if(t.connectNulls){for(;a>0&&r(n[a-1]);a--);for(;u<a&&r(n[u]);u++);}for(;u<a;){var h=i(e,n,u,a,a,1,l.min,l.max,t.smooth,f,t.connectNulls);i(e,o,u+h-1,h,a,-1,c.min,c.max,t.stackedOnSmooth,f,t.connectNulls),u+=h+1,e.closePath()}}})}},,,function(e,t,n){var r=n(1),i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},s=r.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},i),o=r.merge({boundaryGap:[0,0],splitNumber:5},i),u=r.defaults({scale:!0,min:"dataMin",max:"dataMax"},o),a=r.defaults({scale:!0,logBase:10},o);e.exports={categoryAxis:s,valueAxis:o,timeAxis:u,logAxis:a}},function(e,t){e.exports={containStroke:function(e,t,n,r,i,s,o){if(0===i)return!1;var u=i,a=0,f=e;if(o>t+u&&o>r+u||o<t-u&&o<r-u||s>e+u&&s>n+u||s<e-u&&s<n-u)return!1;if(e===n)return Math.abs(s-e)<=u/2;a=(t-r)/(e-n),f=(e*r-n*t)/(e-n);var l=a*s-o+f,c=l*l/(a*a+1);return c<=u/2*u/2}}},function(e,t,n){var r=n(20);e.exports={containStroke:function(e,t,n,s,o,u,a,f,l){if(0===a)return!1;var c=a;if(l>t+c&&l>s+c&&l>u+c||l<t-c&&l<s-c&&l<u-c||f>e+c&&f>n+c&&f>o+c||f<e-c&&f<n-c&&f<o-c)return!1;var h=r.quadraticProjectPoint(e,t,n,s,o,u,f,l,null);return h<=c/2}}},function(e,t){e.exports=function(e,t,n,r,i,s){if(s>t&&s>r||s<t&&s<r)return 0;if(r===t)return 0;var o=r<t?1:-1,u=(s-t)/(r-t);1!==u&&0!==u||(o=r<t?.5:-.5);var a=u*(n-e)+e;return a>i?o:0}},function(e,t,n){"use strict";var r=n(1),i=n(39),s=function(e,t,n,r,s,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,i.call(this,s)};s.prototype={constructor:s},r.inherits(s,i),e.exports=s},function(e,t,n){"use strict";function r(e){i.each(s,function(t){this[t]=i.bind(e[t],e)},this)}var i=n(1),s=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];e.exports=r},function(e,t,n){var r=n(1);n(59),n(107),n(108);var i=n(86),s=n(2);s.registerLayout(r.curry(i,"bar")),s.registerVisual(function(e){e.eachSeriesByType("bar",function(e){var t=e.getData();t.setVisual("legendSymbol","roundRect")})}),n(32)},function(e,t,n){e.exports=n(94).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(e,t,n){"use strict";function r(e,t,n){n.style.text=null,a.updateProps(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function i(e,t,n){n.style.text=null,a.updateProps(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function s(e,t,n,r,i,s,o,l){var c=t.getItemVisual(n,"color"),h=t.getItemVisual(n,"opacity"),p=r.getModel("itemStyle.normal"),d=r.getModel("itemStyle.emphasis").getBarItemStyle();l||e.setShape("r",p.get("barBorderRadius")||0),e.useStyle(u.defaults({fill:c,opacity:h},p.getBarItemStyle()));var v=r.getShallow("cursor");v&&e.attr("cursor",v);var m=o?i.height>0?"bottom":"top":i.width>0?"left":"right";l||f.setLabel(e.style,d,r,c,s,n,m),a.setHoverStyle(e,d)}function o(e,t){var n=e.get(l)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}var u=n(1),a=n(3),f=n(95),l=["itemStyle","normal","barBorderWidth"];u.extend(n(11).prototype,n(109));var c=n(2).extendChartView({type:"bar",render:function(e,t,n){var r=e.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||this._render(e,t,n),this.group},dispose:u.noop,_render:function(e,t,n){var o,u=this.group,f=e.getData(),l=this._data,c=e.coordinateSystem,v=c.getBaseAxis();"cartesian2d"===c.type?o=v.isHorizontal():"polar"===c.type&&(o="angle"===v.dim);var m=e.isAnimationEnabled()?e:null;f.diff(l).add(function(t){if(f.hasValue(t)){var n=f.getItemModel(t),r=p[c.type](f,t,n),i=h[c.type](f,t,n,r,o,m);f.setItemGraphicEl(t,i),u.add(i),s(i,f,t,n,r,e,o,"polar"===c.type)}}).update(function(t,n){var r=l.getItemGraphicEl(n);if(!f.hasValue(t))return void u.remove(r);var i=f.getItemModel(t),v=p[c.type](f,t,i);r?a.updateProps(r,{shape:v},m,t):r=h[c.type](f,t,i,v,o,m,!0),f.setItemGraphicEl(t,r),u.add(r),s(r,f,t,i,v,e,o,"polar"===c.type)}).remove(function(e){var t=l.getItemGraphicEl(e);"cartesian2d"===c.type?t&&r(e,m,t):t&&i(e,m,t)}).execute(),this._data=f},remove:function(e,t){var n=this.group,s=this._data;e.get("animation")?s&&s.eachItemGraphicEl(function(t){"sector"===t.type?i(t.dataIndex,e,t):r(t.dataIndex,e,t)}):n.removeAll()}}),h={cartesian2d:function(e,t,n,r,i,s,o){var f=new a.Rect({shape:u.extend({},r)});if(s){var l=f.shape,c=i?"height":"width",h={};l[c]=0,h[c]=r[c],a[o?"updateProps":"initProps"](f,{shape:h},s,t)}return f},polar:function(e,t,n,r,i,s,o){var f=new a.Sector({shape:u.extend({},r)});if(s){var l=f.shape,c=i?"r":"endAngle",h={};l[c]=i?0:r.startAngle,h[c]=r[c],a[o?"updateProps":"initProps"](f,{shape:h},s,t)}return f}},p={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=o(n,r),s=r.width>0?1:-1,u=r.height>0?1:-1;return{x:r.x+s*i/2,y:r.y+u*i/2,width:r.width-s*i,height:r.height-u*i}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};e.exports=c},function(e,t,n){var r=n(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getBarItemStyle:function(e){var t=r.call(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}}},,,function(e,t,n){var r=n(1),i=n(2),s=i.PRIORITY;n(113),n(114),i.registerVisual(r.curry(n(51),"line","circle","line")),i.registerLayout(r.curry(n(63),"line")),i.registerProcessor(s.PROCESSOR.STATISTIC,r.curry(n(153),"line")),n(32)},function(e,t,n){"use strict";var r=n(28),i=n(17);e.exports=i.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return r(e.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(e,t,n){"use strict";function r(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function i(e){return"number"==typeof e?e:e?.3:0}function s(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,r=t[1]>t[0]?1:-1;t[0]+=r*n,t[1]-=r*n}return t}function o(e){return e>=0?1:-1}function u(e,t){var n=e.getBaseAxis(),r=e.getOtherAxis(n),i=n.onZero?0:r.scale.getExtent()[0],s=r.dim,u="x"===s||"radius"===s?1:0;return t.mapArray([s],function(r,a){for(var f,l=t.stackedOn;l&&o(l.get(s,a))===o(r);){f=l;break}var c=[];return c[u]=t.get(n.dim,a),c[1-u]=f?f.get(s,a,!0):i,e.dataToPoint(c)},!0)}function a(e,t,n){var r=s(e.getAxis("x")),i=s(e.getAxis("y")),o=e.getBaseAxis().isHorizontal(),u=Math.min(r[0],r[1]),a=Math.min(i[0],i[1]),f=Math.max(r[0],r[1])-u,l=Math.max(i[0],i[1])-a,c=n.get("lineStyle.normal.width")||2,h=n.get("clipOverflow")?c/2:Math.max(f,l);o?(a-=h,l+=2*h):(u-=h,f+=2*h);var p=new g.Rect({shape:{x:u,y:a,width:f,height:l}});return t&&(p.shape[o?"width":"height"]=0,g.initProps(p,{shape:{width:f,height:l}},n)),p}function f(e,t,n){var r=e.getAngleAxis(),i=e.getRadiusAxis(),s=i.getExtent(),o=r.getExtent(),u=Math.PI/180,a=new g.Sector({shape:{cx:e.cx,cy:e.cy,r0:s[0],r:s[1],startAngle:-o[0]*u,endAngle:-o[1]*u,clockwise:r.inverse}});return t&&(a.shape.endAngle=-o[0]*u,g.initProps(a,{shape:{endAngle:-o[1]*u}},n)),a}function l(e,t,n){return"polar"===e.type?f(e,t,n):a(e,t,n)}function c(e,t,n){for(var r=t.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,s=[],o=0;o<e.length-1;o++){var u=e[o+1],a=e[o];s.push(a);var f=[];switch(n){case"end":f[i]=u[i],f[1-i]=a[1-i],s.push(f);break;case"middle":var l=(a[i]+u[i])/2,c=[];f[i]=c[i]=l,f[1-i]=a[1-i],c[1-i]=u[1-i],s.push(f),s.push(c);break;default:f[i]=a[i],f[1-i]=u[1-i],s.push(f)}}return e[o]&&s.push(e[o]),s}function h(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()){for(var r,i=n.length-1;i>=0;i--)if(n[i].dimension<2){r=n[i];break}if(r&&"cartesian2d"===t.type){var s=r.dimension,o=e.dimensions[s],u=t.getAxis(o),a=p.map(r.stops,function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}}),f=a.length,l=r.outerColors.slice();f&&a[0].coord>a[f-1].coord&&(a.reverse(),l.reverse());var c=10,h=a[0].coord-c,d=a[f-1].coord+c,v=d-h;if(v<.001)return"transparent";p.each(a,function(e){e.offset=(e.coord-h)/v}),a.push({offset:f?a[f-1].offset:.5,color:l[1]||"transparent"}),a.unshift({offset:f?a[0].offset:.5,color:l[0]||"transparent"});var m=new g.LinearGradient(0,0,0,0,a,!0);return m[o]=h,m[o+"2"]=d,m}}}var p=n(1),d=n(46),v=n(56),m=n(115),g=n(3),y=n(5),b=n(97),w=n(30);e.exports=w.extend({type:"line",init:function(){var e=new g.Group,t=new d;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var s=e.coordinateSystem,o=this.group,a=e.getData(),f=e.getModel("lineStyle.normal"),d=e.getModel("areaStyle.normal"),v=a.mapArray(a.getItemLayout,!0),m="polar"===s.type,g=this._coordSys,y=this._symbolDraw,b=this._polyline,w=this._polygon,E=this._lineGroup,S=e.get("animation"),x=!d.isEmpty(),T=u(s,a),N=e.get("showSymbol"),C=N&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(a,s),k=this._data;k&&k.eachItemGraphicEl(function(e,t){e.__temp&&(o.remove(e),k.setItemGraphicEl(t,null))}),N||y.remove(),o.add(E);var L=!m&&e.get("step");b&&g.type===s.type&&L===this._step?(x&&!w?w=this._newPolygon(v,T,s,S):w&&!x&&(E.remove(w),w=this._polygon=null),E.setClipPath(l(s,!1,e)),N&&y.updateData(a,C),a.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),r(this._stackedOnPoints,T)&&r(this._points,v)||(S?this._updateAnimation(a,T,s,n,L):(L&&(v=c(v,s,L),T=c(T,s,L)),b.setShape({points:v}),w&&w.setShape({points:v,stackedOnPoints:T})))):(N&&y.updateData(a,C),L&&(v=c(v,s,L),T=c(T,s,L)),b=this._newPolyline(v,s,S),x&&(w=this._newPolygon(v,T,s,S)),E.setClipPath(l(s,!0,e)));var A=h(a,s)||a.getVisual("color");b.useStyle(p.defaults(f.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"}));var O=e.get("smooth");if(O=i(e.get("smooth")),b.setShape({smooth:O,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),w){var M=a.stackedOn,_=0;if(w.useStyle(p.defaults(d.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel"})),M){var D=M.hostModel;_=i(D.get("smooth"))}w.setShape({smooth:O,stackedOnSmooth:_,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=s,this._stackedOnPoints=T,this._points=v,this._step=L},dispose:function(){},highlight:function(e,t,n,r){var i=e.getData(),s=y.queryDataIndex(i,r);if(!(s instanceof Array)&&null!=s&&s>=0){var o=i.getItemGraphicEl(s);if(!o){var u=i.getItemLayout(s);if(!u)return;o=new v(i,s),o.position=u,o.setZ(e.get("zlevel"),e.get("z")),o.ignore=isNaN(u[0])||isNaN(u[1]),o.__temp=!0,i.setItemGraphicEl(s,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else w.prototype.highlight.call(this,e,t,n,r)},downplay:function(e,t,n,r){var i=e.getData(),s=y.queryDataIndex(i,r);if(null!=s&&s>=0){var o=i.getItemGraphicEl(s);o&&(o.__temp?(i.setItemGraphicEl(s,null),this.group.remove(o)):o.downplay())}else w.prototype.downplay.call(this,e,t,n,r)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new b.Polyline({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new b.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return p.bind(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,r,i){var s=this._polyline,o=this._polygon,u=e.hostModel,a=m(this._data,e,this._stackedOnPoints,t,this._coordSys,n),f=a.current,l=a.stackedOnCurrent,h=a.next,p=a.stackedOnNext;i&&(f=c(a.current,n,i),l=c(a.stackedOnCurrent,n,i),h=c(a.next,n,i),p=c(a.stackedOnNext,n,i)),s.shape.__points=a.current,s.shape.points=f,g.updateProps(s,{shape:{points:h}},u),o&&(o.setShape({points:f,stackedOnPoints:l}),g.updateProps(o,{shape:{points:h,stackedOnPoints:p}},u));for(var d=[],v=a.status,y=0;y<v.length;y++){var b=v[y].cmd;if("="===b){var w=e.getItemGraphicEl(v[y].idx1);w&&d.push({el:w,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var e=0;e<d.length;e++){var t=d[e].el;t.attr("position",s.shape.__points[d[e].ptIdx])}})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(e,t){function n(e){return e>=0?1:-1}function r(e,t,r){for(var i,s=e.getBaseAxis(),o=e.getOtherAxis(s),u=s.onZero?0:o.scale.getExtent()[0],a=o.dim,f="x"===a||"radius"===a?1:0,l=t.stackedOn,c=t.get(a,r);l&&n(l.get(a,r))===n(c);){i=l;break}var h=[];return h[f]=t.get(s.dim,r),h[1-f]=i?i.get(a,r,!0):u,e.dataToPoint(h)}function i(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}e.exports=function(e,t,n,s,o,u){for(var a=i(e,t),f=[],l=[],c=[],h=[],p=[],d=[],v=[],m=u.dimensions,g=0;g<a.length;g++){var y=a[g],b=!0;switch(y.cmd){case"=":var w=e.getItemLayout(y.idx),E=t.getItemLayout(y.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=E.slice()),f.push(w),l.push(E),c.push(n[y.idx]),h.push(s[y.idx1]),v.push(t.getRawIndex(y.idx1));break;case"+":var S=y.idx;f.push(o.dataToPoint([t.get(m[0],S,!0),t.get(m[1],S,!0)])),l.push(t.getItemLayout(S).slice()),c.push(r(o,t,S)),h.push(s[S]),v.push(t.getRawIndex(S));break;case"-":var S=y.idx,x=e.getRawIndex(S);x!==S?(f.push(e.getItemLayout(S)),l.push(u.dataToPoint([e.get(m[0],S,!0),e.get(m[1],S,!0)])),c.push(n[S]),h.push(r(u,e,S)),v.push(x)):b=!1}b&&(p.push(y),d.push(d.length))}d.sort(function(e,t){return v[e]-v[t]});for(var T=[],N=[],C=[],k=[],L=[],g=0;g<d.length;g++){var S=d[g];T[g]=f[S],N[g]=l[S],C[g]=c[S],k[g]=h[S],L[g]=p[S]}return{current:T,next:N,stackedOnCurrent:C,stackedOnNext:k,status:L}}},function(e,t,n){var r=n(1),i=n(2);n(117),n(118),n(93)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(r.curry(n(88),"pie")),i.registerLayout(r.curry(n(120),"pie")),i.registerProcessor(r.curry(n(65),"pie"))},function(e,t,n){"use strict";var r=n(14),i=n(1),s=n(5),o=n(4),u=n(25),a=n(82),f=n(2).extendSeriesModel({type:"series.pie",init:function(e){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){f.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getInitialData:function(e,t){var n=u(["value"],e.data),i=new r(n,this);return i.initData(e.data),i},getDataParams:function(e){var t=this.getData(),n=f.superCall(this,"getDataParams",e),r=[];return t.each("value",function(e){r.push(e)}),n.percent=o.getPercentWithPrecision(r,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){s.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});i.mixin(f,a),e.exports=f},function(e,t,n){function r(e,t,n,r){var s=t.getData(),o=this.dataIndex,u=s.getName(o),a=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:u,seriesId:t.id}),s.each(function(e){i(s.getItemGraphicEl(e),s.getItemLayout(e),t.isSelected(s.getName(e)),a,n)})}function i(e,t,n,r,i){var s=(t.startAngle+t.endAngle)/2,o=Math.cos(s),u=Math.sin(s),a=n?r:0,f=[o*a,u*a];i?e.animate().when(200,{position:f}).start("bounceOut"):e.attr("position",f)}function s(e,t){function n(){s.ignore=s.hoverIgnore,u.ignore=u.hoverIgnore}function r(){s.ignore=s.normalIgnore,u.ignore=u.normalIgnore}o.Group.call(this);var i=new o.Sector({z2:2}),s=new o.Polyline,u=new o.Text;this.add(i),this.add(s),this.add(u),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}var o=n(3),u=n(1),a=s.prototype;a.updateData=function(e,t,n){function r(){a.stopAnimation(!0),a.animateTo({shape:{r:c.r+10}},300,"elasticOut")}function s(){a.stopAnimation(!0),a.animateTo({shape:{r:c.r}},300,"elasticOut")}var a=this.childAt(0),f=e.hostModel,l=e.getItemModel(t),c=e.getItemLayout(t),h=u.extend({},c);if(h.label=null,n){a.setShape(h);var p=f.getShallow("animationType");"scale"===p?(a.shape.r=c.r0,o.initProps(a,{shape:{r:c.r}},f,t)):(a.shape.endAngle=c.startAngle,o.updateProps(a,{shape:{endAngle:c.endAngle}},f,t))}else o.updateProps(a,{shape:h},f,t);var d=l.getModel("itemStyle"),v=e.getItemVisual(t,"color");a.useStyle(u.defaults({lineJoin:"bevel",fill:v},d.getModel("normal").getItemStyle())),a.hoverStyle=d.getModel("emphasis").getItemStyle();var m=l.getShallow("cursor");m&&a.attr("cursor",m),i(this,e.getItemLayout(t),l.get("selected"),f.get("selectedOffset"),f.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&f.isAnimationEnabled()&&a.on("mouseover",r).on("mouseout",s).on("emphasis",r).on("normal",s),this._updateLabel(e,t),o.setHoverStyle(this)},a._updateLabel=function(e,t){var n=this.childAt(1),r=this.childAt(2),i=e.hostModel,s=e.getItemModel(t),u=e.getItemLayout(t),a=u.label,f=e.getItemVisual(t,"color");o.updateProps(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},i,t),o.updateProps(r,{style:{x:a.x,y:a.y}},i,t),r.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=s.getModel("label.normal"),c=s.getModel("label.emphasis"),h=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis"),f=e.getItemVisual(t,"color");o.setLabelStyle(r.style,r.hoverStyle={},l,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:f,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!l.get("show"),r.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:f,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=p.getModel("lineStyle").getLineStyle();var d=h.get("smooth");d&&d===!0&&(d=.4),n.setShape({smooth:d})},u.inherits(s,o.Group);var f=n(30).extend({type:"pie",init:function(){var e=new o.Group;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,f=this.group,l=t.get("animation"),c=!a,h=e.get("animationType"),p=u.curry(r,this.uid,e,l,n),d=e.get("selectedMode");if(o.diff(a).add(function(e){var t=new s(o,e);c&&"scale"!==h&&t.eachChild(function(e){e.stopAnimation(!0)}),d&&t.on("click",p),o.setItemGraphicEl(e,t),f.add(t)}).update(function(e,t){var n=a.getItemGraphicEl(t);n.updateData(o,e),n.off("click"),d&&n.on("click",p),f.add(n),o.setItemGraphicEl(e,n)}).remove(function(e){var t=a.getItemGraphicEl(e);f.remove(t)}).execute(),l&&c&&o.count()>0&&"scale"!==h){var v=o.getItemLayout(0),m=Math.max(n.getWidth(),n.getHeight())/2,g=u.bind(f.removeClipPath,f);f.setClipPath(this._createClipPath(v.cx,v.cy,m,v.startAngle,v.clockwise,g,e))}this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,r,i,s,u){var a=new o.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}});return o.initProps(a,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},u,s),a},containPoint:function(e,t){var n=t.getData(),r=n.getItemLayout(0);if(r){var i=e[0]-r.cx,s=e[1]-r.cy,o=Math.sqrt(i*i+s*s);return o<=r.r&&o>=r.r0}}});e.exports=f},function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){function u(t,n,r,i){for(var s=t;s<n;s++)if(e[s].y+=r,s>t&&s+1<n&&e[s+1].y>e[s].y+e[s].height)return void a(s,r/2);a(n-1,r/2)}function a(t,n){for(var r=t;r>=0&&(e[r].y-=n,!(r>0&&e[r].y>e[r-1].y+e[r-1].height));r--);}function f(e,t,n,r,i,s){for(var o=s>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,u=0,a=e.length;u<a;u++)if("center"!==e[u].position){var f=Math.abs(e[u].y-r),l=e[u].len,c=e[u].len2,h=f<i+l?Math.sqrt((i+l+c)*(i+l+c)-f*f):Math.abs(e[u].x-n);t&&h>=o&&(h=o-10),!t&&h<=o&&(h=o+10),e[u].x=n+h*s,o=h}}e.sort(function(e,t){return e.y-t.y});for(var l,c=0,h=e.length,p=[],d=[],v=0;v<h;v++)l=e[v].y-c,l<0&&u(v,h,-l,i),c=e[v].y+e[v].height;o-c<0&&a(h-1,c-o);for(var v=0;v<h;v++)e[v].y>=n?d.push(e[v]):p.push(e[v]);f(p,!1,t,n,r,i),f(d,!0,t,n,r,i)}function i(e,t,n,i,s,o){for(var u=[],a=[],f=0;f<e.length;f++)e[f].x<t?u.push(e[f]):a.push(e[f]);r(a,t,n,i,1,s,o),r(u,t,n,i,-1,s,o);for(var f=0;f<e.length;f++){var l=e[f].linePoints;if(l){var c=l[1][0]-l[2][0];e[f].x<t?l[2][0]=e[f].x+3:l[2][0]=e[f].x-3,l[1][1]=l[2][1]=e[f].y,l[1][0]=l[2][0]+c}}}var s=n(16);e.exports=function(e,t,n,r){var o,u,f=e.getData(),l=[],c=!1;f.each(function(n){var r,i,p,d,v=f.getItemLayout(n),m=f.getItemModel(n),g=m.getModel("label.normal"),y=g.get("position")||m.get("label.emphasis.position"),b=m.getModel("labelLine.normal"),w=b.get("length"),E=b.get("length2"),S=(v.startAngle+v.endAngle)/2,x=Math.cos(S),T=Math.sin(S);o=v.cx,u=v.cy;var N="inside"===y||"inner"===y;if("center"===y)r=v.cx,i=v.cy,d="center";else{var C=(N?(v.r+v.r0)/2*x:v.r*x)+o,k=(N?(v.r+v.r0)/2*T:v.r*T)+u;if(r=C+3*x,i=k+3*T,!N){var L=C+x*(w+t-v.r),A=k+T*(w+t-v.r),O=L+(x<0?-1:1)*E,M=A;r=O+(x<0?-5:5),i=M,p=[[C,k],[L,A],[O,M]]}d=N?"center":x>0?"left":"right"}var _=g.getFont(),D=g.get("rotate")?x<0?-S+Math.PI:-S:0,P=e.getFormattedLabel(n,"normal")||f.getName(n),H=s.getBoundingRect(P,_,d,"top");c=!!D,v.label={x:r,y:i,position:y,height:H.height,len:w,len2:E,linePoints:p,textAlign:d,verticalAlign:"middle",rotation:D,inside:N},N||l.push(v.label)}),!c&&e.get("avoidLabelOverlap")&&i(l,o,u,t,n,r)}},function(e,t,n){var r=n(4),i=r.parsePercent,s=n(119),o=n(1),u=2*Math.PI,a=Math.PI/180;e.exports=function(e,t,n,f){t.eachSeriesByType(e,function(e){var t=e.get("center"),f=e.get("radius");o.isArray(f)||(f=[0,f]),o.isArray(t)||(t=[t,t]);var c=n.getWidth(),h=n.getHeight(),p=Math.min(c,h),d=i(t[0],c),v=i(t[1],h),m=i(f[0],p/2),g=i(f[1],p/2),y=e.getData(),b=-e.get("startAngle")*a,w=e.get("minAngle")*a,E=0;y.each("value",function(e){!isNaN(e)&&E++});var S=y.getSum("value"),x=Math.PI/(S||E)*2,T=e.get("clockwise"),N=e.get("roseType"),C=e.get("stillShowZeroSum"),k=y.getDataExtent("value");k[0]=0;var L=u,A=0,O=b,M=T?1:-1;if(y.each("value",function(e,t){var n;if(isNaN(e))return void y.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:d,cy:v,r0:m,r:N?NaN:g});n="area"!==N?0===S&&C?x:e*x:u/E,n<w?(n=w,L-=w):A+=e;var i=O+M*n;y.setItemLayout(t,{angle:n,startAngle:O,endAngle:i,clockwise:T,cx:d,cy:v,r0:m,r:N?r.linearMap(e,k,[m,g]):g}),O=i},!0),L<u&&E)if(L<=.001){var _=u/E;y.each("value",function(e,t){if(!isNaN(e)){var n=y.getItemLayout(t);n.angle=_,n.startAngle=b+M*t*_,n.endAngle=b+M*(t+1)*_}})}else x=L/A,O=b,y.each("value",function(e,t){if(!isNaN(e)){var n=y.getItemLayout(t),r=n.angle===w?w:e*x;n.startAngle=O,n.endAngle=O+M*r,O+=M*r}});s(e,g,c,h)})}},function(e,t,n){"use strict";n(62),n(122)},function(e,t,n){var r=n(1),i=n(3),s=n(41),o=n(42),u=n(79),a=s.ifIgnoreOnTick,f=s.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"],h=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var f=e.getCoordSysModel(),p=u.layout(f,e),d=new s(e,p);r.each(l,d.add,d),this._axisGroup.add(d.getGroup()),r.each(c,function(t){e.get(t+".show")&&this["_"+t](e,f,p.labelInterval)},this),i.groupTransition(a,this._axisGroup,e),h.superCall(this,"render",e,t,n,o)}},_splitLine:function(e,t,n){var s=e.axis;if(!s.scale.isBlank()){var o=e.getModel("splitLine"),u=o.getModel("lineStyle"),l=u.get("color"),c=f(o,n);l=r.isArray(l)?l:[l];for(var h=t.coordinateSystem.getRect(),p=s.isHorizontal(),d=0,v=s.getTicksCoords(),m=s.scale.getTicks(),g=[],y=[],b=u.getLineStyle(),w=0;w<v.length;w++)if(!a(s,w,c)){var E=s.toGlobalCoord(v[w]);p?(g[0]=E,g[1]=h.y,y[0]=E,y[1]=h.y+h.height):(g[0]=h.x,g[1]=E,y[0]=h.x+h.width,y[1]=E);var S=d++%l.length;this._axisGroup.add(new i.Line(i.subPixelOptimizeLine({anid:"line_"+m[w],shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:r.defaults({stroke:l[S]},b),silent:!0})))}}},_splitArea:function(e,t,n){var s=e.axis;if(!s.scale.isBlank()){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),l=u.get("color"),c=t.coordinateSystem.getRect(),h=s.getTicksCoords(),p=s.scale.getTicks(),d=s.toGlobalCoord(h[0]),v=s.toGlobalCoord(h[0]),m=0,g=f(o,n),y=u.getAreaStyle();l=r.isArray(l)?l:[l];for(var b=1;b<h.length;b++)if(!a(s,b,g)){var w,E,S,x,T=s.toGlobalCoord(h[b]);s.isHorizontal()?(w=d,E=c.y,S=T-w,x=c.height):(w=c.x,E=v,S=c.width,x=T-E);var N=m++%l.length;this._axisGroup.add(new i.Rect({anid:"area_"+p[b],shape:{x:w,y:E,width:S,height:x},style:r.defaults({fill:l[N]},y),silent:!0})),d=w+S,v=E+x}}}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},,,,,,,,,,,,,,,function(e,t,n){var r=n(1),i=n(33),s=function(e,t,n,r,s){i.call(this,e,t,n),this.type=r||"value",this.position=s||"bottom"};s.prototype={constructor:s,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},r.inherits(s,i),e.exports=s},function(e,t,n){"use strict";function r(e){return this._axes[e]}var i=n(1),s=function(e){this._axes={},this._dimList=[],this.name=e||""};s.prototype={constructor:s,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(e){return e=e.toLowerCase(),i.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,r=e instanceof Array?[]:{},i=0;i<n.length;i++){var s=n[i],o=this._axes[s];r[s]=o[t](e[s])}return r}},e.exports=s},function(e,t,n){"use strict";function r(e){s.call(this,e)}var i=n(1),s=n(138);r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t){var n=this.getAxis("x"),r=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),r.toGlobalCoord(r.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),r=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),r.coordToData(r.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},i.inherits(r,s),e.exports=r},function(e,t,n){"use strict";n(62);var r=n(13);e.exports=r.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(e,t,n){var r=n(28),i=n(24),s=n(18),o=n(43),u=n(11),a=n(1);e.exports={createList:function(e){var t=e.get("data");return r(t,e,e.ecModel)},completeDimensions:n(25),createSymbol:i.createSymbol,createScale:function(e,t){var n=t;t instanceof u||(n=new u(t),a.mixin(n,o));var r=s.createScaleByModel(n);return r.setExtent(e[0],e[1]),s.niceScaleExtent(r,n),r},mixinAxisModelCommonMethods:function(e){a.mixin(e,o)}}},function(e,t,n){var r=n(3),i=n(1),s=Math.PI;e.exports=function(e,t){t=t||{},i.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new r.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=new r.Arc({shape:{startAngle:-s/2,endAngle:-s/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),u=new r.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*s/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*s/2}).delay(300).start("circularInOut");var f=new r.Group;return f.add(o),f.add(u),f.add(n),f.resize=function(){var t=e.getWidth()/2,r=e.getHeight()/2;o.setShape({cx:t,cy:r});var i=o.shape.r;u.setShape({x:t-i,y:r-i,width:2*i,height:2*i}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},f.resize(),f}},function(e,t,n){function r(e,t){l.each(t,function(t,n){b.hasClass(n)||("object"==typeof t?e[n]=e[n]?l.merge(e[n],t,!1):l.clone(t):null==e[n]&&(e[n]=t))})}function i(e){e=e,this.option={},this.option[E]=1,this._componentsMap=l.createHashMap({series:[]}),this._seriesIndices=null,r(e,this._theme.option),l.merge(e,w,!1),this.mergeOption(e)}function s(e,t){l.isArray(t)||(t=t?[t]:[]);var n={};return p(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}function o(e,t,n){var r=t.type?t.type:n?n.subType:b.determineSubType(e,t);return r}function u(e){return v(e,function(e){return e.componentIndex})||[]}function a(e,t){return t.hasOwnProperty("subType")?d(e,function(e){return e.subType===t.subType}):e}function f(e){}var l=n(1),c=n(5),h=n(11),p=l.each,d=l.filter,v=l.map,m=l.isArray,g=l.indexOf,y=l.isObject,b=n(13),w=n(145),E="\0_ec_inner",S=h.extend({constructor:S,init:function(e,t,n,r){n=n||{},this.option=null,this._theme=new h(n),this._optionManager=r},setOption:function(e,t){l.assert(!(E in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var r=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(r)):i.call(this,r),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=n.getTimelineOption(this);s&&(this.mergeOption(s),t=!0)}if(!e||"recreate"===e||"media"===e){var o=n.getMediaOption(this,this._api);o.length&&p(o,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,i){var a=c.normalizeToArray(e[t]),f=c.mappingToExists(r.get(t),a);c.makeIdAndName(f),p(f,function(e,n){var r=e.option;y(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=o(t,r,e.exist))});var h=s(r,i);n[t]=[],r.set(t,[]),p(f,function(e,i){var s=e.exist,o=e.option;if(l.assert(y(o)||s,"Empty component definition"),o){var u=b.getClass(t,e.keyInfo.subType,!0);if(s&&s instanceof u)s.name=e.keyInfo.name,s.mergeOption(o,this),s.optionUpdated(o,!1);else{var a=l.extend({dependentModels:h,componentIndex:i},e.keyInfo);s=new u(o,this,this,a),l.extend(s,a),s.init(o,this,this,a),s.optionUpdated(null,!0)}}else s.mergeOption({},this),s.optionUpdated({},!1);r.get(t)[i]=s,n[t][i]=s.option},this),"series"===t&&(this._seriesIndices=u(r.get("series")))}var n=this.option,r=this._componentsMap,i=[];p(e,function(e,t){null!=e&&(b.hasClass(t)?i.push(t):n[t]=null==n[t]?l.clone(e):l.merge(n[t],e,!0))}),b.topologicalTravel(i,b.getAllClassMainTypes(),t,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var e=l.clone(this.option);return p(e,function(t,n){if(b.hasClass(n)){for(var t=c.normalizeToArray(t),r=t.length-1;r>=0;r--)c.isIdInner(t[r])&&t.splice(r,1);e[n]=t}}),delete e[E],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,r=e.id,i=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];var o;if(null!=n)m(n)||(n=[n]),o=d(v(n,function(e){return s[e]}),function(e){return!!e});else if(null!=r){var u=m(r);o=d(s,function(e){return u&&g(r,e.id)>=0||!u&&e.id===r})}else if(null!=i){var f=m(i);o=d(s,function(e){return f&&g(i,e.name)>=0||!f&&e.name===i})}else o=s.slice();return a(o,e)},findComponents:function(e){function t(e){var t=i+"Index",n=i+"Id",r=i+"Name";return!e||null==e[t]&&null==e[n]&&null==e[r]?null:{mainType:i,index:e[t],id:e[n],name:e[r]}}function n(t){return e.filter?d(t,e.filter):t}var r=e.query,i=e.mainType,s=t(r),o=s?this.queryComponents(s):this._componentsMap.get(i);return n(a(o,e))},eachComponent:function(e,t,n){var r=this._componentsMap;if("function"==typeof e)n=t,t=e,r.each(function(e,r){p(e,function(e,i){t.call(n,r,e,i)})});else if(l.isString(e))p(r.get(e),t,n);else if(y(e)){var i=this.findComponents(e);p(i,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return d(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return d(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(e,t){f(this),p(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)},this)},eachRawSeries:function(e,t){p(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){f(this),p(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===e&&t.call(n,i,r)},this)},eachRawSeriesByType:function(e,t,n){return p(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return f(this),l.indexOf(this._seriesIndices,e.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){f(this);var n=d(this._componentsMap.get("series"),e,t);this._seriesIndices=u(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=u(e.get("series"));var t=[];e.each(function(e,n){t.push(n)}),b.topologicalTravel(t,b.getAllClassMainTypes(),function(t,n){p(e.get(t),function(e){e.restoreData()})})}});l.mixin(S,n(64)),e.exports=S},function(e,t,n){function r(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function i(e,t,n){var r,i,s=[],o=[],u=e.timeline;if(e.baseOption&&(i=e.baseOption),(u||e.options)&&(i=i||{},s=(e.options||[]).slice()),e.media){i=i||{};var a=e.media;h(a,function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))})}return i||(i=e),i.timeline||(i.timeline=u),h([i].concat(s).concat(f.map(o,function(e){return e.option})),function(e){h(t,function(t){t(e,n)})}),{baseOption:i,timelineOptions:s,mediaDefault:r,mediaList:o}}function s(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return f.each(e,function(e,t){var n=t.match(m);if(n&&n[1]&&n[2]){var s=n[1],u=n[2].toLowerCase();o(r[u],e,s)||(i=!1)}}),i}function o(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function u(e,t){return e.join(",")===t.join(",")}function a(e,t){t=t||{},h(t,function(t,n){if(null!=t){var r=e[n];if(c.hasClass(n)){t=l.normalizeToArray(t),r=l.normalizeToArray(r);var i=l.mappingToExists(r,t);e[n]=d(i,function(e){return e.option&&e.exist?v(e.exist,e.option,!0):e.exist||e.option})}else e[n]=v(r,t,!0)}})}var f=n(1),l=n(5),c=n(13),h=f.each,p=f.clone,d=f.map,v=f.merge,m=/^(min|max)?(.+)$/;r.prototype={constructor:r,setOption:function(e,t){e=p(e,!0);var n=this._optionBackup,r=i.call(this,e,t,!n);this._newBaseOption=r.baseOption,n?(a(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=d(t.timelineOptions,p),this._mediaList=d(t.mediaList,p),this._mediaDefault=p(t.mediaDefault),this._currentMediaIndices=[],p(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=p(n[r.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],a=[];if(!r.length&&!i)return a;for(var f=0,l=r.length;f<l;f++)s(r[f].query,t,n)&&o.push(f);return!o.length&&i&&(o=[-1]),o.length&&!u(o,this._currentMediaIndices)&&(a=d(o,function(e){return p(e===-1?i.option:r[e].option)})),this._currentMediaIndices=o,a}},e.exports=r},function(e,t){var n="";"undefined"!=typeof navigator&&(n=navigator.platform||""),e.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1}},function(e,t,n){e.exports={getAreaStyle:n(31)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(e,t){e.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(e,t,n){var r=n(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);e.exports={getItemStyle:function(e,t){var n=r.call(this,e,t),s=this.getBorderLineDash();return s&&(n.lineDash=s),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}},function(e,t,n){var r=n(31)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getLineStyle:function(e){var t=r.call(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),r=4*e;return"solid"===t||null==t?null:"dashed"===t?[r,r]:[n,n]}}},function(e,t,n){var r=n(16),i=n(3),s=["textStyle","color"];e.exports={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(s):null)},getFont:function(){return i.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return r.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}}},function(e,t,n){function r(e,t){t=t.split(",");for(var n=e,r=0;r<t.length&&(n=n&&n[t[r]],null!=n);r++);return n}function i(e,t,n,r){t=t.split(",");for(var i,s=e,o=0;o<t.length-1;o++)i=t[o],null==s[i]&&(s[i]={}),s=s[i];(r||null==s[t[o]])&&(s[t[o]]=n)}function s(e){c(a,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var o=n(1),u=n(152),a=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=o.each;e.exports=function(e,t){u(e,t);var n=e.series;c(o.isArray(n)?n:[n],function(e){if(o.isObject(e)){var t=e.type;if("pie"!==t&&"gauge"!==t||null!=e.clockWise&&(e.clockwise=e.clockWise),"gauge"===t){var n=r(e,"pointer.color");null!=n&&i(e,"itemStyle.normal.color",n)}for(var u=0;u<l.length;u++)if(l[u]===e.type){s(e);break}}}),e.dataRange&&(e.visualMap=e.dataRange),c(f,function(t){var n=e[t];n&&(o.isArray(n)||(n=[n]),c(n,function(e){s(e)}))})}},function(e,t,n){function r(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=p.length;n<r;n++){var i=p[n],s=t.normal,o=t.emphasis;s&&s[i]&&(e[i]=e[i]||{},e[i].normal?f.merge(e[i].normal,s[i]):e[i].normal=s[i],s[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?f.merge(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function i(e,t){var n=h(e)&&e[t],r=h(n)&&n.textStyle;if(r)for(var i=0,s=l.TEXT_STYLE_OPTIONS.length;i<s;i++){var t=l.TEXT_STYLE_OPTIONS[i];r.hasOwnProperty(t)&&(n[t]=r[t])}}function s(e){h(e)&&(i(e,"normal"),i(e,"emphasis"))}function o(e){if(h(e)){r(e),s(e.label),s(e.upperLabel),s(e.edgeLabel);var t=e.markPoint;r(t),s(t&&t.label);var n=e.markLine;r(e.markLine),s(n&&n.label);var o=e.markArea;s(o&&o.label),i(e,"axisLabel"),i(e,"title"),i(e,"detail");var u=e.data;if(u){for(var a=0;a<u.length;a++)r(u[a]),s(u[a]&&u[a].label);var t=e.markPoint;if(t&&t.data)for(var l=t.data,a=0;a<l.length;a++)r(l[a]),s(l[a]&&l[a].label);var n=e.markLine;if(n&&n.data)for(var c=n.data,a=0;a<c.length;a++)f.isArray(c[a])?(r(c[a][0]),s(c[a][0]&&c[a][0].label),r(c[a][1]),s(c[a][1]&&c[a][1].label)):(r(c[a]),s(c[a]&&c[a].label))}}}function u(e){return f.isArray(e)?e:e?[e]:[]}function a(e){return(f.isArray(e)?e[0]:e)||{}}var f=n(1),l=n(5),c=f.each,h=f.isObject,p=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];e.exports=function(e,t){c(u(e.series),function(e){h(e)&&o(e)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),c(n,function(t){c(u(e[t]),function(e){e&&(i(e,"axisLabel"),i(e.axisPointer,"label"))})}),c(u(e.parallel),function(e){var t=e&&e.parallelAxisDefault;i(t,"axisLabel"),i(t&&t.axisPointer,"label")}),c(u(e.calendar),function(e){i(e,"dayLabel"),i(e,"monthLabel"),i(e,"yearLabel")}),c(u(e.radar),function(e){i(e,"name")}),c(u(e.geo),function(e){h(e)&&(s(e.label),c(u(e.regions),function(e){s(e.label)}))}),s(a(e.timeline).label),i(a(e.axisPointer),"label"),i(a(e.tooltip).axisPointer,"label")}},function(e,t){var n={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-(1/0),n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},r=function(e,t){return Math.round(e.length/2)};e.exports=function(e,t,s){t.eachSeriesByType(e,function(e){var t=e.getData(),s=e.get("sampling"),o=e.coordinateSystem;if("cartesian2d"===o.type&&s){var u=o.getBaseAxis(),a=o.getOtherAxis(u),f=u.getExtent(),l=f[1]-f[0],c=Math.round(t.count()/l);if(c>1){var h;"string"==typeof s?h=n[s]:"function"==typeof s&&(h=s),h&&(t=t.downSample(a.dim,1/c,h,r),e.setData(t))}}},this)}},function(e,t,n){function r(e,t){return c(e,l(t))}var i=n(1),s=n(34),o=n(4),u=n(45),a=s.prototype,f=u.prototype,l=o.getPrecisionSafe,c=o.round,h=Math.floor,p=Math.ceil,d=Math.pow,v=Math.log,m=s.extend({type:"log",base:10,$constructor:function(){s.apply(this,arguments),this._originalScale=new u},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return i.map(f.getTicks.call(this),function(i){var s=o.round(d(this.base,i));return s=i===t[0]&&e.__fixMin?r(s,n[0]):s,s=i===t[1]&&e.__fixMax?r(s,n[1]):s},this)},getLabel:f.getLabel,scale:function(e){return e=a.scale.call(this,e),d(this.base,e)},setExtent:function(e,t){var n=this.base;e=v(e)/v(n),t=v(t)/v(n),f.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=a.getExtent.call(this);t[0]=d(e,t[0]),t[1]=d(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=r(t[0],i[0])),n.__fixMax&&(t[1]=r(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=v(e[0])/v(t),e[1]=v(e[1])/v(t),a.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getDataExtent(t,!0,function(e){return e>0}))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=o.quantity(n),i=e/n*r;for(i<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var s=[o.round(p(t[0]/r)*r),o.round(h(t[1]/r)*r)];this._interval=r,this._niceExtent=s}},niceExtent:function(e){f.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});i.each(["contain","normalize"],function(e){m.prototype[e]=function(t){return t=v(t)/v(this.base),a[e].call(this,t)}}),m.create=function(){return new m},e.exports=m},function(e,t,n){var r=n(1),i=n(34),s=i.prototype,o=i.extend({type:"ordinal",init:function(e,t){this._data=e,this._extent=t||[0,e.length-1]},parse:function(e){return"string"==typeof e?r.indexOf(this._data,e):Math.round(e)},contain:function(e){return e=this.parse(e),s.contain.call(this,e)&&null!=this._data[e]},normalize:function(e){return s.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(s.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._data[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getDataExtent(t,!1))},niceTicks:r.noop,niceExtent:r.noop});o.create=function(){return new o},e.exports=o},function(e,t,n){var r=n(1),i=n(4),s=n(7),o=n(66),u=n(45),a=u.prototype,f=Math.ceil,l=Math.floor,c=1e3,h=60*c,p=60*h,d=24*p,v=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][2]<t?n=i+1:r=i}return n},m=u.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return s.formatTime(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=d,t[1]+=d),t[1]===-(1/0)&&t[0]===1/0){var n=new Date;t[1]=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-d}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=i.round(l(t[0]/r)*r)),e.fixMax||(t[1]=i.round(f(t[1]/r)*r))},niceTicks:function(e,t,n){var r=this.getSetting("useUTC")?0:60*i.getTimezoneOffset()*1e3;e=e||10;var s=this._extent,u=s[1]-s[0],a=u/e;null!=t&&a<t&&(a=t),null!=n&&a>n&&(a=n);var c=g.length,h=v(g,a,0,c),p=g[Math.min(h,c-1)],d=p[2];if("year"===p[0]){var m=u/d,y=i.nice(m/e,!0);d*=y}var b=[Math.round(f((s[0]-r)/d)*d+r),Math.round(l((s[1]-r)/d)*d+r)];o.fixExtent(b,s),this._stepLvl=p,this._interval=d,this._niceExtent=b},parse:function(e){return+i.parseDate(e)}});r.each(["contain","normalize"],function(e){m.prototype[e]=function(t){return a[e].call(this,this.parse(t))}});var g=[["hh:mm:ss",1,c],["hh:mm:ss",5,5*c],["hh:mm:ss",10,10*c],["hh:mm:ss",15,15*c],["hh:mm:ss",30,30*c],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",5,5*h],["hh:mm\nMM-dd",10,10*h],["hh:mm\nMM-dd",15,15*h],["hh:mm\nMM-dd",30,30*h],["hh:mm\nMM-dd",1,p],["hh:mm\nMM-dd",2,2*p],["hh:mm\nMM-dd",6,6*p],["hh:mm\nMM-dd",12,12*p],["MM-dd\nyyyy",1,d],["week",7,7*d],["month",1,31*d],["quarter",3,380*d/4],["half-year",6,380*d/2],["year",1,380*d]];m.create=function(e){return new m({useUTC:e.ecModel.get("useUTC")})},e.exports=m},function(e,t,n){var r=n(39);e.exports=function(e){function t(t){var n=(t.visualColorAccessPath||"itemStyle.normal.color").split("."),s=t.getData(),o=t.get(n)||t.getColorFromPalette(t.get("name"));s.setVisual("color",o),e.isSeriesFiltered(t)||("function"!=typeof o||o instanceof r||s.each(function(e){s.setItemVisual(e,"color",o(t.getDataParams(e)))}),s.each(function(e){var t=s.getItemModel(e),r=t.get(n,!0);null!=r&&s.setItemVisual(e,"color",r)}))}e.eachRawSeries(t)}},function(e,t,n){"use strict";function r(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch}}function i(){}function s(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r,i=e;i;){if(i.clipPath&&!i.clipPath.contain(t,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||f}return!1}var o=n(1),u=n(184),a=n(23),f="silent";i.prototype.dispose=function(){};var l=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],c=function(e,t,n,r){a.call(this),this.storage=e,this.painter=t,this.painterRoot=r,n=n||new i,this.proxy=n,n.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,u.call(this),o.each(l,function(e){n.on&&n.on(e,this[e],this)},this)};c.prototype={constructor:c,mousemove:function(e){var t=e.zrX,n=e.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(r=this.findHover(r.x,r.y),i=r.target);var s=this._hovered=this.findHover(t,n),o=s.target,u=this.proxy;u.setCursor&&u.setCursor(o?o.cursor:"default"),i&&o!==i&&this.dispatchToElement(r,"mouseout",e),this.dispatchToElement(s,"mousemove",e),o&&o!==i&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t,n=e.toElement||e.relatedTarget;do n=n&&n.parentNode;while(n&&9!=n.nodeType&&!(t=n===this.painterRoot));!t&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){e=e||{};var i=e.target;if(!i||!i.silent){for(var s="on"+t,o=r(t,e,n);i&&(i[s]&&(o.cancelBubble=i[s].call(i,o)),i.trigger(t,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(e){"function"==typeof e[s]&&e[s].call(e,o),e.trigger&&e.trigger(t,o)}))}},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),i={x:e,y:t},o=r.length-1;o>=0;o--){var u;if(r[o]!==n&&!r[o].ignore&&(u=s(r[o],e,t))&&(!i.topTarget&&(i.topTarget=r[o]),u!==f)){i.target=r[o];break}}return i}},o.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){c.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY),r=n.target;if("mousedown"===e)this._downel=r,this._upel=r;else if("mosueup"===e)this._upel=r;else if("click"===e&&this._downel!==this._upel)return;this.dispatchToElement(n,e,t)}}),o.mixin(c,a),o.mixin(c,u),e.exports=c},function(e,t,n){function r(){return!1}function i(e,t,n,r){var i=document.createElement(t),s=n.getWidth(),o=n.getHeight(),u=i.style;return u.position="absolute",u.left=0,u.top=0,u.width=s+"px",u.height=o+"px",i.width=s*r,i.height=o*r,i.setAttribute("data-zr-dom-id",e),i}var s=n(1),o=n(35),u=n(75),a=n(74),f=function(e,t,n){var u;n=n||o.devicePixelRatio,"string"==typeof e?u=i(e,"canvas",t,n):s.isObject(e)&&(u=e,e=u.id),this.id=e,this.dom=u;var a=u.style;a&&(u.onselectstart=r,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};f.prototype={constructor:f,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=i("back-"+this.id,"canvas",this.painter,e),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,r=this.dom,i=r.style,s=this.domBack;i.width=e+"px",i.height=t+"px",r.width=e*n,r.height=t*n,s&&(s.width=e*n,s.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t=this.dom,n=this.ctx,r=t.width,i=t.height,s=this.clearColor,o=this.motionBlur&&!e,f=this.lastFrameAlpha,c=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,r/c,i/c)),n.clearRect(0,0,r,i),s){var h;s.colorStops?(h=s.__canvasGradient||u.getGradient(n,s,{x:0,y:0,width:r,height:i}),s.__canvasGradient=h):s.image&&(h=a.prototype.getCanvasPattern.call(s,n)),n.save(),n.fillStyle=h||s,n.fillRect(0,0,r,i),n.restore()}if(o){var p=this.domBack;n.save(),n.globalAlpha=f,n.drawImage(p,0,0,r,i),n.restore()}}},e.exports=f},function(e,t,n){"use strict";function r(e){return parseInt(e,10)}function i(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}function s(e){e.__unusedCount++}function o(e){1==e.__unusedCount&&e.clear()}function u(e,t,n){return b.copy(e.getBoundingRect()),e.transform&&b.applyTransform(e.transform),w.width=t,w.height=n,!b.intersect(w)}function a(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}function f(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.setTransform(t),t.beginPath(),r.buildPath(t,r.shape),t.clip(),r.restoreTransform(t)}}function l(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var c=n(35),h=n(1),p=n(54),d=n(12),v=n(52),m=n(159),g=n(70),y=5,b=new d(0,0,0,0),w=new d(0,0,0,0),E=function(e,t,n){var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=h.extend({},n||{}),this.dpr=n.devicePixelRatio||c.devicePixelRatio,this._singleCanvas=r,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var s=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},r){null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height);var u=e.width,a=e.height;this._width=u,this._height=a;var f=new m(e,this,1);f.initContext(),o[0]=f,s.push(0),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=l(this._width,this._height);e.appendChild(p)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};E.prototype={constructor:E,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(t,e);for(var r=0;r<n.length;r++){var i=n[r],s=this._layers[i];!s.__builtin__&&s.refresh&&s.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,r=h.indexOf(n,t);r>=0&&n.splice(r,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var r=t[n].__from;r&&(r.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){v(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<t;){var s=e[i],o=s.__from;o&&o.__zr?(i++,o.invisible||(s.transform=o.transform,s.invTransform=o.invTransform,s.__clipPaths=o.__clipPaths,this._doPaintEl(s,n,!0,r))):(e.splice(i,1),o.__hoverMir=null,t--)}n.ctx.restore()}},_startProgessive:function(){function e(){n===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,g(e)):t._progressiveToken=-1)}var t=this;if(t._furtherProgressive){var n=t._progressiveToken=+(new Date);t._progress++,g(e)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,h.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e),this._clearProgressive(),this.eachBuiltinLayer(s),this._doPaintList(e,t),this.eachBuiltinLayer(o)},_doPaintList:function(e,t){function n(e){var t=s.dpr||1;s.save(),s.globalAlpha=1,s.shadowBlur=0,r.__dirty=!0,s.setTransform(1,0,0,1,0,0),s.drawImage(e.dom,0,0,l*t,c*t),s.restore()}for(var r,i,s,o,u,a,f=0,l=this._width,c=this._height,d=this._progress,v=0,m=e.length;v<m;v++){var g=e[v],b=this._singleCanvas?0:g.zlevel,w=g.__frame;if(w<0&&u&&(n(u),u=null),i!==b&&(s&&s.restore(),o={},i=b,r=this.getLayer(i),r.__builtin__||p("ZLevel "+i+" has been used by unkown layer "+r.id),s=r.ctx,s.save(),r.__unusedCount=0,(r.__dirty||t)&&r.clear()),r.__dirty||t){if(w>=0){if(!u){if(u=this._progressiveLayers[Math.min(f++,y-1)],u.ctx.save(),u.renderScope={},u&&u.__progress>u.__maxProgress){v=u.__nextIdxNotProg-1;continue}a=u.__progress,u.__dirty||(d=a),u.__progress=d+1}w===d&&this._doPaintEl(g,u,!0,u.renderScope)}else this._doPaintEl(g,r,t,o);g.__dirty=!1}}u&&n(u),s&&s.restore(),this._furtherProgressive=!1,h.each(this._progressiveLayers,function(e){e.__maxProgress>=e.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(e,t,n,r){var i=t.ctx,s=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!s||s[0]||s[3])&&(!e.culling||!u(e,this._width,this._height))){var o=e.__clipPaths;(r.prevClipLayer!==t||a(o,r.prevElClipPaths))&&(r.prevElClipPaths&&(r.prevClipLayer.ctx.restore(),r.prevClipLayer=r.prevElClipPaths=null,r.prevEl=null),o&&(i.save(),f(o,i),r.prevClipLayer=t,r.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,r.prevEl||null),r.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||(t=new m("zr_"+e,this,this.dpr),t.__builtin__=!0,this._layerConfig[e]&&h.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,t){var n=this._layers,r=this._zlevelList,s=r.length,o=null,u=-1,a=this._domRoot;if(n[e])return void p("ZLevel "+e+" has been used already");if(!i(t))return void p("Layer of zlevel "+e+" is not valid");if(s>0&&e>r[0]){for(u=0;u<s-1&&!(r[u]<e&&r[u+1]>e);u++);o=n[r[u]]}if(r.splice(u+1,0,e),n[e]=t,!t.virtual)if(o){var f=o.dom;f.nextSibling?a.insertBefore(t.dom,f.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom)},eachLayer:function(e,t){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__&&e.call(t,n,r)},eachOtherLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__||e.call(t,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers,n=this._progressiveLayers,r={},i={};this.eachBuiltinLayer(function(e,t){r[t]=e.elCount,e.elCount=0,e.__dirty=!1}),h.each(n,function(e,t){i[t]=e.elCount,e.elCount=0,e.__dirty=!1});for(var s,o,u=0,a=0,f=0,l=e.length;f<l;f++){var c=e[f],p=this._singleCanvas?0:c.zlevel,d=t[p],v=c.progressive;if(d&&(d.elCount++,d.__dirty=d.__dirty||c.__dirty),v>=0){o!==v&&(o=v,a++);var g=c.__frame=a-1;if(!s){var b=Math.min(u,y-1);s=n[b],s||(s=n[b]=new m("progressive",this,this.dpr),s.initContext()),s.__maxProgress=0}s.__dirty=s.__dirty||c.__dirty,s.elCount++,s.__maxProgress=Math.max(s.__maxProgress,g),s.__maxProgress>=s.__progress&&(d.__dirty=!0)}else c.__frame=-1,s&&(s.__nextIdxNotProg=f,u++,s=null)}s&&(u++,s.__nextIdxNotProg=f),this.eachBuiltinLayer(function(e,t){r[t]!==e.elCount&&(e.__dirty=!0)}),n.length=Math.min(u,y),h.each(n,function(e,t){i[t]!==e.elCount&&(c.__dirty=!0),e.__dirty&&(e.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?h.merge(n[e],t,!0):n[e]=t;var r=this._layers[e];r&&h.merge(r,n[e],!0)}},delLayer:function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(h.indexOf(n,e),1))},resize:function(e,t){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);h.each(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){function t(e,t){var r=o._zlevelList;null==e&&(e=-(1/0));for(var i,s=0;s<r.length;s++){var u=r[s],a=o._layers[u];if(!a.__builtin__&&u>e&&u<t){i=a;break}}i&&i.renderToCanvas&&(n.ctx.save(),i.renderToCanvas(n.ctx),n.ctx.restore())}if(e=e||{},this._singleCanvas)return this._layers[0].dom;var n=new m("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clearColor=e.backgroundColor,n.clear();for(var r,i=this.storage.getDisplayList(!0),s={},o=this,u=0;u<i.length;u++){var a=i[u];a.zlevel!==r&&(t(r,a.zlevel),r=a.zlevel),this._doPaintEl(a,n,!0,s)}return t(r,1/0),n.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],s=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var u=this.root,a=document.defaultView.getComputedStyle(u);return(u[i]||r(a[n])||r(u.style[n]))-(r(a[s])||0)-(r(a[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),s=e.getBoundingRect(),o=e.style,u=o.shadowBlur,a=o.shadowOffsetX,f=o.shadowOffsetY,l=o.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-a+u),h=Math.max(l/2,a+u),p=Math.max(l/2,-f+u),d=Math.max(l/2,f+u),v=s.width+c+h,m=s.height+p+d;r.width=v*t,r.height=m*t,i.scale(t,t),i.clearRect(0,0,v,m),i.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[c-s.x,p-s.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var y=n(55),b=new y({style:{x:0,y:0,image:r}});return null!=g.position&&(b.position=e.position=g.position),null!=g.rotation&&(b.rotation=e.rotation=g.rotation),null!=g.scale&&(b.scale=e.scale=g.scale),b}},e.exports=E},function(e,t,n){"use strict";function r(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var i=n(1),s=n(10),o=n(36),u=n(52),a=function(){this._roots=[],this._displayList=[],this._displayListLen=0};a.prototype={constructor:a,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,s.canvasSupported&&u(n,r)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var r=e.clipPath;if(r){t=t?t.slice():[];for(var i=r,s=e;i;)i.parent=s,i.updateTransform(),t.push(i),s=i,i=i.clipPath}if(e.isGroup){for(var o=e._children,u=0;u<o.length;u++){var a=o[u];e.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof o&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof o&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(e instanceof Array)for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);else{var s=i.indexOf(this._roots,e);s>=0&&(this.delFromStorage(e),this._roots.splice(s,1),e instanceof o&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e.__storage=this,e.dirty(!1),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:r},e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(21).Dispatcher,s=n(70),o=n(69),u=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,i.call(this)};u.prototype={constructor:u,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=r.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,r=n.length,i=[],s=[],o=0;o<r;o++){var u=n[o],a=u.step(e,t);a&&(i.push(a),s.push(u))}for(var o=0;o<r;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;r=i.length;for(var o=0;o<r;o++)s[o].fire(i[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){function e(){t._running&&(s(e),!t._paused&&t._update())}var t=this;this._running=!0,s(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new o(e,t.loop,t.getter,t.setter);return this.addAnimator(n),n}},r.mixin(u,i),e.exports=u},function(e,t,n){function r(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}var i=n(164);r.prototype={constructor:r,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)return void (this._pausedTime+=t);var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,s="string"==typeof r?i[r]:r,o="function"==typeof s?s(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},e.exports=r},function(e,t){var n={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5}};e.exports=n},function(e,t,n){var r=n(71).normalizeRadian,i=2*Math.PI;e.exports={containStroke:function(e,t,n,s,o,u,a,f,l){if(0===a)return!1;var c=a;f-=e,l-=t;var h=Math.sqrt(f*f+l*l);if(h-c>n||h+c<n)return!1;if(Math.abs(s-o)%i<1e-4)return!0;if(u){var p=s;s=r(o),o=r(p)}else s=r(s),o=r(o);s>o&&(o+=i);var d=Math.atan2(l,f);return d<0&&(d+=i),d>=s&&d<=o||d+i>=s&&d+i<=o}}},function(e,t,n){var r=n(20);e.exports={containStroke:function(e,t,n,s,o,u,a,f,l,c,h){if(0===l)return!1;var p=l;if(h>t+p&&h>s+p&&h>u+p&&h>f+p||h<t-p&&h<s-p&&h<u-p&&h<f-p||c>e+p&&c>n+p&&c>o+p&&c>a+p||c<e-p&&c<n-p&&c<o-p&&c<a-p)return!1;var d=r.cubicProjectPoint(e,t,n,s,o,u,a,f,c,h,null);return d<=p/2}}},function(e,t,n){"use strict";function r(e,t){return Math.abs(e-t)<b}function i(){var e=E[0];E[0]=E[1],E[1]=e}function s(e,t,n,r,s,o,u,a,f,l){if(l>t&&l>r&&l>o&&l>a||l<t&&l<r&&l<o&&l<a)return 0;var c=v.cubicRootAt(t,r,o,a,l,w);if(0===c)return 0;for(var h,p,d=0,m=-1,g=0;g<c;g++){var y=w[g],b=0===y||1===y?.5:1,S=v.cubicAt(e,n,s,u,y);S<f||(m<0&&(m=v.cubicExtrema(t,r,o,a,E),E[1]<E[0]&&m>1&&i(),h=v.cubicAt(t,r,o,a,E[0]),m>1&&(p=v.cubicAt(t,r,o,a,E[1]))),d+=2==m?y<E[0]?h<t?b:-b:y<E[1]?p<h?b:-b:a<p?b:-b:y<E[0]?h<t?b:-b:a<h?b:-b)}return d}function o(e,t,n,r,i,s,o,u){if(u>t&&u>r&&u>s||u<t&&u<r&&u<s)return 0;var a=v.quadraticRootAt(t,r,s,u,w);if(0===a)return 0;var f=v.quadraticExtremum(t,r,s);if(f>=0&&f<=1){for(var l=0,c=v.quadraticAt(t,r,s,f),h=0;h<a;h++){var p=0===w[h]||1===w[h]?.5:1,d=v.quadraticAt(e,n,i,w[h]);d<o||(l+=w[h]<f?c<t?p:-p:s<c?p:-p)}return l}var p=0===w[0]||1===w[0]?.5:1,d=v.quadraticAt(e,n,i,w[0]);return d<o?0:s<t?p:-p}function u(e,t,n,r,i,s,o,u){if(u-=t,u>n||u<-n)return 0;var a=Math.sqrt(n*n-u*u);w[0]=-a,w[1]=a;var f=Math.abs(r-i);if(f<1e-4)return 0;if(f%y<1e-4){r=0,i=y;var l=s?1:-1;return o>=w[0]+e&&o<=w[1]+e?l:0}if(s){var a=r;r=d(i),i=d(a)}else r=d(r),i=d(i);r>i&&(i+=y);for(var c=0,h=0;h<2;h++){var p=w[h];if(p+e>o){var v=Math.atan2(u,p),l=s?1:-1;v<0&&(v=y+v),(v>=r&&v<=i||v+y>=r&&v+y<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(l=-l),c+=l)}}return c}function a(e,t,n,i,a){for(var l=0,d=0,v=0,y=0,b=0,w=0;w<e.length;){var E=e[w++];switch(E===f.M&&w>1&&(n||(l+=m(d,v,y,b,i,a))),1==w&&(d=e[w],v=e[w+1],y=d,b=v),E){case f.M:y=e[w++],b=e[w++],d=y,v=b;break;case f.L:if(n){if(g(d,v,e[w],e[w+1],t,i,a))return!0}else l+=m(d,v,e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.C:if(n){if(c.containStroke(d,v,e[w++],e[w++],e[w++],e[w++],e[w],e[w+1],t,i,a))return!0}else l+=s(d,v,e[w++],e[w++],e[w++],e[w++],e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.Q:if(n){if(h.containStroke(d,v,e[w++],e[w++],e[w],e[w+1],t,i,a))return!0}else l+=o(d,v,e[w++],e[w++],e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.A:var S=e[w++],x=e[w++],T=e[w++],N=e[w++],C=e[w++],k=e[w++],L=(e[w++],1-e[w++]),A=Math.cos(C)*T+S,O=Math.sin(C)*N+x;w>1?l+=m(d,v,A,O,i,a):(y=A,b=O);var M=(i-S)*N/T+S;if(n){if(p.containStroke(S,x,N,C,C+k,L,t,M,a))return!0}else l+=u(S,x,N,C,C+k,L,M,a);d=Math.cos(C+k)*T+S,v=Math.sin(C+k)*N+x;break;case f.R:y=d=e[w++],b=v=e[w++];var _=e[w++],D=e[w++],A=y+_,O=b+D;if(n){if(g(y,b,A,b,t,i,a)||g(A,b,A,O,t,i,a)||g(A,O,y,O,t,i,a)||g(y,O,y,b,t,i,a))return!0}else l+=m(A,b,A,O,i,a),l+=m(y,O,y,b,i,a);break;case f.Z:if(n){if(g(d,v,y,b,t,i,a))return!0}else l+=m(d,v,y,b,i,a);d=y,v=b}}return n||r(v,b)||(l+=m(d,v,y,b,i,a)||0),0!==l}var f=n(27).CMD,l=n(101),c=n(166),h=n(102),p=n(165),d=n(71).normalizeRadian,v=n(20),m=n(103),g=l.containStroke,y=2*Math.PI,b=1e-4,w=[-1,-1,-1],E=[-1,-1];e.exports={contain:function(e,t,n){return a(e,0,!1,t,n)},containStroke:function(e,t,n,r){return a(e,t,!0,n,r)}}},function(e,t,n){"use strict";function r(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function i(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var s=n(21),o=function(){this._track=[]};o.prototype={constructor:o,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},o=0,u=r.length;o<u;o++){var f=r[o],l=s.clientToLocal(n,f,{});i.points.push([l.zrX,l.zrY]),i.touches.push(f)}this._track.push(i)}},_recognize:function(e){for(var t in u)if(u.hasOwnProperty(t)){var n=u[t](this._track,e);if(n)return n}}};var u={pinch:function(e,t){var n=e.length;if(n){var s=(e[n-1]||{}).points,o=(e[n-2]||{}).points||s;if(o&&o.length>1&&s&&s.length>1){var u=r(s)/r(o);!isFinite(u)&&(u=1),t.pinchScale=u;var a=i(s);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};e.exports=o},function(e,t,n){function r(e){return"mousewheel"===e&&h.browser.firefox?"DOMMouseScroll":e}function i(e,t,n){var r=e._gestureMgr;"start"===n&&r.clear();var i=r.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if("end"===n&&r.clear(),i){var s=i.type;t.gestureEvent=s,e.handler.dispatchToElement({target:i.target},s,i.event)}}function s(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function o(e){var t=e.pointerType;return"pen"===t||"touch"===t}function u(e){function t(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}l.each(b,function(t){e._handlers[t]=l.bind(S[t],e)}),l.each(E,function(t){e._handlers[t]=l.bind(S[t],e)}),l.each(y,function(n){e._handlers[n]=t(S[n],e)})}function a(e){function t(t,n){l.each(t,function(t){d(e,r(t),n._handlers[t])},n)}c.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new p,this._handlers={},u(this),h.pointerEventsSupported?t(E,this):(h.touchEventsSupported&&t(b,this),t(y,this))}var f=n(21),l=n(1),c=n(23),h=n(10),p=n(168),d=f.addEventListener,v=f.removeEventListener,m=f.normalizeEvent,g=300,y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],b=["touchstart","touchend","touchmove"],w={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},E=l.map(y,function(e){var t=e.replace("mouse","pointer");return w[t]?t:e}),S={mousemove:function(e){e=m(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){e=m(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){e=m(this.dom,e),e.zrByTouch=!0,this._lastTouchMoment=new Date,i(this,e,"start"),S.mousemove.call(this,e),S.mousedown.call(this,e),s(this)},touchmove:function(e){e=m(this.dom,e),e.zrByTouch=!0,i(this,e,"change"),S.mousemove.call(this,e),s(this)},touchend:function(e){e=m(this.dom,e),e.zrByTouch=!0,i(this,e,"end"),S.mouseup.call(this,e),+(new Date)-this._lastTouchMoment<g&&S.click.call(this,e),s(this)},pointerdown:function(e){S.mousedown.call(this,e)},pointermove:function(e){o(e)||S.mousemove.call(this,e)},pointerup:function(e){S.mouseup.call(this,e)},pointerout:function(e){o(e)||S.mouseout.call(this,e)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){S[e]=function(t){t=m(this.dom,t),this.trigger(e,t)}});var x=a.prototype;x.dispose=function(){for(var e=y.concat(b),t=0;t<e.length;t++){var n=e[t];v(this.dom,r(n),this._handlers[n])}},x.setCursor=function(e){this.dom.style.cursor=e||"default"},l.mixin(a,c),e.exports=a},function(e,t,n){var r=n(8);e.exports=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},afterBrush:function(){for(var e=this.shape.paths,t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}})},function(e,t,n){"use strict";var r=n(1),i=n(39),s=function(e,t,n,r,s){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=s||!1,i.call(this,r)};s.prototype={constructor:s},r.inherits(s,i),e.exports=s},function(e,t,n){var r=n(6),i=r.min,s=r.max,o=r.scale,u=r.distance,a=r.add;e.exports=function(e,t,n,f){var c,h,p,d,v=[],m=[],g=[],y=[];if(f){p=[1/0,1/0],d=[-(1/0),-(1/0)];for(var b=0,w=e.length;b<w;b++)i(p,p,e[b]),s(d,d,e[b]);i(p,p,f[0]),s(d,d,f[1])}for(var b=0,w=e.length;b<w;b++){var E=e[b];if(n)c=e[b?b-1:w-1],h=e[(b+1)%w];else{if(0===b||b===w-1){v.push(r.clone(e[b]));continue}c=e[b-1],h=e[b+1]}r.sub(m,h,c),o(m,m,t);var S=u(E,c),x=u(E,h),T=S+x;0!==T&&(S/=T,x/=T),o(g,m,-S),o(y,m,x);var N=a([],E,g),C=a([],E,y);f&&(s(N,N,p),i(N,N,d),s(C,C,p),i(C,C,d)),v.push(N),v.push(C)}return n&&v.push(v.shift()),v}},function(e,t,n){function r(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}var i=n(6);e.exports=function(e,t){for(var n=e.length,s=[],o=0,u=1;u<n;u++)o+=i.distance(e[u-1],e[u]);var a=o/2;a=a<n?n:a;for(var u=0;u<a;u++){var f,l,c,h=u/(a-1)*(t?n:n-1),p=Math.floor(h),d=h-p,v=e[p%n];t?(f=e[(p-1+n)%n],l=e[(p+1)%n],c=e[(p+2)%n]):(f=e[0===p?p:p-1],l=e[p>n-2?n-1:p+1],c=e[p>n-3?n-1:p+2]);var m=d*d,g=d*m;s.push([r(f[0],v[0],l[0],c[0],d,m,g),r(f[1],v[1],l[1],c[1],d,m,g)])}return s}},function(e,t,n){e.exports=n(8).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),s=t.startAngle,o=t.endAngle,u=t.clockwise,a=Math.cos(s),f=Math.sin(s);e.moveTo(a*i+n,f*i+r),e.arc(n,r,i,s,o,!u)}})},function(e,t,n){"use strict";function r(e,t,n){var r=e.cpx2,i=e.cpy2;return null===r||null===i?[(n?c:f)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?c:f)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?l:a)(e.x1,e.cpx1,e.x2,t),(n?l:a)(e.y1,e.cpy1,e.y2,t)]}var i=n(20),s=n(6),o=i.quadraticSubdivide,u=i.cubicSubdivide,a=i.quadraticAt,f=i.cubicAt,l=i.quadraticDerivativeAt,c=i.cubicDerivativeAt,h=[];e.exports=n(8).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2,a=t.cpx1,f=t.cpy1,l=t.cpx2,c=t.cpy2,p=t.percent;0!==p&&(e.moveTo(n,r),null==l||null==c?(p<1&&(o(n,a,i,p,h),a=h[1],i=h[2],o(r,f,s,p,h),f=h[1],s=h[2]),e.quadraticCurveTo(a,f,i,s)):(p<1&&(u(n,a,l,i,p,h),a=h[1],l=h[2],i=h[3],u(r,f,c,s,p,h),f=h[1],c=h[2],s=h[3]),e.bezierCurveTo(a,f,l,c,i,s)))},pointAt:function(e){return r(this.shape,e,!1)},tangentAt:function(e){var t=r(this.shape,e,!0);return s.normalize(t,t)}})},function(e,t,n){"use strict";e.exports=n(8).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})},function(e,t,n){e.exports=n(8).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2,o=t.percent;0!==o&&(e.moveTo(n,r),o<1&&(i=n*(1-o)+i*o,s=r*(1-o)+s*o),e.lineTo(i,s))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})},function(e,t,n){var r=n(77);e.exports=n(8).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){r.buildPath(e,t,!0)}})},function(e,t,n){var r=n(77);e.exports=n(8).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){r.buildPath(e,t,!1)}})},function(e,t,n){var r=n(78);e.exports=n(8).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,s=t.y,o=t.width,u=t.height;t.r?r.buildPath(e,t):e.rect(n,s,o,u),e.closePath()}})},function(e,t,n){e.exports=n(8).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)}})},function(e,t,n){var r=n(8),i=n(76);e.exports=r.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:i(r.prototype.brush),buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),s=Math.max(t.r,0),o=t.startAngle,u=t.endAngle,a=t.clockwise,f=Math.cos(o),l=Math.sin(o);e.moveTo(f*i+n,l*i+r),e.lineTo(f*s+n,l*s+r),e.arc(n,r,s,o,u,!a),e.lineTo(Math.cos(u)*i+n,Math.sin(u)*i+r),0!==i&&e.arc(n,r,i,u,o,a),e.closePath()}})},function(e,t,n){"use strict";var r=n(69),i=n(1),s=i.isString,o=i.isFunction,u=i.isObject,a=n(54),f=function(){this.animators=[]};f.prototype={constructor:f,animate:function(e,t){var n,s=!1,o=this,u=this.__zr;if(e){var f=e.split("."),c=o;s="shape"===f[0];for(var h=0,p=f.length;h<p;h++)c&&(c=c[f[h]]);c&&(n=c)}else n=o;if(!n)return void a('Property "'+e+'" is not existed in element '+o.id);var d=o.animators,v=new r(n,t);return v.during(function(e){o.dirty(s)}).done(function(){d.splice(i.indexOf(d,v),1)}),d.push(v),u&&u.animation.addAnimator(v),v},stopAnimation:function(e){for(var t=this.animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},animateTo:function(e,t,n,r,i,u){function a(){l--,l||i&&i()}s(n)?(i=r,r=n,n=0):o(r)?(i=r,r="linear",n=0):o(n)?(i=n,n=0):o(t)?(i=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n,r,i);var f=this.animators.slice(),l=f.length;l||i&&i();for(var c=0;c<f.length;c++)f[c].done(a).start(r,u)},_animateToShallow:function(e,t,n,r,s){var o={},a=0;for(var f in n)if(n.hasOwnProperty(f))if(null!=t[f])u(n[f])&&!i.isArrayLike(n[f])?this._animateToShallow(e?e+"."+f:f,t[f],n[f],r,s):(o[f]=n[f],a++);else if(null!=n[f])if(e){var l={};l[e]={},l[e][f]=n[f],this.attr(l)}else this.attr(f,n[f]);return a>0&&this.animate(e,!1).when(null==r?500:r,o).delay(s||0),this}},e.exports=f},function(e,t){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function r(e,t){return{target:e,topTarget:t&&t.topTarget}}n.prototype={constructor:n,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(r(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,s=e.offsetY,o=n-this._x,u=s-this._y;this._x=n,this._y=s,t.drift(o,u,e),this.dispatchToElement(r(t,e),"drag",e.event);var a=this.findHover(n,s,t).target,f=this._dropTarget;this._dropTarget=a,t!==a&&(f&&a!==f&&this.dispatchToElement(r(f,e),"dragleave",e.event),a&&a!==f&&this.dispatchToElement(r(a,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(r(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(r(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},e.exports=n},function(e,t,n){function r(e,t,n,r,i,s,o,u,a,f,d){var y=a*(p/180),b=h(y)*(e-n)/2+c(y)*(t-r)/2,w=-1*c(y)*(e-n)/2+h(y)*(t-r)/2,E=b*b/(o*o)+w*w/(u*u);E>1&&(o*=l(E),u*=l(E));var S=(i===s?-1:1)*l((o*o*u*u-o*o*w*w-u*u*b*b)/(o*o*w*w+u*u*b*b))||0,x=S*o*w/u,T=S*-u*b/o,N=(e+n)/2+h(y)*x-c(y)*T,C=(t+r)/2+c(y)*x+h(y)*T,k=m([1,0],[(b-x)/o,(w-T)/u]),L=[(b-x)/o,(w-T)/u],A=[(-1*b-x)/o,(-1*w-T)/u],O=m(L,A);v(L,A)<=-1&&(O=p),v(L,A)>=1&&(O=0),0===s&&O>0&&(O-=2*p),1===s&&O<0&&(O+=2*p),d.addData(f,N,C,o,u,k,O,y,s)}function i(e){if(!e)return[];var t,n=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<f.length;t++)n=n.replace(new RegExp(f[t],"g"),"|"+f[t]);var i,s=n.split("|"),o=0,a=0,l=new u,c=u.CMD;for(t=1;t<s.length;t++){var h,p=s[t],d=p.charAt(0),v=0,m=p.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var g=0;g<m.length;g++)m[g]=parseFloat(m[g]);for(;v<m.length&&!isNaN(m[v])&&!isNaN(m[0]);){var y,b,w,E,S,x,T,N=o,C=a;switch(d){case"l":o+=m[v++],a+=m[v++],h=c.L,l.addData(h,o,a);break;case"L":o=m[v++],a=m[v++],h=c.L,l.addData(h,o,a);break;case"m":o+=m[v++],a+=m[v++],h=c.M,l.addData(h,o,a),d="l";break;case"M":o=m[v++],a=m[v++],h=c.M,l.addData(h,o,a),d="L";break;case"h":o+=m[v++],h=c.L,l.addData(h,o,a);break;case"H":o=m[v++],h=c.L,l.addData(h,o,a);break;case"v":a+=m[v++],h=c.L,l.addData(h,o,a);break;case"V":a=m[v++],h=c.L,l.addData(h,o,a);break;case"C":h=c.C,l.addData(h,m[v++],m[v++],m[v++],m[v++],m[v++],m[v++]),o=m[v-2],a=m[v-1];break;case"c":h=c.C,l.addData(h,m[v++]+o,m[v++]+a,m[v++]+o,m[v++]+a,m[v++]+o,m[v++]+a),o+=m[v-2],a+=m[v-1];break;case"S":y=o,b=a;var k=l.len(),L=l.data;i===c.C&&(y+=o-L[k-4],b+=a-L[k-3]),h=c.C,N=m[v++],C=m[v++],o=m[v++],a=m[v++],l.addData(h,y,b,N,C,o,a);break;case"s":y=o,b=a;var k=l.len(),L=l.data;i===c.C&&(y+=o-L[k-4],b+=a-L[k-3]),h=c.C,N=o+m[v++],C=a+m[v++],o+=m[v++],a+=m[v++],l.addData(h,y,b,N,C,o,a);break;case"Q":N=m[v++],C=m[v++],o=m[v++],a=m[v++],h=c.Q,l.addData(h,N,C,o,a);break;case"q":N=m[v++]+o,C=m[v++]+a,o+=m[v++],a+=m[v++],h=c.Q,l.addData(h,N,C,o,a);break;case"T":y=o,b=a;var k=l.len(),L=l.data;i===c.Q&&(y+=o-L[k-4],b+=a-L[k-3]),o=m[v++],a=m[v++],h=c.Q,l.addData(h,y,b,o,a);break;case"t":y=o,b=a;var k=l.len(),L=l.data;i===c.Q&&(y+=o-L[k-4],b+=a-L[k-3]),o+=m[v++],a+=m[v++],h=c.Q,l.addData(h,y,b,o,a);break;case"A":w=m[v++],E=m[v++],S=m[v++],x=m[v++],T=m[v++],N=o,C=a,o=m[v++],a=m[v++],h=c.A,r(N,C,o,a,x,T,w,E,S,h,l);break;case"a":w=m[v++],E=m[v++],S=m[v++],x=m[v++],T=m[v++],N=o,C=a,o+=m[v++],a+=m[v++],h=c.A,r(N,C,o,a,x,T,w,E,S,h,l)}}"z"!==d&&"Z"!==d||(h=c.Z,l.addData(h)),i=h}return l.toStatic(),l}function s(e,t){var n=i(e);return t=t||{},t.buildPath=function(e){if(e.setData){e.setData(n.data);var t=e.getContext();t&&e.rebuildPath(t)}else{var t=e;n.rebuildPath(t)}},t.applyTransform=function(e){a(n,e),this.dirty(!0)},t}var o=n(8),u=n(27),a=n(186),f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],l=Math.sqrt,c=Math.sin,h=Math.cos,p=Math.PI,d=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},v=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(d(e)*d(t))},m=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v(e,t))};e.exports={createFromString:function(e,t){return new o(s(e,t))},extendFromString:function(e,t){return o.extend(s(e,t))},mergePath:function(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var s=e[i];s.path||s.createPathProxy(),s.__dirtyPath&&s.buildPath(s.path,s.shape,!0),n.push(s.path)}var u=new o(t);return u.createPathProxy(),u.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},u}}},function(e,t,n){function r(e,t){var n,r,s,c,p,d,v=e.data,m=i.M,g=i.C,y=i.L,b=i.R,w=i.A,E=i.Q;for(s=0,c=0;s<v.length;){switch(n=v[s++],c=s,r=0,n){case m:r=1;break;case y:r=1;break;case g:r=3;break;case E:r=2;break;case w:var S=t[4],x=t[5],T=a(t[0]*t[0]+t[1]*t[1]),N=a(t[2]*t[2]+t[3]*t[3]),C=f(-t[1]/N,t[0]/T);v[s]*=T,v[s++]+=S,v[s]*=N,v[s++]+=x,v[s++]*=T,v[s++]*=N,v[s++]+=C,v[s++]+=C,s+=2,c=s;break;case b:d[0]=v[s++],d[1]=v[s++],o(d,d,t),v[c++]=d[0],v[c++]=d[1],d[0]+=v[s++],d[1]+=v[s++],o(d,d,t),v[c++]=d[0],v[c++]=d[1]}for(p=0;p<r;p++){var d=u[p];d[0]=v[s++],d[1]=v[s++],o(d,d,t),v[c++]=d[0],v[c++]=d[1]}}}var i=n(27).CMD,s=n(6),o=s.applyTransform,u=[[],[],[]],a=Math.sqrt,f=Math.atan2;e.exports=r}])});(function(e){e.color={};e.color.make=function(t,n,r,i){var s={};s.r=t||0;s.g=n||0;s.b=r||0;s.a=i!=null?i:1;s.add=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]+=t;return s.normalize()};s.scale=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]*=t;return s.normalize()};s.toString=function(){if(s.a>=1){return"rgb("+[s.r,s.g,s.b].join(",")+")"}else{return"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"}};s.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}s.r=e(0,parseInt(s.r),255);s.g=e(0,parseInt(s.g),255);s.b=e(0,parseInt(s.b),255);s.a=e(0,s.a,1);return s};s.clone=function(){return e.color.make(s.r,s.b,s.g,s.a)};return s.normalize()};e.color.extract=function(t,n){var r;do{r=t.css(n).toLowerCase();if(r!=""&&r!="transparent")break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));if(r=="rgba(0, 0, 0, 0)")r="transparent";return e.color.parse(r)};e.color.parse=function(n){var r,i=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var s=e.trim(n).toLowerCase();if(s=="transparent")return i(255,255,255,0);else{r=t[s]||[0,0,0];return i(r[0],r[1],r[2])}};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){function n(t,n){var r=n.children("."+t)[0];if(r==null){r=document.createElement("canvas");r.className=t;e(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n);if(!r.getContext){if(window.G_vmlCanvasManager){r=window.G_vmlCanvasManager.initElement(r)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=r;var i=this.context=r.getContext("2d");var s=window.devicePixelRatio||1,o=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;this.pixelRatio=s/o;this.resize(n.width(),n.height());this.textContainer=null;this.text={};this._textCache={}}function r(t,r,s,o){function E(e,t){t=[w].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function S(){var t={Canvas:n};for(var r=0;r<o.length;++r){var i=o[r];i.init(w,t);if(i.options)e.extend(true,a,i.options)}}function x(n){e.extend(true,a,n);if(n&&n.colors){a.colors=n.colors}if(a.xaxis.color==null)a.xaxis.color=e.color.parse(a.grid.color).scale("a",.22).toString();if(a.yaxis.color==null)a.yaxis.color=e.color.parse(a.grid.color).scale("a",.22).toString();if(a.xaxis.tickColor==null)a.xaxis.tickColor=a.grid.tickColor||a.xaxis.color;if(a.yaxis.tickColor==null)a.yaxis.tickColor=a.grid.tickColor||a.yaxis.color;if(a.grid.borderColor==null)a.grid.borderColor=a.grid.color;if(a.grid.tickColor==null)a.grid.tickColor=e.color.parse(a.grid.color).scale("a",.22).toString();var r,i,s,o=t.css("font-size"),u=o?+o.replace("px",""):13,f={style:t.css("font-style"),size:Math.round(.8*u),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};s=a.xaxes.length||1;for(r=0;r<s;++r){i=a.xaxes[r];if(i&&!i.tickColor){i.tickColor=i.color}i=e.extend(true,{},a.xaxis,i);a.xaxes[r]=i;if(i.font){i.font=e.extend({},f,i.font);if(!i.font.color){i.font.color=i.color}if(!i.font.lineHeight){i.font.lineHeight=Math.round(i.font.size*1.15)}}}s=a.yaxes.length||1;for(r=0;r<s;++r){i=a.yaxes[r];if(i&&!i.tickColor){i.tickColor=i.color}i=e.extend(true,{},a.yaxis,i);a.yaxes[r]=i;if(i.font){i.font=e.extend({},f,i.font);if(!i.font.color){i.font.color=i.color}if(!i.font.lineHeight){i.font.lineHeight=Math.round(i.font.size*1.15)}}}if(a.xaxis.noTicks&&a.xaxis.ticks==null)a.xaxis.ticks=a.xaxis.noTicks;if(a.yaxis.noTicks&&a.yaxis.ticks==null)a.yaxis.ticks=a.yaxis.noTicks;if(a.x2axis){a.xaxes[1]=e.extend(true,{},a.xaxis,a.x2axis);a.xaxes[1].position="top";if(a.x2axis.min==null){a.xaxes[1].min=null}if(a.x2axis.max==null){a.xaxes[1].max=null}}if(a.y2axis){a.yaxes[1]=e.extend(true,{},a.yaxis,a.y2axis);a.yaxes[1].position="right";if(a.y2axis.min==null){a.yaxes[1].min=null}if(a.y2axis.max==null){a.yaxes[1].max=null}}if(a.grid.coloredAreas)a.grid.markings=a.grid.coloredAreas;if(a.grid.coloredAreasColor)a.grid.markingsColor=a.grid.coloredAreasColor;if(a.lines)e.extend(true,a.series.lines,a.lines);if(a.points)e.extend(true,a.series.points,a.points);if(a.bars)e.extend(true,a.series.bars,a.bars);if(a.shadowSize!=null)a.series.shadowSize=a.shadowSize;if(a.highlightColor!=null)a.series.highlightColor=a.highlightColor;for(r=0;r<a.xaxes.length;++r)O(d,r+1).options=a.xaxes[r];for(r=0;r<a.yaxes.length;++r)O(v,r+1).options=a.yaxes[r];for(var l in b)if(a.hooks[l]&&a.hooks[l].length)b[l]=b[l].concat(a.hooks[l]);E(b.processOptions,[a])}function T(e){u=N(e);M();_()}function N(t){var n=[];for(var r=0;r<t.length;++r){var i=e.extend(true,{},a.series);if(t[r].data!=null){i.data=t[r].data;delete t[r].data;e.extend(true,i,t[r]);t[r].data=i.data}else i.data=t[r];n.push(i)}return n}function C(e,t){var n=e[t+"axis"];if(typeof n=="object")n=n.n;if(typeof n!="number")n=1;return n}function k(){return e.grep(d.concat(v),function(e){return e})}function L(e){var t={},n,r;for(n=0;n<d.length;++n){r=d[n];if(r&&r.used)t["x"+r.n]=r.c2p(e.left)}for(n=0;n<v.length;++n){r=v[n];if(r&&r.used)t["y"+r.n]=r.c2p(e.top)}if(t.x1!==undefined)t.x=t.x1;if(t.y1!==undefined)t.y=t.y1;return t}function A(e){var t={},n,r,i;for(n=0;n<d.length;++n){r=d[n];if(r&&r.used){i="x"+r.n;if(e[i]==null&&r.n==1)i="x";if(e[i]!=null){t.left=r.p2c(e[i]);break}}}for(n=0;n<v.length;++n){r=v[n];if(r&&r.used){i="y"+r.n;if(e[i]==null&&r.n==1)i="y";if(e[i]!=null){t.top=r.p2c(e[i]);break}}}return t}function O(t,n){if(!t[n-1])t[n-1]={n:n,direction:t==d?"x":"y",options:e.extend(true,{},t==d?a.xaxis:a.yaxis)};return t[n-1]}function M(){var t=u.length,n=-1,r;for(r=0;r<u.length;++r){var i=u[r].color;if(i!=null){t--;if(typeof i=="number"&&i>n){n=i}}}if(t<=n){t=n+1}var s,o=[],f=a.colors,l=f.length,c=0;for(r=0;r<t;r++){s=e.color.parse(f[r%l]||"#666");if(r%l==0&&r){if(c>=0){if(c<.5){c=-c-.2}else c=0}else c=-c}o[r]=s.scale("rgb",1+c)}var h=0,p;for(r=0;r<u.length;++r){p=u[r];if(p.color==null){p.color=o[h].toString();++h}else if(typeof p.color=="number")p.color=o[p.color].toString();if(p.lines.show==null){var m,g=true;for(m in p)if(p[m]&&p[m].show){g=false;break}if(g)p.lines.show=true}if(p.lines.zero==null){p.lines.zero=!!p.lines.fill}p.xaxis=O(d,C(p,"x"));p.yaxis=O(v,C(p,"y"))}}function _(){function x(e,t,n){if(t<e.datamin&&t!=-r)e.datamin=t;if(n>e.datamax&&n!=r)e.datamax=n}var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.MAX_VALUE,i,s,o,a,f,l,c,h,p,d,v,m,g,y,w,S;e.each(k(),function(e,r){r.datamin=t;r.datamax=n;r.used=false});for(i=0;i<u.length;++i){l=u[i];l.datapoints={points:[]};E(b.processRawData,[l,l.data,l.datapoints])}for(i=0;i<u.length;++i){l=u[i];w=l.data;S=l.datapoints.format;if(!S){S=[];S.push({x:true,number:true,required:true});S.push({y:true,number:true,required:true});if(l.bars.show||l.lines.show&&l.lines.fill){var T=!!(l.bars.show&&l.bars.zero||l.lines.show&&l.lines.zero);S.push({y:true,number:true,required:false,defaultValue:0,autoscale:T});if(l.bars.horizontal){delete S[S.length-1].y;S[S.length-1].x=true}}l.datapoints.format=S}if(l.datapoints.pointsize!=null)continue;l.datapoints.pointsize=S.length;h=l.datapoints.pointsize;c=l.datapoints.points;var N=l.lines.show&&l.lines.steps;l.xaxis.used=l.yaxis.used=true;for(s=o=0;s<w.length;++s,o+=h){y=w[s];var C=y==null;if(!C){for(a=0;a<h;++a){m=y[a];g=S[a];if(g){if(g.number&&m!=null){m=+m;if(isNaN(m))m=null;else if(m==Infinity)m=r;else if(m==-Infinity)m=-r}if(m==null){if(g.required)C=true;if(g.defaultValue!=null)m=g.defaultValue}}c[o+a]=m}}if(C){for(a=0;a<h;++a){m=c[o+a];if(m!=null){g=S[a];if(g.autoscale!==false){if(g.x){x(l.xaxis,m,m)}if(g.y){x(l.yaxis,m,m)}}}c[o+a]=null}}else{if(N&&o>0&&c[o-h]!=null&&c[o-h]!=c[o]&&c[o-h+1]!=c[o+1]){for(a=0;a<h;++a)c[o+h+a]=c[o+a];c[o+1]=c[o-h+1];o+=h}}}}for(i=0;i<u.length;++i){l=u[i];E(b.processDatapoints,[l,l.datapoints])}for(i=0;i<u.length;++i){l=u[i];c=l.datapoints.points;h=l.datapoints.pointsize;S=l.datapoints.format;var L=t,A=t,O=n,M=n;for(s=0;s<c.length;s+=h){if(c[s]==null)continue;for(a=0;a<h;++a){m=c[s+a];g=S[a];if(!g||g.autoscale===false||m==r||m==-r)continue;if(g.x){if(m<L)L=m;if(m>O)O=m}if(g.y){if(m<A)A=m;if(m>M)M=m}}}if(l.bars.show){var _;switch(l.bars.align){case"left":_=0;break;case"right":_=-l.bars.barWidth;break;default:_=-l.bars.barWidth/2}if(l.bars.horizontal){A+=_;M+=_+l.bars.barWidth}else{L+=_;O+=_+l.bars.barWidth}}x(l.xaxis,L,O);x(l.yaxis,A,M)}e.each(k(),function(e,r){if(r.datamin==t)r.datamin=null;if(r.datamax==n)r.datamax=null})}function D(){t.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove();if(t.css("position")=="static")t.css("position","relative");f=new n("flot-base",t);l=new n("flot-overlay",t);h=f.context;p=l.context;c=e(l.element).unbind();var r=t.data("plot");if(r){r.shutdown();l.clear()}t.data("plot",w)}function P(){if(a.grid.hoverable){c.mousemove(at);c.bind("mouseleave",ft)}if(a.grid.clickable)c.click(lt);E(b.bindEvents,[c])}function H(){if(ot)clearTimeout(ot);c.unbind("mousemove",at);c.unbind("mouseleave",ft);c.unbind("click",lt);E(b.shutdown,[c])}function B(e){function t(e){return e}var n,r,i=e.options.transform||t,s=e.options.inverseTransform;if(e.direction=="x"){n=e.scale=g/Math.abs(i(e.max)-i(e.min));r=Math.min(i(e.max),i(e.min))}else{n=e.scale=y/Math.abs(i(e.max)-i(e.min));n=-n;r=Math.max(i(e.max),i(e.min))}if(i==t)e.p2c=function(e){return(e-r)*n};else e.p2c=function(e){return(i(e)-r)*n};if(!s)e.c2p=function(e){return r+e/n};else e.c2p=function(e){return s(r+e/n)}}function j(e){var t=e.options,n=e.ticks||[],r=t.labelWidth||0,i=t.labelHeight||0,s=r||(e.direction=="x"?Math.floor(f.width/(n.length||1)):null),o=e.direction+"Axis "+e.direction+e.n+"Axis",u="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,a=t.font||"flot-tick-label tickLabel";for(var l=0;l<n.length;++l){var c=n[l];if(!c.label)continue;var h=f.getTextInfo(u,c.label,a,null,s);r=Math.max(r,h.width);i=Math.max(i,h.height)}e.labelWidth=t.labelWidth||r;e.labelHeight=t.labelHeight||i}function F(t){var n=t.labelWidth,r=t.labelHeight,i=t.options.position,s=t.direction==="x",o=t.options.tickLength,u=a.grid.axisMargin,l=a.grid.labelMargin,c=true,h=true,p=true,g=false;e.each(s?d:v,function(e,n){if(n&&(n.show||n.reserveSpace)){if(n===t){g=true}else if(n.options.position===i){if(g){h=false}else{c=false}}if(!g){p=false}}});if(h){u=0}if(o==null){o=p?"full":5}if(!isNaN(+o))l+=+o;if(s){r+=l;if(i=="bottom"){m.bottom+=r+u;t.box={top:f.height-m.bottom,height:r}}else{t.box={top:m.top+u,height:r};m.top+=r+u}}else{n+=l;if(i=="left"){t.box={left:m.left+u,width:n};m.left+=n+u}else{m.right+=n+u;t.box={left:f.width-m.right,width:n}}}t.position=i;t.tickLength=o;t.box.padding=l;t.innermost=c}function I(e){if(e.direction=="x"){e.box.left=m.left-e.labelWidth/2;e.box.width=f.width-m.left-m.right+e.labelWidth}else{e.box.top=m.top-e.labelHeight/2;e.box.height=f.height-m.bottom-m.top+e.labelHeight}}function q(){var t=a.grid.minBorderMargin,n,r;if(t==null){t=0;for(r=0;r<u.length;++r)t=Math.max(t,2*(u[r].points.radius+u[r].points.lineWidth/2))}var i={left:t,right:t,top:t,bottom:t};e.each(k(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){if(t.direction==="x"){i.left=Math.max(i.left,t.labelWidth/2);i.right=Math.max(i.right,t.labelWidth/2)}else{i.bottom=Math.max(i.bottom,t.labelHeight/2);i.top=Math.max(i.top,t.labelHeight/2)}}});m.left=Math.ceil(Math.max(i.left,m.left));m.right=Math.ceil(Math.max(i.right,m.right));m.top=Math.ceil(Math.max(i.top,m.top));m.bottom=Math.ceil(Math.max(i.bottom,m.bottom))}function R(){var t,n=k(),r=a.grid.show;for(var i in m){var s=a.grid.margin||0;m[i]=typeof s=="number"?s:s[i]||0}E(b.processOffset,[m]);for(var i in m){if(typeof a.grid.borderWidth=="object"){m[i]+=r?a.grid.borderWidth[i]:0}else{m[i]+=r?a.grid.borderWidth:0}}e.each(n,function(e,t){var n=t.options;t.show=n.show==null?t.used:n.show;t.reserveSpace=n.reserveSpace==null?t.show:n.reserveSpace;U(t)});if(r){var o=e.grep(n,function(e){return e.show||e.reserveSpace});e.each(o,function(e,t){z(t);W(t);X(t,t.ticks);j(t)});for(t=o.length-1;t>=0;--t)F(o[t]);q();e.each(o,function(e,t){I(t)})}g=f.width-m.left-m.right;y=f.height-m.bottom-m.top;e.each(n,function(e,t){B(t)});if(r){G()}it()}function U(e){var t=e.options,n=+(t.min!=null?t.min:e.datamin),r=+(t.max!=null?t.max:e.datamax),i=r-n;if(i==0){var s=r==0?1:.01;if(t.min==null)n-=s;if(t.max==null||t.min!=null)r+=s}else{var o=t.autoscaleMargin;if(o!=null){if(t.min==null){n-=i*o;if(n<0&&e.datamin!=null&&e.datamin>=0)n=0}if(t.max==null){r+=i*o;if(r>0&&e.datamax!=null&&e.datamax<=0)r=0}}}e.min=n;e.max=r}function z(t){var n=t.options;var r;if(typeof n.ticks=="number"&&n.ticks>0)r=n.ticks;else r=.3*Math.sqrt(t.direction=="x"?f.width:f.height);var s=(t.max-t.min)/r,o=-Math.floor(Math.log(s)/Math.LN10),u=n.tickDecimals;if(u!=null&&o>u){o=u}var a=Math.pow(10,-o),l=s/a,c;if(l<1.5){c=1}else if(l<3){c=2;if(l>2.25&&(u==null||o+1<=u)){c=2.5;++o}}else if(l<7.5){c=5}else{c=10}c*=a;if(n.minTickSize!=null&&c<n.minTickSize){c=n.minTickSize}t.delta=s;t.tickDecimals=Math.max(0,u!=null?u:o);t.tickSize=n.tickSize||c;if(n.mode=="time"&&!t.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!t.tickGenerator){t.tickGenerator=function(e){var t=[],n=i(e.min,e.tickSize),r=0,s=Number.NaN,o;do{o=s;s=n+r*e.tickSize;t.push(s);++r}while(s<e.max&&s!=o);return t};t.tickFormatter=function(e,t){var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var r=""+Math.round(e*n)/n;if(t.tickDecimals!=null){var i=r.indexOf(".");var s=i==-1?0:r.length-i-1;if(s<t.tickDecimals){return(s?r:r+".")+(""+n).substr(1,t.tickDecimals-s)}}return r}}if(e.isFunction(n.tickFormatter))t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)};if(n.alignTicksWithAxis!=null){var h=(t.direction=="x"?d:v)[n.alignTicksWithAxis-1];if(h&&h.used&&h!=t){var p=t.tickGenerator(t);if(p.length>0){if(n.min==null)t.min=Math.min(t.min,p[0]);if(n.max==null&&p.length>1)t.max=Math.max(t.max,p[p.length-1])}t.tickGenerator=function(e){var t=[],n,r;for(r=0;r<h.ticks.length;++r){n=(h.ticks[r].v-h.min)/(h.max-h.min);n=e.min+n*(e.max-e.min);t.push(n)}return t};if(!t.mode&&n.tickDecimals==null){var m=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),g=t.tickGenerator(t);if(!(g.length>1&&/\..*0$/.test((g[1]-g[0]).toFixed(m))))t.tickDecimals=m}}}}function W(t){var n=t.options.ticks,r=[];if(n==null||typeof n=="number"&&n>0)r=t.tickGenerator(t);else if(n){if(e.isFunction(n))r=n(t);else r=n}var i,s;t.ticks=[];for(i=0;i<r.length;++i){var o=null;var u=r[i];if(typeof u=="object"){s=+u[0];if(u.length>1)o=u[1]}else s=+u;if(o==null)o=t.tickFormatter(s,t);if(!isNaN(s))t.ticks.push({v:s,label:o})}}function X(e,t){if(e.options.autoscaleMargin&&t.length>0){if(e.options.min==null)e.min=Math.min(e.min,t[0].v);if(e.options.max==null&&t.length>1)e.max=Math.max(e.max,t[t.length-1].v)}}function V(){f.clear();E(b.drawBackground,[h]);var e=a.grid;if(e.show&&e.backgroundColor)K();if(e.show&&!e.aboveData){Q()}for(var t=0;t<u.length;++t){E(b.drawSeries,[h,u[t]]);Y(u[t])}E(b.draw,[h]);if(e.show&&e.aboveData){Q()}f.render();ht()}function J(e,t){var n,r,i,s,o=k();for(var u=0;u<o.length;++u){n=o[u];if(n.direction==t){s=t+n.n+"axis";if(!e[s]&&n.n==1)s=t+"axis";if(e[s]){r=e[s].from;i=e[s].to;break}}}if(!e[s]){n=t=="x"?d[0]:v[0];r=e[t+"1"];i=e[t+"2"]}if(r!=null&&i!=null&&r>i){var a=r;r=i;i=a}return{from:r,to:i,axis:n}}function K(){h.save();h.translate(m.left,m.top);h.fillStyle=bt(a.grid.backgroundColor,y,0,"rgba(255, 255, 255, 0)");h.fillRect(0,0,g,y);h.restore()}function Q(){var t,n,r,i;h.save();h.translate(m.left,m.top);var s=a.grid.markings;if(s){if(e.isFunction(s)){n=w.getAxes();n.xmin=n.xaxis.min;n.xmax=n.xaxis.max;n.ymin=n.yaxis.min;n.ymax=n.yaxis.max;s=s(n)}for(t=0;t<s.length;++t){var o=s[t],u=J(o,"x"),f=J(o,"y");if(u.from==null)u.from=u.axis.min;if(u.to==null)u.to=u.axis.max;if(f.from==null)f.from=f.axis.min;if(f.to==null)f.to=f.axis.max;if(u.to<u.axis.min||u.from>u.axis.max||f.to<f.axis.min||f.from>f.axis.max)continue;u.from=Math.max(u.from,u.axis.min);u.to=Math.min(u.to,u.axis.max);f.from=Math.max(f.from,f.axis.min);f.to=Math.min(f.to,f.axis.max);var l=u.from===u.to,c=f.from===f.to;if(l&&c){continue}u.from=Math.floor(u.axis.p2c(u.from));u.to=Math.floor(u.axis.p2c(u.to));f.from=Math.floor(f.axis.p2c(f.from));f.to=Math.floor(f.axis.p2c(f.to));if(l||c){var p=o.lineWidth||a.grid.markingsLineWidth,d=p%2?.5:0;h.beginPath();h.strokeStyle=o.color||a.grid.markingsColor;h.lineWidth=p;if(l){h.moveTo(u.to+d,f.from);h.lineTo(u.to+d,f.to)}else{h.moveTo(u.from,f.to+d);h.lineTo(u.to,f.to+d)}h.stroke()}else{h.fillStyle=o.color||a.grid.markingsColor;h.fillRect(u.from,f.to,u.to-u.from,f.from-f.to)}}}n=k();r=a.grid.borderWidth;for(var v=0;v<n.length;++v){var b=n[v],E=b.box,S=b.tickLength,x,T,N,C;if(!b.show||b.ticks.length==0)continue;h.lineWidth=1;if(b.direction=="x"){x=0;if(S=="full")T=b.position=="top"?0:y;else T=E.top-m.top+(b.position=="top"?E.height:0)}else{T=0;if(S=="full")x=b.position=="left"?0:g;else x=E.left-m.left+(b.position=="left"?E.width:0)}if(!b.innermost){h.strokeStyle=b.options.color;h.beginPath();N=C=0;if(b.direction=="x")N=g+1;else C=y+1;if(h.lineWidth==1){if(b.direction=="x"){T=Math.floor(T)+.5}else{x=Math.floor(x)+.5}}h.moveTo(x,T);h.lineTo(x+N,T+C);h.stroke()}h.strokeStyle=b.options.tickColor;h.beginPath();for(t=0;t<b.ticks.length;++t){var L=b.ticks[t].v;N=C=0;if(isNaN(L)||L<b.min||L>b.max||S=="full"&&(typeof r=="object"&&r[b.position]>0||r>0)&&(L==b.min||L==b.max))continue;if(b.direction=="x"){x=b.p2c(L);C=S=="full"?-y:S;if(b.position=="top")C=-C}else{T=b.p2c(L);N=S=="full"?-g:S;if(b.position=="left")N=-N}if(h.lineWidth==1){if(b.direction=="x")x=Math.floor(x)+.5;else T=Math.floor(T)+.5}h.moveTo(x,T);h.lineTo(x+N,T+C)}h.stroke()}if(r){i=a.grid.borderColor;if(typeof r=="object"||typeof i=="object"){if(typeof r!=="object"){r={top:r,right:r,bottom:r,left:r}}if(typeof i!=="object"){i={top:i,right:i,bottom:i,left:i}}if(r.top>0){h.strokeStyle=i.top;h.lineWidth=r.top;h.beginPath();h.moveTo(0-r.left,0-r.top/2);h.lineTo(g,0-r.top/2);h.stroke()}if(r.right>0){h.strokeStyle=i.right;h.lineWidth=r.right;h.beginPath();h.moveTo(g+r.right/2,0-r.top);h.lineTo(g+r.right/2,y);h.stroke()}if(r.bottom>0){h.strokeStyle=i.bottom;h.lineWidth=r.bottom;h.beginPath();h.moveTo(g+r.right,y+r.bottom/2);h.lineTo(0,y+r.bottom/2);h.stroke()}if(r.left>0){h.strokeStyle=i.left;h.lineWidth=r.left;h.beginPath();h.moveTo(0-r.left/2,y+r.bottom);h.lineTo(0-r.left/2,0);h.stroke()}}else{h.lineWidth=r;h.strokeStyle=a.grid.borderColor;h.strokeRect(-r/2,-r/2,g+r,y+r)}}h.restore()}function G(){e.each(k(),function(e,t){var n=t.box,r=t.direction+"Axis "+t.direction+t.n+"Axis",i="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+r,s=t.options.font||"flot-tick-label tickLabel",o,u,a,l,c;f.removeText(i);if(!t.show||t.ticks.length==0)return;for(var h=0;h<t.ticks.length;++h){o=t.ticks[h];if(!o.label||o.v<t.min||o.v>t.max)continue;if(t.direction=="x"){l="center";u=m.left+t.p2c(o.v);if(t.position=="bottom"){a=n.top+n.padding}else{a=n.top+n.height-n.padding;c="bottom"}}else{c="middle";a=m.top+t.p2c(o.v);if(t.position=="left"){u=n.left+n.width-n.padding;l="right"}else{u=n.left+n.padding}}f.addText(i,u,a,o.label,s,null,null,l,c)}})}function Y(e){if(e.lines.show)Z(e);if(e.bars.show)nt(e);if(e.points.show)et(e)}function Z(e){function t(e,t,n,r,i){var s=e.points,o=e.pointsize,u=null,a=null;h.beginPath();for(var f=o;f<s.length;f+=o){var l=s[f-o],c=s[f-o+1],p=s[f],d=s[f+1];if(l==null||p==null)continue;if(c<=d&&c<i.min){if(d<i.min)continue;l=(i.min-c)/(d-c)*(p-l)+l;c=i.min}else if(d<=c&&d<i.min){if(c<i.min)continue;p=(i.min-c)/(d-c)*(p-l)+l;d=i.min}if(c>=d&&c>i.max){if(d>i.max)continue;l=(i.max-c)/(d-c)*(p-l)+l;c=i.max}else if(d>=c&&d>i.max){if(c>i.max)continue;p=(i.max-c)/(d-c)*(p-l)+l;d=i.max}if(l<=p&&l<r.min){if(p<r.min)continue;c=(r.min-l)/(p-l)*(d-c)+c;l=r.min}else if(p<=l&&p<r.min){if(l<r.min)continue;d=(r.min-l)/(p-l)*(d-c)+c;p=r.min}if(l>=p&&l>r.max){if(p>r.max)continue;c=(r.max-l)/(p-l)*(d-c)+c;l=r.max}else if(p>=l&&p>r.max){if(l>r.max)continue;d=(r.max-l)/(p-l)*(d-c)+c;p=r.max}if(l!=u||c!=a)h.moveTo(r.p2c(l)+t,i.p2c(c)+n);u=p;a=d;h.lineTo(r.p2c(p)+t,i.p2c(d)+n)}h.stroke()}function n(e,t,n){var r=e.points,i=e.pointsize,s=Math.min(Math.max(0,n.min),n.max),o=0,u,a=false,f=1,l=0,c=0;while(true){if(i>0&&o>r.length+i)break;o+=i;var p=r[o-i],d=r[o-i+f],v=r[o],m=r[o+f];if(a){if(i>0&&p!=null&&v==null){c=o;i=-i;f=2;continue}if(i<0&&o==l+i){h.fill();a=false;i=-i;f=1;o=l=c+i;continue}}if(p==null||v==null)continue;if(p<=v&&p<t.min){if(v<t.min)continue;d=(t.min-p)/(v-p)*(m-d)+d;p=t.min}else if(v<=p&&v<t.min){if(p<t.min)continue;m=(t.min-p)/(v-p)*(m-d)+d;v=t.min}if(p>=v&&p>t.max){if(v>t.max)continue;d=(t.max-p)/(v-p)*(m-d)+d;p=t.max}else if(v>=p&&v>t.max){if(p>t.max)continue;m=(t.max-p)/(v-p)*(m-d)+d;v=t.max}if(!a){h.beginPath();h.moveTo(t.p2c(p),n.p2c(s));a=true}if(d>=n.max&&m>=n.max){h.lineTo(t.p2c(p),n.p2c(n.max));h.lineTo(t.p2c(v),n.p2c(n.max));continue}else if(d<=n.min&&m<=n.min){h.lineTo(t.p2c(p),n.p2c(n.min));h.lineTo(t.p2c(v),n.p2c(n.min));continue}var g=p,y=v;if(d<=m&&d<n.min&&m>=n.min){p=(n.min-d)/(m-d)*(v-p)+p;d=n.min}else if(m<=d&&m<n.min&&d>=n.min){v=(n.min-d)/(m-d)*(v-p)+p;m=n.min}if(d>=m&&d>n.max&&m<=n.max){p=(n.max-d)/(m-d)*(v-p)+p;d=n.max}else if(m>=d&&m>n.max&&d<=n.max){v=(n.max-d)/(m-d)*(v-p)+p;m=n.max}if(p!=g){h.lineTo(t.p2c(g),n.p2c(d))}h.lineTo(t.p2c(p),n.p2c(d));h.lineTo(t.p2c(v),n.p2c(m));if(v!=y){h.lineTo(t.p2c(v),n.p2c(m));h.lineTo(t.p2c(y),n.p2c(m))}}}h.save();h.translate(m.left,m.top);h.lineJoin="round";var r=e.lines.lineWidth,i=e.shadowSize;if(r>0&&i>0){h.lineWidth=i;h.strokeStyle="rgba(0,0,0,0.1)";var s=Math.PI/18;t(e.datapoints,Math.sin(s)*(r/2+i/2),Math.cos(s)*(r/2+i/2),e.xaxis,e.yaxis);h.lineWidth=i/2;t(e.datapoints,Math.sin(s)*(r/2+i/4),Math.cos(s)*(r/2+i/4),e.xaxis,e.yaxis)}h.lineWidth=r;h.strokeStyle=e.color;var o=rt(e.lines,e.color,0,y);if(o){h.fillStyle=o;n(e.datapoints,e.xaxis,e.yaxis)}if(r>0)t(e.datapoints,0,0,e.xaxis,e.yaxis);h.restore()}function et(e){function t(e,t,n,r,i,s,o,u){var a=e.points,f=e.pointsize;for(var l=0;l<a.length;l+=f){var c=a[l],p=a[l+1];if(c==null||c<s.min||c>s.max||p<o.min||p>o.max)continue;h.beginPath();c=s.p2c(c);p=o.p2c(p)+r;if(u=="circle")h.arc(c,p,t,0,i?Math.PI:Math.PI*2,false);else u(h,c,p,t,i);h.closePath();if(n){h.fillStyle=n;h.fill()}h.stroke()}}h.save();h.translate(m.left,m.top);var n=e.points.lineWidth,r=e.shadowSize,i=e.points.radius,s=e.points.symbol;if(n==0)n=1e-4;if(n>0&&r>0){var o=r/2;h.lineWidth=o;h.strokeStyle="rgba(0,0,0,0.1)";t(e.datapoints,i,null,o+o/2,true,e.xaxis,e.yaxis,s);h.strokeStyle="rgba(0,0,0,0.2)";t(e.datapoints,i,null,o/2,true,e.xaxis,e.yaxis,s)}h.lineWidth=n;h.strokeStyle=e.color;t(e.datapoints,i,rt(e.points,e.color),0,false,e.xaxis,e.yaxis,s);h.restore()}function tt(e,t,n,r,i,s,o,u,a,f,l){var c,h,p,d,v,m,g,y,b;if(f){y=m=g=true;v=false;c=n;h=e;d=t+r;p=t+i;if(h<c){b=h;h=c;c=b;v=true;m=false}}else{v=m=g=true;y=false;c=e+r;h=e+i;p=n;d=t;if(d<p){b=d;d=p;p=b;y=true;g=false}}if(h<o.min||c>o.max||d<u.min||p>u.max)return;if(c<o.min){c=o.min;v=false}if(h>o.max){h=o.max;m=false}if(p<u.min){p=u.min;y=false}if(d>u.max){d=u.max;g=false}c=o.p2c(c);p=u.p2c(p);h=o.p2c(h);d=u.p2c(d);if(s){a.fillStyle=s(p,d);a.fillRect(c,d,h-c,p-d)}if(l>0&&(v||m||g||y)){a.beginPath();a.moveTo(c,p);if(v)a.lineTo(c,d);else a.moveTo(c,d);if(g)a.lineTo(h,d);else a.moveTo(h,d);if(m)a.lineTo(h,p);else a.moveTo(h,p);if(y)a.lineTo(c,p);else a.moveTo(c,p);a.stroke()}}function nt(e){function t(t,n,r,i,s,o){var u=t.points,a=t.pointsize;for(var f=0;f<u.length;f+=a){if(u[f]==null)continue;tt(u[f],u[f+1],u[f+2],n,r,i,s,o,h,e.bars.horizontal,e.bars.lineWidth)}}h.save();h.translate(m.left,m.top);h.lineWidth=e.bars.lineWidth;h.strokeStyle=e.color;var n;switch(e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}var r=e.bars.fill?function(t,n){return rt(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,r,e.xaxis,e.yaxis);h.restore()}function rt(t,n,r,i){var s=t.fill;if(!s)return null;if(t.fillColor)return bt(t.fillColor,r,i,n);var o=e.color.parse(n);o.a=typeof s=="number"?s:.4;o.normalize();return o.toString()}function it(){if(a.legend.container!=null){e(a.legend.container).html("")}else{t.find(".legend").remove()}if(!a.legend.show){return}var n=[],r=[],i=false,s=a.legend.labelFormatter,o,f;for(var l=0;l<u.length;++l){o=u[l];if(o.label){f=s?s(o.label,o):o.label;if(f){r.push({label:f,color:o.color})}}}if(a.legend.sorted){if(e.isFunction(a.legend.sorted)){r.sort(a.legend.sorted)}else if(a.legend.sorted=="reverse"){r.reverse()}else{var c=a.legend.sorted!="descending";r.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=c?1:-1})}}for(var l=0;l<r.length;++l){var h=r[l];if(l%a.legend.noColumns==0){if(i)n.push("</tr>");n.push("<tr>");i=true}n.push('<td class="legendColorBox"><div style="border:1px solid '+a.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+h.label+"</td>")}if(i)n.push("</tr>");if(n.length==0)return;var p='<table style="font-size:smaller;color:'+a.grid.color+'">'+n.join("")+"</table>";if(a.legend.container!=null)e(a.legend.container).html(p);else{var d="",v=a.legend.position,g=a.legend.margin;if(g[0]==null)g=[g,g];if(v.charAt(0)=="n")d+="top:"+(g[1]+m.top)+"px;";else if(v.charAt(0)=="s")d+="bottom:"+(g[1]+m.bottom)+"px;";if(v.charAt(1)=="e")d+="right:"+(g[0]+m.right)+"px;";else if(v.charAt(1)=="w")d+="left:"+(g[0]+m.left)+"px;";var y=e('<div class="legend">'+p.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(t);if(a.legend.backgroundOpacity!=0){var b=a.legend.backgroundColor;if(b==null){b=a.grid.backgroundColor;if(b&&typeof b=="string")b=e.color.parse(b);else b=e.color.extract(y,"background-color");b.a=1;b=b.toString()}var w=y.children();e('<div style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+d+"background-color:"+b+';"> </div>').prependTo(y).css("opacity",a.legend.backgroundOpacity)}}}function ut(e,t,n){var r=a.grid.mouseActiveRadius,i=r*r+1,s=null,o=false,f,l,c;for(f=u.length-1;f>=0;--f){if(!n(u[f]))continue;var h=u[f],p=h.xaxis,d=h.yaxis,v=h.datapoints.points,m=p.c2p(e),g=d.c2p(t),y=r/p.scale,b=r/d.scale;c=h.datapoints.pointsize;if(p.options.inverseTransform)y=Number.MAX_VALUE;if(d.options.inverseTransform)b=Number.MAX_VALUE;if(h.lines.show||h.points.show){for(l=0;l<v.length;l+=c){var w=v[l],E=v[l+1];if(w==null)continue;if(w-m>y||w-m<-y||E-g>b||E-g<-b)continue;var S=Math.abs(p.p2c(w)-e),x=Math.abs(d.p2c(E)-t),T=S*S+x*x;if(T<i){i=T;s=[f,l/c]}}}if(h.bars.show&&!s){var N,C;switch(h.bars.align){case"left":N=0;break;case"right":N=-h.bars.barWidth;break;default:N=-h.bars.barWidth/2}C=N+h.bars.barWidth;for(l=0;l<v.length;l+=c){var w=v[l],E=v[l+1],k=v[l+2];if(w==null)continue;if(u[f].bars.horizontal?m<=Math.max(k,w)&&m>=Math.min(k,w)&&g>=E+N&&g<=E+C:m>=w+N&&m<=w+C&&g>=Math.min(k,E)&&g<=Math.max(k,E))s=[f,l/c]}}}if(s){f=s[0];l=s[1];c=u[f].datapoints.pointsize;return{datapoint:u[f].datapoints.points.slice(l*c,(l+1)*c),dataIndex:l,series:u[f],seriesIndex:f}}return null}function at(e){if(a.grid.hoverable)ct("plothover",e,function(e){return e["hoverable"]!=false})}function ft(e){if(a.grid.hoverable)ct("plothover",e,function(e){return false})}function lt(e){ct("plotclick",e,function(e){return e["clickable"]!=false})}function ct(e,n,r){var i=c.offset(),s=n.pageX-i.left-m.left,o=n.pageY-i.top-m.top,u=L({left:s,top:o});u.pageX=n.pageX;u.pageY=n.pageY;var f=ut(s,o,r);if(f){f.pageX=parseInt(f.series.xaxis.p2c(f.datapoint[0])+i.left+m.left,10);f.pageY=parseInt(f.series.yaxis.p2c(f.datapoint[1])+i.top+m.top,10)}if(a.grid.autoHighlight){for(var l=0;l<st.length;++l){var h=st[l];if(h.auto==e&&!(f&&h.series==f.series&&h.point[0]==f.datapoint[0]&&h.point[1]==f.datapoint[1]))vt(h.series,h.point)}if(f)dt(f.series,f.datapoint,e)}t.trigger(e,[u,f])}function ht(){var e=a.interaction.redrawOverlayInterval;if(e==-1){pt();return}if(!ot)ot=setTimeout(pt,e)}function pt(){ot=null;p.save();l.clear();p.translate(m.left,m.top);var e,t;for(e=0;e<st.length;++e){t=st[e];if(t.series.bars.show)yt(t.series,t.point);else gt(t.series,t.point)}p.restore();E(b.drawOverlay,[p])}function dt(e,t,n){if(typeof e=="number")e=u[e];if(typeof t=="number"){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var i=mt(e,t);if(i==-1){st.push({series:e,point:t,auto:n});ht()}else if(!n)st[i].auto=false}function vt(e,t){if(e==null&&t==null){st=[];ht();return}if(typeof e=="number")e=u[e];if(typeof t=="number"){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var r=mt(e,t);if(r!=-1){st.splice(r,1);ht()}}function mt(e,t){for(var n=0;n<st.length;++n){var r=st[n];if(r.series==e&&r.point[0]==t[0]&&r.point[1]==t[1])return n}return-1}function gt(t,n){var r=n[0],i=n[1],s=t.xaxis,o=t.yaxis,u=typeof t.highlightColor==="string"?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(r<s.min||r>s.max||i<o.min||i>o.max)return;var a=t.points.radius+t.points.lineWidth/2;p.lineWidth=a;p.strokeStyle=u;var f=1.5*a;r=s.p2c(r);i=o.p2c(i);p.beginPath();if(t.points.symbol=="circle")p.arc(r,i,f,0,2*Math.PI,false);else t.points.symbol(p,r,i,f,false);p.closePath();p.stroke()}function yt(t,n){var r=typeof t.highlightColor==="string"?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),i=r,s;switch(t.bars.align){case"left":s=0;break;case"right":s=-t.bars.barWidth;break;default:s=-t.bars.barWidth/2}p.lineWidth=t.bars.lineWidth;p.strokeStyle=r;tt(n[0],n[1],n[2]||0,s,s+t.bars.barWidth,function(){return i},t.xaxis,t.yaxis,p,t.bars.horizontal,t.bars.lineWidth)}function bt(t,n,r,i){if(typeof t=="string")return t;else{var s=h.createLinearGradient(0,r,0,n);for(var o=0,u=t.colors.length;o<u;++o){var a=t.colors[o];if(typeof a!="string"){var f=e.color.parse(i);if(a.brightness!=null)f=f.scale("rgb",a.brightness);if(a.opacity!=null)f.a*=a.opacity;a=f.toString()}s.addColorStop(o/(u-1),a)}return s}}var u=[],a={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},f=null,l=null,c=null,h=null,p=null,d=[],v=[],m={left:0,right:0,top:0,bottom:0},g=0,y=0,b={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},w=this;w.setData=T;w.setupGrid=R;w.draw=V;w.getPlaceholder=function(){return t};w.getCanvas=function(){return f.element};w.getPlotOffset=function(){return m};w.width=function(){return g};w.height=function(){return y};w.offset=function(){var e=c.offset();e.left+=m.left;e.top+=m.top;return e};w.getData=function(){return u};w.getAxes=function(){var t={},n;e.each(d.concat(v),function(e,n){if(n)t[n.direction+(n.n!=1?n.n:"")+"axis"]=n});return t};w.getXAxes=function(){return d};w.getYAxes=function(){return v};w.c2p=L;w.p2c=A;w.getOptions=function(){return a};w.highlight=dt;w.unhighlight=vt;w.triggerRedrawOverlay=ht;w.pointOffset=function(e){return{left:parseInt(d[C(e,"x")-1].p2c(+e.x)+m.left,10),top:parseInt(v[C(e,"y")-1].p2c(+e.y)+m.top,10)}};w.shutdown=H;w.destroy=function(){H();t.removeData("plot").empty();u=[];a=null;f=null;l=null;c=null;h=null;p=null;d=[];v=[];b=null;st=[];w=null};w.resize=function(){var e=t.width(),n=t.height();f.resize(e,n);l.resize(e,n)};w.hooks=b;S(w);x(s);D();T(r);R();V();P();var st=[],ot=null}function i(e,t){return t*Math.floor(e/t)}var t=Object.prototype.hasOwnProperty;if(!e.fn.detach){e.fn.detach=function(){return this.each(function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}n.prototype.resize=function(e,t){if(e<=0||t<=0){throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t)}var n=this.element,r=this.context,i=this.pixelRatio;if(this.width!=e){n.width=e*i;n.style.width=e+"px";this.width=e}if(this.height!=t){n.height=t*i;n.style.height=t+"px";this.height=t}r.restore();r.save();r.scale(i,i)};n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};n.prototype.render=function(){var e=this._textCache;for(var n in e){if(t.call(e,n)){var r=this.getTextLayer(n),i=e[n];r.hide();for(var s in i){if(t.call(i,s)){var o=i[s];for(var u in o){if(t.call(o,u)){var a=o[u].positions;for(var f=0,l;l=a[f];f++){if(l.active){if(!l.rendered){r.append(l.element);l.rendered=true}}else{a.splice(f--,1);if(l.rendered){l.element.detach()}}}if(a.length==0){delete o[u]}}}}}r.show()}}};n.prototype.getTextLayer=function(t){var n=this.text[t];if(n==null){if(this.textContainer==null){this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}n=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return n};n.prototype.getTextInfo=function(t,n,r,i,s){var o,u,a,f;n=""+n;if(typeof r==="object"){o=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family}else{o=r}u=this._textCache[t];if(u==null){u=this._textCache[t]={}}a=u[o];if(a==null){a=u[o]={}}f=a[n];if(f==null){var l=e("<div></div>").html(n).css({position:"absolute","max-width":s,top:-9999}).appendTo(this.getTextLayer(t));if(typeof r==="object"){l.css({font:o,color:r.color})}else if(typeof r==="string"){l.addClass(r)}f=a[n]={width:l.outerWidth(true),height:l.outerHeight(true),element:l,positions:[]};l.detach()}return f};n.prototype.addText=function(e,t,n,r,i,s,o,u,a){var f=this.getTextInfo(e,r,i,s,o),l=f.positions;if(u=="center"){t-=f.width/2}else if(u=="right"){t-=f.width}if(a=="middle"){n-=f.height/2}else if(a=="bottom"){n-=f.height}for(var c=0,h;h=l[c];c++){if(h.x==t&&h.y==n){h.active=true;return}}h={active:true,rendered:false,element:l.length?f.element.clone():f.element,x:t,y:n};l.push(h);h.element.css({top:Math.round(n),left:Math.round(t),"text-align":u})};n.prototype.removeText=function(e,n,r,i,s,o){if(i==null){var u=this._textCache[e];if(u!=null){for(var a in u){if(t.call(u,a)){var f=u[a];for(var l in f){if(t.call(f,l)){var c=f[l].positions;for(var h=0,p;p=c[h];h++){p.active=false}}}}}}}else{var c=this.getTextInfo(e,i,s,o).positions;for(var h=0,p;p=c[h];h++){if(p.x==n&&p.y==r){p.active=false}}}};e.plot=function(t,n,i){var s=new r(e(t),n,i,e.plot.plugins);return s};e.plot.version="0.8.3";e.plot.plugins=[];e.fn.plot=function(t,n){return this.each(function(){e.plot(this,t,n)})}})(jQuery);(function(e){function n(e,t,n,r){var i=t.xaxis.options.mode=="categories",s=t.yaxis.options.mode=="categories";if(!(i||s))return;var o=r.format;if(!o){var u=t;o=[];o.push({x:true,number:true,required:true});o.push({y:true,number:true,required:true});if(u.bars.show||u.lines.show&&u.lines.fill){var a=!!(u.bars.show&&u.bars.zero||u.lines.show&&u.lines.zero);o.push({y:true,number:true,required:false,defaultValue:0,autoscale:a});if(u.bars.horizontal){delete o[o.length-1].y;o[o.length-1].x=true}}r.format=o}for(var f=0;f<o.length;++f){if(o[f].x&&i)o[f].number=false;if(o[f].y&&s)o[f].number=false}}function r(e){var t=-1;for(var n in e)if(e[n]>t)t=e[n];return t+1}function i(e){var t=[];for(var n in e.categories){var r=e.categories[n];if(r>=e.min&&r<=e.max)t.push([r,n])}t.sort(function(e,t){return e[0]-t[0]});return t}function s(t,n,r){if(t[n].options.mode!="categories")return;if(!t[n].categories){var s={},u=t[n].options.categories||{};if(e.isArray(u)){for(var a=0;a<u.length;++a)s[u[a]]=a}else{for(var f in u)s[f]=u[f]}t[n].categories=s}if(!t[n].options.ticks)t[n].options.ticks=i;o(r,n,t[n].categories)}function o(e,t,n){var i=e.points,s=e.pointsize,o=e.format,u=t.charAt(0),a=r(n);for(var f=0;f<i.length;f+=s){if(i[f]==null)continue;for(var l=0;l<s;++l){var c=i[f+l];if(c==null||!o[l][u])continue;if(!(c in n)){n[c]=a;++a}i[f+l]=n[c]}}}function u(e,t,n){s(t,"xaxis",n);s(t,"yaxis",n)}function a(e){e.hooks.processRawData.push(n);e.hooks.processDatapoints.push(u)}var t={xaxis:{categories:null},yaxis:{categories:null}};e.plot.plugins.push({init:a,options:t,name:"categories",version:"1.0"})})(jQuery);(function(e,t,n){"$:nomunge";function p(n){if(o===true){o=n||1}for(var u=r.length-1;u>=0;u--){var c=e(r[u]);if(c[0]==t||c.is(":visible")){var h=c.width(),d=c.height(),v=c.data(f);if(v&&(h!==v.w||d!==v.h)){c.trigger(a,[v.w=h,v.h=d]);o=n||true}}else{v=c.data(f);v.w=0;v.h=0}}if(s!==null){if(o&&(n==null||n-o<1e3)){s=t.requestAnimationFrame(p)}else{s=setTimeout(p,i[l]);o=false}}}var r=[],i=e.resize=e.extend(e.resize,{}),s,o=false,u="setTimeout",a="resize",f=a+"-special-event",l="pendingDelay",c="activeDelay",h="throttleWindow";i[l]=200;i[c]=20;i[h]=true;e.event.special[a]={setup:function(){if(!i[h]&&this[u]){return false}var t=e(this);r.push(this);t.data(f,{w:t.width(),h:t.height()});if(r.length===1){s=n;p()}},teardown:function(){if(!i[h]&&this[u]){return false}var t=e(this);for(var n=r.length-1;n>=0;n--){if(r[n]==this){r.splice(n,1);break}}t.removeData(f);if(!r.length){if(o){cancelAnimationFrame(s)}else{clearTimeout(s)}s=null}},add:function(t){function s(t,i,s){var o=e(this),u=o.data(f)||{};u.w=i!==n?i:o.width();u.h=s!==n?s:o.height();r.apply(this,arguments)}if(!i[h]&&this[u]){return false}var r;if(e.isFunction(t)){r=t;return s}else{r=t.handler;t.handler=s}}};if(!t.requestAnimationFrame){t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(function(){e((new Date).getTime())},i[c])}}()}if(!t.cancelAnimationFrame){t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}()}})(jQuery,this);(function(e){function n(e){function t(){var t=e.getPlaceholder();if(t.width()==0||t.height()==0)return;e.resize();e.setupGrid();e.draw()}function n(e,n){e.getPlaceholder().resize(t)}function r(e,n){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(n);e.hooks.shutdown.push(r)}var t={};e.plot.plugins.push({init:n,options:t,name:"resize",version:"1.0"})})(jQuery);if(typeof jQuery!=="undefined"){(function(e){e("#spinner").ajaxStart(function(){e(this).fadeIn()}).ajaxStop(function(){e(this).fadeOut()})})(jQuery)}